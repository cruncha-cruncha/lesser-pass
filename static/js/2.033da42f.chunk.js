/*! For license information please see 2.033da42f.chunk.js.LICENSE.txt */
(this["webpackJsonplesser-pass"]=this["webpackJsonplesser-pass"]||[]).push([[2],[function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}Object.create},function(e,t,n){"use strict";e.exports=n(51)},function(e,t,n){"use strict";e.exports=n(59)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return m})),n.d(t,"v",(function(){return C}));var r=n(0),o=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],s=o+1<e.length,a=s?e[o+1]:0,u=o+2<e.length,l=u?e[o+2]:0,c=i>>2,p=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(h=64)),r.push(n[c],n[p],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var s=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{i=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],s=o<e.length?n[e.charAt(o)]:0,a=++o<e.length?n[e.charAt(o)]:64,u=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==s||null==a||null==u)throw Error();var l=i<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var p=a<<6&192|u;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function s(e){return a(void 0,e)}function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}var u=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function d(){return"object"===typeof self&&self.self===self}function f(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function g(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function v(){return c().indexOf("Electron/")>=0}function y(){var e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function m(){return c().indexOf("MSAppHost/")>=0}function w(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}}))}function b(){return!(!navigator||!navigator.cookieEnabled)}var E=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.code=n,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,S.prototype.create),i}return Object(r.c)(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],s=i?O(i,r):"Error",a=this.serviceName+": "+s+" ("+o+").",u=new E(o,a,r);return u},e}();function O(e,t){return e.replace(_,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],p=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^u&(l^c),s=1518500249):(i=u^l^c,s=1859775393):r<60?(i=u&l|c&(u|l),s=2400959708):(i=u^l^c,s=3395469782);o=(a<<5|a>>>27)+i+p+s+n[r]&4294967295;p=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e}}();function T(e,t){var n=new A(e,t);return n.subscribe.bind(n)}var A=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"===typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function P(){}function D(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}function I(e){return e&&e._delegate?e._delegate:e}}).call(this,n(28))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(33);var o=n(22),i=n(35);function s(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(e,t)||Object(o.a)(e,t)||Object(i.a)()}},function(e,t,n){"use strict";var r,o,i=n(0),s=n(3),a=n(20),u=n(17),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.b("app","Firebase",l),p="@firebase/app",h="[DEFAULT]",d=((o={})[p]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),f=new u.b("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s.i)(e),this.container=new a.b(t.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"===typeof o&&null!==o||(o={name:o});var i=o;void 0===i.name&&(i.name=h);var a=i.name;if("string"!==typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(s.f)(t,a))throw c.create("duplicate-app",{appName:a});var u=new e(n,i,r);return t[a]=u,u},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=d[e])&&void 0!==r?r:e;n&&(o+="-"+n);var s=o.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var l=['Unable to register library "'+o+'" with version "'+t+'":'];return s&&l.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),s&&u&&l.push("and"),u&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}i(new a.a(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw c.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:i,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(e=e||h,!Object(s.f)(t,e))throw c.create("no-app",{appName:e});return t[e]}function i(i){var a=i.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var u=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[a])throw c.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==i.serviceProps&&Object(s.j)(u,i.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,i.multipleInstances?e:[])}}for(var l=0,p=Object.keys(t);l<p.length;l++){var h=p[l];t[h]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(g);return t.INTERNAL=Object(i.a)(Object(i.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.j)(t,e)},createSubscribe:s.h,ErrorFactory:s.b,deepExtend:s.j}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(s.m)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s.s)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,e)};var C=v;!function(e,t){e.INTERNAL.registerComponent(new a.a("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(p,"0.6.28",t),e.registerVersion("fire-js","")}(C),t.a=C},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var s=o.apply(null,r);s&&e.push(s)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(61)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(4);var r=n(1),o=n.n(r),i=o.a.createContext({});i.Consumer,i.Provider;function s(e,t){var n=Object(r.useContext)(i);return e||n[t]||t}},function(e,t,n){e.exports=n(56)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return el})),n.d(t,"b",(function(){return qa})),n.d(t,"c",(function(){return Ga})),n.d(t,"d",(function(){return al})),n.d(t,"e",(function(){return rl})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return ol})),n.d(t,"h",(function(){return hl})),n.d(t,"i",(function(){return pl})),n.d(t,"j",(function(){return dl})),n.d(t,"k",(function(){return Zu})),n.d(t,"l",(function(){return gl})),n.d(t,"m",(function(){return ml})),n.d(t,"n",(function(){return il})),n.d(t,"o",(function(){return vl})),n.d(t,"p",(function(){return ka})),n.d(t,"q",(function(){return tl})),n.d(t,"r",(function(){return wl}));var r=n(0),o=n(3),i=n(17),s=n(16),a=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();a.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(t,e),t}(Error),c=new i.b("@firebase/firestore");function p(){return c.logLevel}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.DEBUG){var o=t.map(g);c.debug.apply(c,Object(r.f)(["Firestore (8.7.0): "+e],o))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.ERROR){var o=t.map(g);c.error.apply(c,Object(r.f)(["Firestore (8.7.0): "+e],o))}}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=i.a.WARN){var o=t.map(g);c.warn.apply(c,Object(r.f)(["Firestore (8.7.0): "+e],o))}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function v(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function y(e,t){e||v()}function m(e,t){return e}function w(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var C=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=w(40),o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length));return n},e}();function b(e,t){return e<t?-1:e>t?1:0}function E(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function S(e){return e+"\0"}var O=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new l(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new l(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?b(this.nanoseconds,e.nanoseconds):b(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new O(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function R(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function T(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var P=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],o=0,i=e;o<i.length;o++){var s=i[o];if(s.indexOf("//")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(P),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return I.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new l(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<e.length;){var a=e[o];if("\\"===a){if(o+1===e.length)throw new l(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new l(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new l(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(P),L=function(){function e(e){this.fields=e,e.sort(N.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return E(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),x=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return b(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();x.EMPTY_BYTE_STRING=new x("");var F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(e){if(y(!!e),"string"==typeof e){var t=0,n=F.exec(e);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:k(e.seconds),nanos:k(e.nanos)}}function k(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function G(e){return"string"==typeof e?x.fromBase64String(e):x.fromUint8Array(e)}function V(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j(e){var t=e.mapValue.fields.__previous_value__;return V(t)?j(t):t}function H(e){var t=M(e.mapValue.fields.__local_write_time__.timestampValue);return new O(t.seconds,t.nanos)}function W(e){return null==e}function B(e){return 0===e&&1/e==-1/0}function U(e){return"number"==typeof e&&Number.isInteger(e)&&!B(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var z=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(D.fromString(t))},e.fromName=function(t){return new e(D.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===D.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return D.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new D(t.slice()))},e}();function q(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?V(e)?4:10:v()}function K(e,t){var n=q(e);if(n!==q(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return H(e).isEqual(H(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=M(e.timestampValue),r=M(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return G(e.bytesValue).isEqual(G(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return k(e.geoPointValue.latitude)===k(t.geoPointValue.latitude)&&k(e.geoPointValue.longitude)===k(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return k(e.integerValue)===k(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=k(e.doubleValue),r=k(t.doubleValue);return n===r?B(n)===B(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return E(e.arrayValue.values||[],t.arrayValue.values||[],K);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(R(n)!==R(r))return!1;for(var o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!K(n[o],r[o])))return!1;return!0}(e,t);default:return v()}}function Y(e,t){return void 0!==(e.values||[]).find((function(e){return K(e,t)}))}function Q(e,t){var n=q(e),r=q(t);if(n!==r)return b(n,r);switch(n){case 0:return 0;case 1:return b(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=k(e.integerValue||e.doubleValue),r=k(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $(e.timestampValue,t.timestampValue);case 4:return $(H(e),H(t));case 5:return b(e.stringValue,t.stringValue);case 6:return function(e,t){var n=G(e),r=G(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),o=0;o<n.length&&o<r.length;o++){var i=b(n[o],r[o]);if(0!==i)return i}return b(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=b(k(e.latitude),k(t.latitude));return 0!==n?n:b(k(e.longitude),k(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],o=0;o<n.length&&o<r.length;++o){var i=Q(n[o],r[o]);if(i)return i}return b(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(var s=0;s<r.length&&s<i.length;++s){var a=b(r[s],i[s]);if(0!==a)return a;var u=Q(n[r[s]],o[i[s]]);if(0!==u)return u}return b(r.length,i.length)}(e.mapValue,t.mapValue);default:throw v()}}function $(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return b(e,t);var n=M(e),r=M(t),o=b(n.seconds,r.seconds);return 0!==o?o:b(n.nanos,r.nanos)}function X(e){return J(e)}function J(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=M(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?G(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,z.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,o=e.values||[];r<o.length;r++)n?n=!1:t+=",",t+=J(o[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var i=o[r];n?n=!1:t+=",",t+=i+":"+J(e.fields[i])}return t+"}"}(e.mapValue):v();var t,n}function Z(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oe(e){return!!e&&"mapValue"in e}function ie(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},M(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return T(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ie(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ie(e.arrayValue.values[r]);return n}return Object.assign({},e)}var se=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!oe(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ie(t)},e.prototype.setAll=function(e){var t=this,n=N.emptyPath(),r={},o=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var s=t.getFieldsMap(n);t.applyChanges(s,r,o),r={},o=[],n=i.popLast()}e?r[i.lastSegment()]=ie(e):o.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,o)},e.prototype.delete=function(e){var t=this.field(e.popLast());oe(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return K(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];oe(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){T(t,(function(t,n){return e[t]=n}));for(var r=0,o=n;r<o.length;r++){var i=o[r];delete e[i]}},e.prototype.clone=function(){return new e(ie(this.value))},e}();function ae(e){var t=[];return T(e.fields,(function(e,n){var r=new N([e]);if(oe(n)){var o=ae(n.mapValue).fields;if(0===o.length)t.push(r);else for(var i=0,s=o;i<s.length;i++){var a=s[i];t.push(r.child(a))}}else t.push(r)})),new L(t)}var ue=function(){function e(e,t,n,r,o){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,_.min(),se.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,se.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,se.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=se.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=se.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),le=function(e,t,n,r,o,i,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.h=null};function ce(e,t,n,r,o,i,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),new le(e,t,n,r,o,i,s)}function pe(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+X(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),W(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Oe(t.startAt)),t.endAt&&(n+="|ub:",n+=Oe(t.endAt)),t.h=n}return t.h}function he(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Re(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],i=t.filters[r],o.op!==i.op||!o.field.isEqual(i.field)||!K(o.value,i.value))return!1;var o,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ae(e.startAt,t.startAt)&&Ae(e.endAt,t.endAt)}function de(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var fe=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).field=t,o.op=n,o.value=r,o}return Object(r.c)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ge(e,n,r):"array-contains"===n?new we(e,r):"in"===n?new Ce(e,r):"not-in"===n?new be(e,r):"array-contains-any"===n?new Ee(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ve(e,n):new ye(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Q(t,this.value)):null!==t&&q(this.value)===q(t)&&this.m(Q(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ge=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,r)||this).key=z.fromName(r.referenceValue),o}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=z.comparator(e.key,this.key);return this.m(t)},t}(fe),ve=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=me("in",n),r}return Object(r.c)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fe),ye=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=me("not-in",n),r}return Object(r.c)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(fe);function me(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return z.fromName(e.referenceValue)}))}var we=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&Y(t.arrayValue,this.value)},t}(fe),Ce=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Y(this.value.arrayValue,t)},t}(fe),be=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){if(Y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Y(this.value.arrayValue,t)},t}(fe),Ee=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.c)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Y(t.value.arrayValue,e)}))},t}(fe),Se=function(e,t){this.position=e,this.before=t};function Oe(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return X(e)})).join(",")}var _e=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Re(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Te(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var i=t[o],s=e.position[o];if(r=i.field.isKeyField()?z.comparator(z.fromName(s.referenceValue),n.key):Q(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ae(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!K(e.position[n],t.position[n]))return!1;return!0}var Pe=function(e,t,n,r,o,i,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function De(e,t,n,r,o,i,s,a){return new Pe(e,t,n,r,o,i,s,a)}function Ie(e){return new Pe(e)}function Ne(e){return!W(e.limit)&&"F"===e.limitType}function Le(e){return!W(e.limit)&&"L"===e.limitType}function xe(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fe(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Me(e){return null!==e.collectionGroup}function ke(e){var t=m(e);if(null===t.p){t.p=[];var n=Fe(t),r=xe(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new _e(n)),t.p.push(new _e(N.keyField(),"asc"));else{for(var o=!1,i=0,s=t.explicitOrderBy;i<s.length;i++){var a=s[i];t.p.push(a),a.field.isKeyField()&&(o=!0)}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new _e(N.keyField(),u))}}}return t.p}function Ge(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=ce(t.path,t.collectionGroup,ke(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ke(t);r<o.length;r++){var i=o[r],s="desc"===i.dir?"asc":"desc";n.push(new _e(i.field,s))}var a=t.endAt?new Se(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Se(t.startAt.position,!t.startAt.before):null;t.T=ce(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function Ve(e,t,n){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function je(e,t){return he(Ge(e),Ge(t))&&e.limitType===t.limitType}function He(e){return pe(Ge(e))+"|lt:"+e.limitType}function We(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+X(t.value);var t})).join(", ")+"]"),W(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Oe(e.startAt)),e.endAt&&(t+=", endAt: "+Oe(e.endAt)),"Target("+t+")"}(Ge(e))+"; limitType="+e.limitType+")"}function Be(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var o=r[n];if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Te(e.startAt,ke(e),t))&&(!e.endAt||!Te(e.endAt,ke(e),t))}(e,t)}function Ue(e){return function(t,n){for(var r=!1,o=0,i=ke(e);o<i.length;o++){var s=i[o],a=ze(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ze(e,t,n){var r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Q(r,o):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function qe(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B(t)?"-0":t}}function Ke(e){return{integerValue:""+e}}function Ye(e,t){return U(t)?Ke(t):qe(e,t)}var Qe=function(){this._=void 0};function $e(e,t,n){return e instanceof Ze?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof et?tt(e,t):e instanceof nt?rt(e,t):function(e,t){var n=Je(e,t),r=it(n)+it(e.A);return ee(n)&&ee(e.A)?Ke(r):qe(e.R,r)}(e,t)}function Xe(e,t,n){return e instanceof et?tt(e,t):e instanceof nt?rt(e,t):n}function Je(e,t){return e instanceof ot?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t}(Qe),et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.c)(t,e),t}(Qe);function tt(e,t){for(var n=st(t),r=function(e){n.some((function(t){return K(t,e)}))||n.push(e)},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var nt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.c)(t,e),t}(Qe);function rt(e,t){for(var n=st(t),r=function(e){n=n.filter((function(t){return!K(t,e)}))},o=0,i=e.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.c)(t,e),t}(Qe);function it(e){return k(e.integerValue||e.doubleValue)}function st(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var at=function(e,t){this.field=e,this.transform=t},ut=function(e,t){this.version=e,this.transformResults=t},lt=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ct(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pt=function(){};function ht(e,t,n){e instanceof yt?function(e,t,n){var r=e.value.clone(),o=Ct(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mt?function(e,t,n){if(ct(e.precondition,t)){var r=Ct(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(wt(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dt(e,t,n){e instanceof yt?function(e,t,n){if(ct(e.precondition,t)){var r=e.value.clone(),o=bt(e.fieldTransforms,n,t);r.setAll(o),t.convertToFoundDocument(vt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mt?function(e,t,n){if(ct(e.precondition,t)){var r=bt(e.fieldTransforms,n,t),o=t.data;o.setAll(wt(e)),o.setAll(r),t.convertToFoundDocument(vt(t),o).setHasLocalMutations()}}(e,t,n):function(e,t){ct(e.precondition,t)&&t.convertToNoDocument(_.min())}(e,t)}function ft(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var i=o[r],s=t.data.field(i.field),a=Je(i.transform,s||null);null!=a&&(null==n&&(n=se.empty()),n.set(i.field,a))}return n||null}function gt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&E(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof nt&&t instanceof nt?E(e.elements,t.elements,K):e instanceof ot&&t instanceof ot?K(e.A,t.A):e instanceof Ze&&t instanceof Ze}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vt(e){return e.isFoundDocument()?e.version:_.min()}var yt=function(e){function t(t,n,r,o){void 0===o&&(o=[]);var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.precondition=r,i.fieldTransforms=o,i.type=0,i}return Object(r.c)(t,e),t}(pt),mt=function(e){function t(t,n,r,o,i){void 0===i&&(i=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=o,s.fieldTransforms=i,s.type=1,s}return Object(r.c)(t,e),t}(pt);function wt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ct(e,t,n){var r=new Map;y(e.length===n.length);for(var o=0;o<n.length;o++){var i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Xe(s,a,n[o]))}return r}function bt(e,t,n){for(var r=new Map,o=0,i=e;o<i.length;o++){var s=i[o],a=s.transform,u=n.data.field(s.field);r.set(s.field,$e(a,u,t))}return r}var Et,St,Ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.c)(t,e),t}(pt),_t=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.c)(t,e),t}(pt),Rt=function(e){this.count=e};function Tt(e){switch(e){case u.OK:return v();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return v()}}function At(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case Et.OK:return u.OK;case Et.CANCELLED:return u.CANCELLED;case Et.UNKNOWN:return u.UNKNOWN;case Et.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case Et.INTERNAL:return u.INTERNAL;case Et.UNAVAILABLE:return u.UNAVAILABLE;case Et.UNAUTHENTICATED:return u.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case Et.NOT_FOUND:return u.NOT_FOUND;case Et.ALREADY_EXISTS:return u.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return u.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case Et.ABORTED:return u.ABORTED;case Et.OUT_OF_RANGE:return u.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return u.UNIMPLEMENTED;case Et.DATA_LOSS:return u.DATA_LOSS;default:return v()}}(St=Et||(Et={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";var Pt=function(){function e(e,t){this.comparator=e,this.root=t||It.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,It.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Dt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Dt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Dt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Dt(this.root,e,this.comparator,!0)},e}(),Dt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),It=function(){function e(t,n,r,o,i){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();var e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)},e}();It.EMPTY=null,It.RED=!0,It.BLACK=!1,It.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new It(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Nt=function(){function e(e){this.comparator=e,this.data=new Pt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Lt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Lt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Lt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),xt=new Pt(z.comparator);function Ft(){return xt}var Mt=new Pt(z.comparator);function kt(){return Mt}var Gt=new Pt(z.comparator);function Vt(){return Gt}var jt=new Nt(z.comparator);function Ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=jt,r=0,o=e;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var Wt=new Nt(b);function Bt(){return Wt}var Ut=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,zt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_.min(),r,Bt(),Ft(),Ht())},e}(),zt=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(x.EMPTY_BYTE_STRING,n,Ht(),Ht(),Ht())},e}(),qt=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Kt=function(e,t){this.targetId=e,this.V=t},Yt=function(e,t,n,r){void 0===n&&(n=x.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Qt=function(){function e(){this.S=0,this.D=Jt(),this.C=x.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ht(),t=Ht(),n=Ht();return this.D.forEach((function(r,o){switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new zt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Jt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),$t=function(){function e(e){this.W=e,this.G=new Map,this.H=Ft(),this.J=Xt(),this.Y=new Nt(b)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var o=0,i=e.removedTargetIds;o<i.length;o++)r=i[o],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:v()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var o=r.target;if(de(o))if(0===n){var i=new z(o.path);this.tt(t,i,ue.newNoDocument(i,_.min()))}else y(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,o){var i=t.ot(o);if(i){if(r.current&&de(i.target)){var s=new z(i.target.path);null!==t.H.get(s)||t.at(o,s)||t.tt(o,s,ue.newNoDocument(s,e))}r.$&&(n.set(o,r.M()),r.L())}}));var r=Ht();this.J.forEach((function(e,n){var o=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(o=!1,!1)})),o&&(r=r.add(e))}));var o=new Ut(e,n,this.Y,this.H,r);return this.H=Ft(),this.J=Xt(),this.Y=new Nt(b),o},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Qt,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Nt(b),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||h("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Qt),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Xt(){return new Pt(z.comparator)}function Jt(){return new Pt(z.comparator)}var Zt={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tn=function(e,t){this.databaseId=e,this.I=t};function nn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rn(e,t){return e.I?t.toBase64():t.toUint8Array()}function on(e,t){return nn(e,t.toTimestamp())}function sn(e){return y(!!e),_.fromTimestamp(function(e){var t=M(e);return new O(t.seconds,t.nanos)}(e))}function an(e,t){return function(e){return new D(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function un(e){var t=D.fromString(e);return y(Nn(t)),t}function ln(e,t){return an(e.databaseId,t.path)}function cn(e,t){var n=un(t);if(n.get(1)!==e.databaseId.projectId)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new l(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(fn(n))}function pn(e,t){return an(e.databaseId,t)}function hn(e){var t=un(e);return 4===t.length?D.emptyPath():fn(t)}function dn(e){return new D(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fn(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gn(e,t,n){return{name:ln(e,t),fields:n.value.mapValue.fields}}function vn(e,t,n){var r=cn(e,t.name),o=sn(t.updateTime),i=new se({mapValue:{fields:t.fields}}),s=ue.newFoundDocument(r,o,i);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function yn(e,t){var n;if(t instanceof yt)n={update:gn(e,t.key,t.value)};else if(t instanceof Ot)n={delete:ln(e,t.key)};else if(t instanceof mt)n={update:gn(e,t.key,t.data),updateMask:In(t.fieldMask)};else{if(!(t instanceof _t))return v();n={verify:ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ot)return{fieldPath:t.field.canonicalString(),increment:n.A};throw v()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:on(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function mn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?lt.updateTime(sn(e.updateTime)):void 0!==e.exists?lt.exists(e.exists):lt.none()}(t.currentDocument):lt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),n=new Ze;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new et(r)}else if("removeAllFromArray"in t){var o=t.removeAllFromArray.values||[];n=new nt(o)}else"increment"in t?n=new ot(e,t.increment):v();var i=N.fromServerFormat(t.fieldPath);return new at(i,n)}(e,t)})):[];if(t.update){t.update.name;var o=cn(e,t.update.name),i=new se({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){var t=e.fieldPaths||[];return new L(t.map((function(e){return N.fromServerFormat(e)})))}(t.updateMask);return new mt(o,i,s,n,r)}return new yt(o,i,n,r)}if(t.delete){var a=cn(e,t.delete);return new Ot(a,n)}if(t.verify){var u=cn(e,t.verify);return new _t(u,n)}return v()}function wn(e,t){return{documents:[pn(e,t.path)]}}function Cn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:Tn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tn(e.field),op:Rn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);o&&(n.structuredQuery.where=o);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tn(e.field),direction:_n(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var s=function(e,t){return e.I||W(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Sn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Sn(t.endAt)),n}function bn(e){var t=hn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){y(1===r);var i=n.from[0];i.allDescendants?o=i.collectionId:t=t.child(i.collectionId)}var s=[];n.where&&(s=En(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return function(e){return new _e(An(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return W(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=On(n.startAt));var c=null;return n.endAt&&(c=On(n.endAt)),De(t,o,a,s,u,"F",l,c)}function En(e){return e?void 0!==e.unaryFilter?[Dn(e)]:void 0!==e.fieldFilter?[Pn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return En(e)})).reduce((function(e,t){return e.concat(t)})):v():[]}function Sn(e){return{before:e.before,values:e.position}}function On(e){var t=!!e.before,n=e.values||[];return new Se(n,t)}function _n(e){return Zt[e]}function Rn(e){return en[e]}function Tn(e){return{fieldPath:e.canonicalString()}}function An(e){return N.fromServerFormat(e.fieldPath)}function Pn(e){return fe.create(An(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=An(e.unaryFilter.field);return fe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=An(e.unaryFilter.field);return fe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=An(e.unaryFilter.field);return fe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=An(e.unaryFilter.field);return fe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function In(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ln(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fn(t)),t=xn(e.get(n),t);return Fn(t)}function xn(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var i=e.charAt(o);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Fn(e){return e+"\x01\x01"}function Mn(e){var t=e.length;if(y(t>=2),2===t)return y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),D.emptyPath();for(var n=t-2,r=[],o="",i=0;i<t;){var s=e.indexOf("\x01",i);switch((s<0||s>n)&&v(),e.charAt(s+1)){case"\x01":var a=e.substring(i,s),u=void 0;0===o.length?u=a:(u=o+=a,o=""),r.push(u);break;case"\x10":o+=e.substring(i,s),o+="\0";break;case"\x11":o+=e.substring(i,s+1);break;default:v()}i=s+2}return new D(r)}var kn=function(e,t){this.seconds=e,this.nanoseconds=t},Gn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Gn.store="owner",Gn.key="owner";var Vn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vn.store="mutationQueues",Vn.keyPath="userId";var jn=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Hn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ln(t)]},e.key=function(e,t,n){return[e,Ln(t),n]},e}();Hn.store="documentMutations",Hn.PLACEHOLDER=new Hn;var Wn=function(e,t){this.path=e,this.readTime=t},Bn=function(e,t){this.path=e,this.version=t},Un=function(e,t,n,r,o,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i};Un.store="remoteDocuments",Un.readTimeIndex="readTimeIndex",Un.readTimeIndexPath="readTime",Un.collectionReadTimeIndex="collectionReadTimeIndex",Un.collectionReadTimeIndexPath=["parentPath","readTime"];var zn=function(e){this.byteSize=e};zn.store="remoteDocumentGlobal",zn.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,o,i,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=s};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var Kn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];var Yn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var Qn=function(e,t){this.collectionId=e,this.parent=t};Qn.store="collectionParents",Qn.keyPath=["collectionId","parent"];var $n=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};$n.store="clientMetadata",$n.keyPath="clientId";var Xn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Jn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],Object(r.f)(Object(r.f)([],[Vn.store,jn.store,Hn.store,Un.store,qn.store,Gn.store,Yn.store,Kn.store]),[$n.store])),[zn.store])),[Qn.store])),[Xn.store,Jn.store]),er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tr=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),nr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},rr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,o=0,i=!1;t.forEach((function(t){++r,t.next((function(){++o,i&&o===r&&e()}),(function(e){return n(e)}))})),i=!0,o===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},o=0,i=t;o<i.length;o++)r(i[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,o){r.push(t.call(n,e,o))})),this.waitFor(r)},e}(),or=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new ar(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=hr(t.target.error);n.ft.reject(new ar(e,r))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(t){throw new ar(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(h("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new lr(t)},e}(),ir=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(o.l)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return h("SimpleDb","Removing database:",e),cr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(o.l)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/lesser-pass",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(e){var n=e.target.result;t(n)},o.onblocked=function(){r(new ar(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new l(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ar(e,n))},o.onupgradeneeded=function(e){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,o.transaction,e.oldVersion,n.version).next((function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s,a,u,l;return Object(r.d)(this,(function(c){switch(c.label){case 0:i="readonly"===t,s=0,a=function(){var t,a,l,c,p;return Object(r.d)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=or.open(u.db,e,i?"readonly":"readwrite",n),a=o(t).catch((function(e){return t.abort(e),rr.reject(e)})).toPromise(),l={},a.catch((function(){})),[4,t.dt];case 3:return[2,(l.value=(r.sent(),a),l)];case 4:return c=r.sent(),p="FirebaseError"!==c.name&&s<3,h("SimpleDb","Transaction failed with error:",c.message,"Retrying:",p),u.close(),p?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sr=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return cr(this.Pt.delete())},e}(),ar=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(t,e),t}(l);function ur(e){return"IndexedDbTransactionError"===e.name}var lr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(h("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cr(n)},e.prototype.add=function(e){return h("SimpleDb","ADD",this.store.name,e,e),cr(this.store.add(e))},e.prototype.get=function(e){var t=this;return cr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),h("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return h("SimpleDb","DELETE",this.store.name,e),cr(this.store.delete(e))},e.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),cr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new rr((function(n,r){t.onerror=function(e){var t=hr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new rr((function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var i=new sr(o),s=t(o.primaryKey,o.value,i);if(s instanceof rr){var a=s.catch((function(e){return i.done(),rr.reject(e)}));n.push(a)}i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function cr(e){return new rr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hr(e.target.error);n(t)}}))}var pr=!1;function hr(e){var t=ir._t(Object(o.l)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new l("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pr||(pr=!0,setTimeout((function(){throw r}),0)),r}}return e}var dr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.c)(t,e),t}(tr);function fr(e,t){var n=m(e);return ir.It(n.Mt,t)}var gr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(e.key)&&ht(o,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(i=n[t]).key.isEqual(e.key)&&dt(i,e,this.localWriteTime);for(var r=0,o=this.mutations;r<o.length;r++){var i;(i=o[r]).key.isEqual(e.key)&&dt(i,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),o=r;t.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(_.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ht())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&E(this.mutations,e.mutations,(function(e,t){return gt(e,t)}))&&E(this.baseMutations,e.baseMutations,(function(e,t){return gt(e,t)}))},e}(),vr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){y(t.mutations.length===r.length);for(var o=Vt(),i=t.mutations,s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new e(t,n,r,o)},e}(),yr=function(){function e(e,t,n,r,o,i,s){void 0===o&&(o=_.min()),void 0===i&&(i=_.min()),void 0===s&&(s=x.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),mr=function(e){this.Lt=e};function wr(e,t){if(t.document)return vn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=z.fromSegments(t.noDocument.path),r=Or(t.noDocument.readTime),o=ue.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var i=z.fromSegments(t.unknownDocument.path);return r=Or(t.unknownDocument.version),ue.newUnknownDocument(i,r)}return v()}function Cr(e,t,n){var r=br(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nn(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Un(null,null,i,s,r,o)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Sr(t.version);return s=t.hasCommittedMutations,new Un(null,new Wn(a,u),null,s,r,o)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Sr(t.version);return new Un(new Bn(l,c),null,null,!0,r,o)}return v()}function br(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Er(e){var t=new O(e[0],e[1]);return _.fromTimestamp(t)}function Sr(e){var t=e.toTimestamp();return new kn(t.seconds,t.nanoseconds)}function Or(e){var t=new O(e.seconds,e.nanoseconds);return _.fromTimestamp(t)}function _r(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var i=t.mutations[r+1];o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map((function(t){return mn(e.Lt,t)})),a=O.fromMillis(t.localWriteTimeMs);return new gr(t.batchId,a,n,s)}function Rr(e){var t,n,r=Or(e.readTime),o=void 0!==e.lastLimboFreeSnapshotVersion?Or(e.lastLimboFreeSnapshotVersion):_.min();return void 0!==e.query.documents?(y(1===(n=e.query).documents.length),t=Ge(Ie(hn(n.documents[0])))):t=function(e){return Ge(bn(e))}(e.query),new yr(t,e.targetId,0,e.lastListenSequenceNumber,r,o,x.fromBase64String(e.resumeToken))}function Tr(e,t){var n,r=Sr(t.snapshotVersion),o=Sr(t.lastLimboFreeSnapshotVersion);n=de(t.target)?wn(e.Lt,t.target):Cn(e.Lt,t.target);var i=t.resumeToken.toBase64();return new qn(t.targetId,pe(t.target),r,i,t.sequenceNumber,o,n)}function Ar(e){var t=bn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ve(t,t.limit,"L"):t}var Pr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Dr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Or(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Dr(e).put({bundleId:(n=t).id,createTime:Sr(sn(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Ir(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ar(t.bundledQuery),readTime:Or(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Ir(e).put(function(e){return{name:e.name,readTime:Sr(sn(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Dr(e){return fr(e,Xn.store)}function Ir(e){return fr(e,Jn.store)}var Nr=function(){function e(){this.Bt=new Lr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),rr.resolve()},e.prototype.getCollectionParents=function(e,t){return rr.resolve(this.Bt.getEntries(t))},e}(),Lr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nt(D.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Nt(D.comparator)).toArray()},e}(),xr=function(){function e(){this.qt=new Lr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var i={collectionId:r,parent:Ln(o)};return Fr(e).put(i)}return rr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[S(t),""],!1,!0);return Fr(e).Nt(r).next((function(e){for(var r=0,o=e;r<o.length;r++){var i=o[r];if(i.collectionId!==t)break;n.push(Mn(i.parent))}return n}))},e}();function Fr(e){return fr(e,Qn.store)}var Mr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Gr(e,t,n){var r=e.store(jn.store),o=e.store(Hn.store),i=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(e,t,n){return a++,n.delete()}));i.push(u.next((function(){y(1===a)})));for(var l=[],c=0,p=n.mutations;c<p.length;c++){var h=p[c],d=Hn.key(t,h.key.path,n.batchId);i.push(o.delete(d)),l.push(h.key)}return rr.waitFor(i).next((function(){return l}))}function Vr(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);var jr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,o){return y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).$t({index:jn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,i=Br(e),s=Wr(e);return s.add({}).next((function(a){y("number"==typeof a);for(var u=new gr(a,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yn(e.Lt,t)})),o=n.mutations.map((function(t){return yn(e.Lt,t)}));return new jn(t,n.batchId,n.localWriteTime.toMillis(),r,o)}(o.R,o.userId,u),c=[],p=new Nt((function(e,t){return b(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var f=d[h],g=Hn.key(o.userId,f.key.path,a);p=p.add(f.key.path.popLast()),c.push(s.put(l)),c.push(i.put(g,Hn.PLACEHOLDER))}return p.forEach((function(t){c.push(o.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){o.Kt[a]=u.keys()})),rr.waitFor(c).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Wr(e).get(t).next((function(e){return e?(y(e.userId===n.userId),_r(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?rr.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return Wr(e).$t({index:jn.userMutationsIndex,range:o},(function(e,t,o){t.userId===n.userId&&(y(t.batchId>=r),i=_r(n.R,t)),o.done()})).next((function(){return i}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wr(e).$t({index:jn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).Nt(jn.userMutationsIndex,n).next((function(e){return e.map((function(e){return _r(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Hn.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),i=[];return Br(e).$t({range:o},(function(r,o,s){var a=r[0],u=r[1],l=r[2],c=Mn(u);if(a===n.userId&&t.path.isEqual(c))return Wr(e).get(l).next((function(e){if(!e)throw v();y(e.userId===n.userId),i.push(_r(n.R,e))}));s.done()})).next((function(){return i}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(b),o=[];return t.forEach((function(t){var i=Hn.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Br(e).$t({range:s},(function(e,o,i){var s=e[0],a=e[1],u=e[2],l=Mn(a);s===n.userId&&t.path.isEqual(l)?r=r.add(u):i.done()}));o.push(a)})),rr.waitFor(o).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,o=r.length+1,i=Hn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(i),a=new Nt(b);return Br(e).$t({range:s},(function(e,t,i){var s=e[0],u=e[1],l=e[2],c=Mn(u);s===n.userId&&r.isPrefixOf(c)?c.length===o&&(a=a.add(l)):i.done()})).next((function(){return n.Wt(e,a)}))},e.prototype.Wt=function(e,t){var n=this,r=[],o=[];return t.forEach((function(t){o.push(Wr(e).get(t).next((function(e){if(null===e)throw v();y(e.userId===n.userId),r.push(_r(n.R,e))})))})),rr.waitFor(o).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Gr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),rr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(Hn.prefixForUser(t.userId)),o=[];return Br(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var i=Mn(e[1]);o.push(i)}else r.done()})).next((function(){y(0===o.length)}))}))},e.prototype.containsKey=function(e,t){return Hr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Ur(e).get(this.userId).next((function(e){return e||new Vn(t.userId,-1,"")}))},e}();function Hr(e,t,n){var r=Hn.prefixForPath(t,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),s=!1;return Br(e).$t({range:i,kt:!0},(function(e,n,r){var i=e[0],a=e[1];e[2],i===t&&a===o&&(s=!0),r.done()})).next((function(){return s}))}function Wr(e){return fr(e,jn.store)}function Br(e){return fr(e,Hn.store)}function Ur(e){return fr(e,Vn.store)}var zr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),qr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new zr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return _.fromTimestamp(new O(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.Zt(e,o)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return Kr(e).$t((function(s,a){var u=Rr(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(o++,i.push(r.removeTargetData(e,u)))})).next((function(){return rr.waitFor(i)})).next((function(){return o}))},e.prototype.forEachTarget=function(e,t){return Kr(e).$t((function(e,n){var r=Rr(n);t(r)}))},e.prototype.Xt=function(e){return Yr(e).get(Yn.key).next((function(e){return y(null!==e),e}))},e.prototype.Zt=function(e,t){return Yr(e).put(Yn.key,t)},e.prototype.te=function(e,t){return Kr(e).put(Tr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=pe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Kr(e).$t({range:r,index:qn.queryTargetsIndexName},(function(e,n,r){var i=Rr(n);he(t,i.target)&&(o=i,r.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],i=Qr(e);return t.forEach((function(t){var s=Ln(t.path);o.push(i.put(new Kn(n,s))),o.push(r.referenceDelegate.addReference(e,n,t))})),rr.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=Qr(e);return rr.forEach(t,(function(t){var i=Ln(t.path);return rr.waitFor([o.delete([n,i]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Qr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qr(e),o=Ht();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Mn(e[1]),i=new z(r);o=o.add(i)})).next((function(){return o}))},e.prototype.containsKey=function(e,t){var n=Ln(t.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),o=0;return Qr(e).$t({index:Kn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())})).next((function(){return o>0}))},e.prototype.lt=function(e,t){return Kr(e).get(t).next((function(e){return e?Rr(e):null}))},e}();function Kr(e){return fr(e,qn.store)}function Yr(e){return fr(e,Yn.store)}function Qr(e){return fr(e,Kn.store)}function $r(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==er)throw e;return h("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Xr(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],s=b(n,o);return 0===s?b(r,i):s}var Jr=function(){function e(e){this.ne=e,this.buffer=new Nt(Xr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(t=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,$r(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),eo=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return rr.resolve(a.o);var r=new Jr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(Mr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Mr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,s,a,u,l,c=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return o=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),p()<=i.a.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-d)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})}))},e}(),to=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new eo(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return no(e,n)},e.prototype.removeReference=function(e,t,n){return no(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return no(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Ur(e).Ot((function(r){return Hr(e,r,t).next((function(e){return e&&(n=!0),rr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],i=0;return this.we(e,(function(s,a){if(a<=t){var u=n._e(e,s).next((function(t){if(!t)return i++,r.getEntry(e,s).next((function(){return r.removeEntry(s),Qr(e).delete([0,Ln(s.path)])}))}));o.push(u)}})).next((function(){return rr.waitFor(o)})).next((function(){return r.apply(e)})).next((function(){return i}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return no(e,t)},e.prototype.we=function(e,t){var n,r=Qr(e),o=a.o;return r.$t({index:Kn.documentTargetsIndex},(function(e,r){var i=e[0];e[1];var s=r.path,u=r.sequenceNumber;0===i?(o!==a.o&&t(new z(Mn(n)),o),o=u,n=s):o=a.o})).next((function(){o!==a.o&&t(new z(Mn(n)),o)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function no(e,t){return Qr(e).put(function(e,t){return new Kn(0,Ln(e.path),t)}(t,e.currentSequenceNumber))}var ro=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];if(this.equalsFn(s,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){T(this.inner,(function(t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];e(s,a)}}))},e.prototype.isEmpty=function(){return A(this.inner)},e}(),oo=function(){function e(){this.changes=new ro((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:_.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ue.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),io=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return uo(e).put(lo(t),n)},e.prototype.removeEntry=function(e,t){var n=uo(e),r=lo(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return uo(e).get(lo(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return uo(e).get(lo(t)).next((function(e){return{document:n.ye(t,e),size:Vr(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Ft();return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Ft(),o=new Pt(z.comparator);return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i),o=o.insert(e,Vr(t))})).next((function(){return{documents:r,Te:o}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),i=o.getNext();return uo(e).$t({range:r},(function(e,t,r){for(var s=z.fromSegments(e);i&&z.comparator(i,s)<0;)n(i,null),i=o.getNext();i&&i.isEqual(s)&&(n(i,t),i=o.hasNext()?o.getNext():null),i?r.Ct(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=o.hasNext()?o.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,o=Ft(),i=t.path.length+1,s={};if(n.isEqual(_.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),l=br(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Un.collectionReadTimeIndex}return uo(e).$t(s,(function(e,n,s){if(e.length===i){var a=wr(r.R,n);t.path.isPrefixOf(a.key.path)?Be(t,a)&&(o=o.insert(a.key,a)):s.done()}})).next((function(){return o}))},e.prototype.newChangeBuffer=function(e){return new so(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return ao(e).get(zn.key).next((function(e){return y(!!e),e}))},e.prototype.me=function(e,t){return ao(e).put(zn.key,t)},e.prototype.ye=function(e,t){if(t){var n=wr(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(_.min()))return n}return ue.newInvalidDocument(e)},e}(),so=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ro((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new Nt((function(e,t){return b(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,s){var a=t.Ae.get(i);if(s.document.isValidDocument()){var u=Cr(t.Ie.R,s.document,t.getReadTime(i));o=o.add(i.path.popLast());var l=Vr(u);r+=l-a,n.push(t.Ie.addEntry(e,i,u))}else if(r-=a,t.trackRemovals){var c=Cr(t.Ie.R,ue.newNoDocument(i,_.min()),t.getReadTime(i));n.push(t.Ie.addEntry(e,i,c))}else n.push(t.Ie.removeEntry(e,i))})),o.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(oo);function ao(e){return fr(e,zn.store)}function uo(e){return fr(e,Un.store)}function lo(e){return e.path.toArray()}var co=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var o=this;y(n<r&&n>=0&&r<=11);var i=new or("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Gn.store)}(e),function(e){e.createObjectStore(Vn.store,{keyPath:Vn.keyPath}),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Hn.store)}(e),po(e),function(e){e.createObjectStore(Un.store)}(e));var s=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kn.store),e.deleteObjectStore(qn.store),e.deleteObjectStore(Yn.store)}(e),po(e)),s=s.next((function(){return function(e){var t=e.store(Yn.store),n=new Yn(0,0,_.min().toTimestamp(),0);return t.put(Yn.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(jn.store).Nt().next((function(n){e.deleteObjectStore(jn.store),e.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var r=t.store(jn.store),o=n.map((function(e){return r.put(e)}));return rr.waitFor(o)}))}(e,i)}))),s=s.next((function(){!function(e){e.createObjectStore($n.store,{keyPath:$n.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return o.Re(i)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(zn.store)}(e),o.be(i)}))),n<7&&r>=7&&(s=s.next((function(){return o.ve(i)}))),n<8&&r>=8&&(s=s.next((function(){return o.Pe(e,i)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Un.store);t.createIndex(Un.readTimeIndex,Un.readTimeIndexPath,{unique:!1}),t.createIndex(Un.collectionReadTimeIndex,Un.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return o.Ve(i)}))),n<11&&r>=11&&(s=s.next((function(){!function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(e)}))),s},e.prototype.be=function(e){var t=0;return e.store(Un.store).$t((function(e,n){t+=Vr(n)})).next((function(){var n=new zn(t);return e.store(zn.store).put(zn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Vn.store),r=e.store(jn.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(jn.userMutationsIndex,o).next((function(r){return rr.forEach(r,(function(r){y(r.userId===n.userId);var o=_r(t.R,r);return Gr(e,n.userId,o).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Kn.store),n=e.store(Un.store);return e.store(Yn.store).get(Yn.key).next((function(e){var r=[];return n.$t((function(n,o){var i=new D(n),s=function(e){return[0,Ln(e)]}(i);r.push(t.get(s).next((function(n){return n?rr.resolve():function(n){return t.put(new Kn(0,Ln(n),e.highestListenSequenceNumber))}(i)})))})).next((function(){return rr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Qn.store,{keyPath:Qn.keyPath});var n=t.store(Qn.store),r=new Lr,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:Ln(o)})}};return t.store(Un.store).$t({kt:!0},(function(e,t){var n=new D(e);return o(n.popLast())})).next((function(){return t.store(Hn.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Mn(n);return o(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(qn.store);return n.$t((function(e,r){var o=Rr(r),i=Tr(t.R,o);return n.put(i)}))},e}();function po(e){e.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store)}var ho="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fo=function(){function e(t,n,r,o,i,s,a,c,p,h){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=i,this.window=s,this.document=a,this.De=p,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new l(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new to(this,o),this.Le=n+"main",this.R=new mr(c),this.Be=new ir(this.Le,11,new co(this.R)),this.qe=new qr(this.referenceDelegate,this.R),this.Ut=new xr,this.Ue=function(e,t){return new io(e,t)}(this.R,this.Ut),this.Ke=new Pr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,ho);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new a(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vo(t).put(new $n(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ur(t))return h("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return go(e).get(Gn.key).next((function(e){return rr.resolve(t.tn(e))}))},e.prototype.en=function(e){return vo(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,o,i=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fr(e,$n.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)o=n[t],this.Qe.removeItem(this.on(o.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?rr.resolve(!0):go(e).get(Gn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new l(u.FAILED_PRECONDITION,ho);return!1}}return!(!t.networkEnabled||!t.inForeground)||vo(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&h("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.b)(this,void 0,void 0,(function(){var e=this;return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gn.store,$n.store],(function(t){var n=new dr(t,a.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vo(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return jr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("IndexedDbPersistence","Starting transaction:",e);var o,i="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,i,Zn,(function(i){return o=new dr(i,r.Ne?r.Ne.next():a.o),"readwrite-primary"===t?r.Je(o).next((function(e){return!!e||r.Ye(o)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new l(u.FAILED_PRECONDITION,er);return n(o)})).next((function(e){return r.Ze(o).next((function(){return e}))})):r.dn(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return go(e).get(Gn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new l(u.FAILED_PRECONDITION,ho)}))},e.prototype.Ze=function(e){var t=new Gn(this.clientId,this.allowTabSynchronization,Date.now());return go(e).put(Gn.key,t)},e.yt=function(){return ir.yt()},e.prototype.Xe=function(e){var t=this,n=go(e);return n.get(Gn.key).next((function(e){return t.tn(e)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Gn.key)):rr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return h("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function go(e){return fr(e,Gn.store)}function vo(e){return fr(e,$n.store)}function yo(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var mo=function(e,t){this.progress=e,this.wn=t},wo=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,o=t;r<o.length;r++)o[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Me(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new z(t)).next((function(e){var t=kt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,o=t.collectionGroup,i=kt();return this.Ut.getCollectionParents(e,o).next((function(s){return rr.forEach(s,(function(s){var a=function(e,t){return new Pe(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return r.An(e,a,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.An=function(e,t,n){var r,o,i=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o=t,i.Rn(e,o,r).next((function(e){r=e;for(var t=0,n=o;t<n.length;t++)for(var i=n[t],s=0,a=i.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l);null==c&&(c=ue.newInvalidDocument(l),r=r.insert(l,c)),dt(u,c,i.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}))})).next((function(){return r.forEach((function(e,n){Be(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ht(),o=0,i=t;o<i.length;o++)for(var s=0,a=i[o].mutations;s<a.length;s++){var u=a[s];u instanceof mt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))},e}(),Co=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ht(),o=Ht(),i=0,s=n.docChanges;i<s.length;i++){var a=s[i];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),bo=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(_.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(s){var a=o.Cn(t,s);return(Ne(t)||Le(t))&&o.Nn(t.limitType,a,r,n)?o.Dn(e,t):(p()<=i.a.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),We(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Nt(Ue(e));return t.forEach((function(t,r){Be(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return p()<=i.a.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",We(t)),this.Sn.getDocumentsMatchingQuery(e,t,_.min())},e}(),Eo=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Pt(b),this.kn=new ro((function(e){return pe(e)}),he),this.$n=_.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new wo(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function So(e,t,n,r){return new Eo(e,t,n,r)}function Oo(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),o=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(s){return r=s,o=n.persistence.getMutationQueue(t),i=new wo(n.On,o,n.persistence.getIndexManager()),o.getAllMutationBatches(e)})).next((function(t){for(var n=[],o=[],s=Ht(),a=0,u=r;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,p=l.mutations;c<p.length;c++){var h=p[c];s=s.add(h.key)}}for(var d=0,f=t;d<f.length;d++){var g=f[d];o.push(g.batchId);for(var v=0,y=g.mutations;v<y.length;v++){var m=y[v];s=s.add(m.key)}}return i.pn(e,s).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:o}}))}))}))];case 1:return s=r.sent(),[2,(n._n=o,n.Mn=i,n.xn.Vn(n.Mn),s)]}}))}))}function _o(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var o=n.batch,i=o.keys(),s=rr.resolve();return i.forEach((function(e){s=s.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);y(null!==i),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((function(){return e._n.removeMutationBatch(t,o)}))}(n,e,t,o).next((function(){return o.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Ro(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function To(e,t){var n=m(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n.On.newChangeBuffer({trackRemovals:!0});o=n.Fn;var s=[];t.targetChanges.forEach((function(t,i){var a=o.get(i);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,i).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,i)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var l=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);o=o.insert(i,l),function(e,t,n){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&s.push(n.qe.updateTargetData(e,l))}}}));var a=Ft();if(t.documentUpdates.forEach((function(r,o){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Ao(e,i,t.documentUpdates,r,void 0).next((function(e){a=e}))),!r.isEqual(_.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));s.push(u)}return rr.waitFor(s).next((function(){return i.apply(e)})).next((function(){return n.Mn.En(e,a)})).next((function(){return a}))})).then((function(e){return n.Fn=o,e}))}function Ao(e,t,n,r,o){var i=Ht();return n.forEach((function(e){return i=i.add(e)})),t.getEntries(e,i).next((function(e){var i=Ft();return n.forEach((function(n,s){var a=e.get(n),u=(null==o?void 0:o.get(n))||r;s.isNoDocument()&&s.version.isEqual(_.min())?(t.removeEntry(n,u),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),i=i.insert(n,s)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),i}))}function Po(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Do(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(o){return o?(r=o,rr.resolve(r)):n.qe.allocateTargetId(e).next((function(o){return r=new yr(t,o,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Io(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:o=m(e),i=o.Fn.get(t),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,o.persistence.runTransaction("Release target",s,(function(e){return o.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(a=r.sent()))throw a;return h("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return o.Fn=o.Fn.remove(t),o.kn.delete(i.target),[2]}}))}))}function No(e,t,n){var r=m(e),o=_.min(),i=Ht();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=m(e),o=r.kn.get(n);return void 0!==o?rr.resolve(r.Fn.get(o)):r.qe.getTargetData(t,n)}(r,e,Ge(t)).next((function(t){if(t)return o=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?o:_.min(),n?i:Ht())})).next((function(e){return{documents:e,Bn:i}}))}))}function Lo(e,t){var n=m(e),r=m(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function xo(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=m(e),o=Ft(),i=br(n),s=uo(t),a=IDBKeyRange.lowerBound(i,!0);return s.$t({index:Un.readTimeIndex,range:a},(function(e,t){var n=wr(r.R,t);o=o.insert(n.key,n),i=t.readTime})).next((function(){return{wn:o,readTime:Er(i)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Fo(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=uo(e),n=_.min();return t.$t({index:Un.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Er(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Mo(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s,a,u,l,c,p,h,d,f;return Object(r.d)(this,(function(r){switch(r.label){case 0:for(i=m(e),s=Ht(),a=Ft(),u=Vt(),l=0,c=n;l<c.length;l++)p=c[l],h=t.qn(p.metadata.name),p.document&&(s=s.add(h)),a=a.insert(h,t.Un(p)),u=u.insert(h,t.Kn(p.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Do(i,function(e){return Ge(Ie(D.fromString("__bundle__/docs/"+e)))}(o))];case 1:return f=r.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ao(e,d,a,_.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next((function(){return i.qe.addMatchingKeys(e,s,f.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function ko(e,t,n){return void 0===n&&(n=Ht()),Object(r.b)(this,void 0,void 0,(function(){var o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Do(e,Ge(Ar(t.bundledQuery)))];case 1:return o=r.sent(),[2,(i=m(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=sn(t.readTime);if(o.snapshotVersion.compareTo(r)>=0)return i.Ke.saveNamedQuery(e,t);var s=o.withResumeToken(x.EMPTY_BYTE_STRING,r);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(e,s).next((function(){return i.qe.removeMatchingKeysForTargetId(e,o.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,o.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Go=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return rr.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:sn(n.createTime)}),rr.resolve()},e.prototype.getNamedQuery=function(e,t){return rr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ar(e.bundledQuery),readTime:sn(e.readTime)}}(t)),rr.resolve()},e}(),Vo=function(){function e(){this.Wn=new Nt(jo.Gn),this.zn=new Nt(jo.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new jo(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new jo(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new z(new D([])),r=new jo(n,e),o=new jo(n,e+1),i=[];return this.zn.forEachInRange([r,o],(function(e){t.Yn(e),i.push(e.key)})),i},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new z(new D([])),n=new jo(t,e),r=new jo(t,e+1),o=Ht();return this.zn.forEachInRange([n,r],(function(e){o=o.add(e.key)})),o},e.prototype.containsKey=function(e){var t=new jo(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),jo=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return z.comparator(e.key,t.key)||b(e.ns,t.ns)},e.Hn=function(e,t){return b(e.ns,t.ns)||z.comparator(e.key,t.key)},e}(),Ho=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Nt(jo.Gn)}return e.prototype.checkEmpty=function(e){return rr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var i=new gr(o,t,n,r);this._n.push(i);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new jo(u.key,o)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return rr.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return rr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),o=r<0?0:r;return rr.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return rr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new jo(t,0),o=new jo(t,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,o],(function(e){var t=n.os(e.ns);i.push(t)})),rr.resolve(i)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Nt(b);return t.forEach((function(e){var t=new jo(e,0),o=new jo(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,o],(function(e){r=r.add(e.ns)}))})),rr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,o=n;z.isDocumentKey(o)||(o=o.child(""));var i=new jo(new z(o),0),s=new Nt(b);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)}),i),rr.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;y(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(t.mutations,(function(o){var i=new jo(o.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new jo(t,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,rr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Wo=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Pt(z.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return rr.resolve(n?n.document.clone():ue.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Ft();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ue.newInvalidDocument(e))})),rr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ft(),o=new z(t.path.child("")),i=this.docs.getIteratorFrom(o);i.hasNext();){var s=i.getNext(),a=s.key,u=s.value,l=u.document,c=u.readTime;if(!t.path.isPrefixOf(a.path))break;c.compareTo(n)<=0||Be(t,l)&&(r=r.insert(l.key,l.clone()))}return rr.resolve(r)},e.prototype.fs=function(e,t){return rr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Bo(this)},e.prototype.getSize=function(e){return rr.resolve(this.size)},e}(),Bo=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.c)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,o){o.document.isValidDocument()?n.push(t.Ie.addEntry(e,o.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(oo),Uo=function(){function e(e){this.persistence=e,this.ds=new ro((function(e){return pe(e)}),he),this.lastRemoteSnapshotVersion=_.min(),this.highestTargetId=0,this.ws=0,this._s=new Vo,this.targetCount=0,this.ys=zr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),rr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return rr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return rr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),rr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new zr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,rr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),rr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,rr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,i=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),i.push(r.removeMatchingKeysForTargetId(e,a.targetId)),o++)})),rr.waitFor(i).next((function(){return o}))},e.prototype.getTargetCount=function(e){return rr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return rr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),rr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach((function(t){o.push(r.markPotentiallyOrphaned(e,t))})),rr.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),rr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return rr.resolve(n)},e.prototype.containsKey=function(e,t){return rr.resolve(this._s.containsKey(t))},e}(),zo=function(){function e(e,t){var n=this;this.gs={},this.Ne=new a(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Uo(this),this.Ut=new Nr,this.Ue=function(e,t){return new Wo(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new mr(t),this.Ke=new Go(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Ho(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;h("MemoryPersistence","Starting transaction:",e);var o=new qo(this.Ne.next());return this.referenceDelegate.Es(),n(o).next((function(e){return r.referenceDelegate.Ts(o).next((function(){return e}))})).toPromise().then((function(e){return o.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),qo=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.c)(t,e),t}(tr),Ko=function(){function e(e){this.persistence=e,this.As=new Vo,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw v()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),rr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),rr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),rr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var o=z.fromPath(r);return t.Ps(e,o).next((function(e){e||n.removeEntry(o)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Yo=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Qo(e,t){return"firestore_clients_"+e+"_"+t}function $o(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Xo(e,t){return"firestore_targets_"+e+"_"+t}Yo.UNAUTHENTICATED=new Yo(null),Yo.GOOGLE_CREDENTIALS=new Yo("google-credentials-uid"),Yo.FIRST_PARTY=new Yo("first-party-uid");var Jo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var o,i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new l(i.error.code,i.error.message)),s?new e(t,n,i.state,o):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,o=JSON.parse(n),i="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new l(o.error.code,o.error.message)),i?new e(t,o.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ei=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=Bt(),s=0;o&&s<r.activeTargetIds.length;++s)o=U(r.activeTargetIds[s]),i=i.add(r.activeTargetIds[s]);return o?new e(t,i):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ti=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),ni=function(){function e(){this.activeTargetIds=Bt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ri=function(){function e(e,t,n,r,o){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Pt(b),this.started=!1,this.$s=[];var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Qo(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ni),this.Ls=new RegExp("^firestore_clients_"+i+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+i+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+i+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,o,i,s,a,u,l,c,p,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(o=n[t])!==this.Ns&&(i=this.getItem(Qo(this.persistenceKey,o)))&&(s=ei.Vs(o,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),l=0,c=this.$s;l<c.length;l++)p=c[l],this.Fs(p);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Xo(this.persistenceKey,e));if(n){var r=Zo.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Xo(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return h("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){h("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){h("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.b)(t,void 0,void 0,(function(){var e,t,o,i,s,u;return Object(r.d)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(o=this.si(n.key,n.newValue)))return[2,this.ii(o)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(u=function(e){var t=a.o;if(null!=e)try{var n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==a.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Jo(this.currentUser,e,t,n),o=$o(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Ss())},e.prototype.Hs=function(e){var t=$o(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Xo(this.persistenceKey,e),o=new Zo(e,t,n);this.setItem(r,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return ei.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Jo.Vs(new Yo(o),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Zo.Vs(r,t)},e.prototype.js=function(e){return ti.Vs(e)},e.prototype.ii=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),o=this.Gs(this.ks),i=this.Gs(r),s=[],a=[];return i.forEach((function(e){o.has(e)||s.push(e)})),o.forEach((function(e){i.has(e)||a.push(e)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Bt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),oi=function(){function e(){this.li=new ni,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ni,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ii=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),si=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ai={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ui=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),li=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.c)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(o,i){var a=new s.g;a.listenOnce(s.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.a.NO_ERROR:var t=a.getResponseJson();h("Connection","XHR received:",JSON.stringify(t)),o(t);break;case s.a.TIMEOUT:h("Connection",'RPC "'+e+'" timed out'),i(new l(u.DEADLINE_EXCEEDED,"Request time out"));break;case s.a.HTTP_ERROR:var n=a.getStatus();if(h("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);i(new l(c,r.message))}else i(new l(u.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new l(u.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{h("Connection",'RPC "'+e+'" completed.')}}));var c=JSON.stringify(r);a.send(t,"POST",c,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(s.h)(),i=Object(s.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new s.d({})),this.Fi(a.initMessageHeaders,t),Object(o.r)()||Object(o.t)()||Object(o.o)()||Object(o.p)()||Object(o.u)()||Object(o.n)()||(a.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");h("Connection","Creating WebChannel: "+c,a);var p=r.createWebChannel(c,a),d=!1,g=!1,v=new ui({Ei:function(e){g?h("Connection","Not sending because WebChannel is closed:",e):(d||(h("Connection","Opening WebChannel transport."),p.open(),d=!0),h("Connection","WebChannel sending:",e),p.send(e))},Ti:function(){return p.close()}}),m=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(p,s.f.EventType.OPEN,(function(){g||h("Connection","WebChannel transport opened.")})),m(p,s.f.EventType.CLOSE,(function(){g||(g=!0,h("Connection","WebChannel transport closed"),v.Vi())})),m(p,s.f.EventType.ERROR,(function(e){g||(g=!0,f("Connection","WebChannel transport errored:",e),v.Vi(new l(u.UNAVAILABLE,"The operation could not be completed")))})),m(p,s.f.EventType.MESSAGE,(function(e){var t;if(!g){var n=e.data[0];y(!!n);var r=n,o=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(o){h("Connection","WebChannel received error:",o);var i=o.status,s=function(e){var t=Et[e];if(void 0!==t)return At(t)}(i),a=o.message;void 0===s&&(s=u.INTERNAL,a="Unknown error status: "+i+" with message "+o.message),g=!0,v.Vi(new l(s,a)),p.close()}else h("Connection","WebChannel received:",n),v.Si(n)}})),m(i,s.b.STAT_EVENT,(function(e){e.stat===s.e.PROXY?h("Connection","Detected buffering proxy"):e.stat===s.e.NOPROXY&&h("Connection","Detected no buffering proxy")})),setTimeout((function(){v.Pi()}),0),v},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var o=this.xi(e,t);h("RestConnection","Sending: ",o,n);var i={};return this.Fi(i,r),this.ki(e,o,i,n).then((function(e){return h("RestConnection","Received: ",e),e}),(function(t){throw f("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ai[e];return this.Di+"/v1/"+t+":"+n},e}());function ci(){return"undefined"!=typeof window?window:null}function pi(){return"undefined"!=typeof document?document:null}function hi(e){return new tn(e,!0)}var di=function(){function e(e,t,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),o=Math.max(0,n-r);o>0&&h("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),fi=function(){function e(e,t,n,r,o,i){this.Se=e,this.zi=n,this.Hi=r,this.Ji=o,this.listener=i,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new di(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new l(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return h("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),gi=function(e){function t(t,n,r,o,i){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,i)||this).R=o,s}return Object(r.c)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.I?(y(void 0===t||"string"==typeof t),x.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),x.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:At(e.code);return new l(t,e.message||"")}(a);n=new Yt(r,o,i,s||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,o=cn(e,r.document.name),i=sn(r.document.updateTime);var a=new se({mapValue:{fields:r.document.fields}}),c=(s=ue.newFoundDocument(o,i,a),r.targetIds||[]),p=r.removedTargetIds||[];n=new qt(c,p,s.key,s)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,o=cn(e,r.document),i=r.readTime?sn(r.readTime):_.min(),a=ue.newNoDocument(o,i),s=r.removedTargetIds||[],n=new qt([],s,a.key,a);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,o=cn(e,r.document),i=r.removedTargetIds||[],n=new qt([],i,o,null);else{if(!("filter"in t))return v();t.filter;var h=t.filter;h.targetId,r=h.count||0,o=new Rt(r),i=h.targetId,n=new Kt(i,o)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return _.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_.min():t.readTime?sn(t.readTime):_.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=dn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=de(r)?{documents:wn(e,r)}:{query:Cn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rn(e,t.resumeToken):t.snapshotVersion.compareTo(_.min())>0&&(n.readTime=nn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=dn(this.R),t.removeTarget=e,this.cr(t)},t}(fi),vi=function(e){function t(t,n,r,o,i){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,i)||this).R=o,s.gr=!1,s}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sn(e.updateTime):sn(t);return n.isEqual(_.min())&&(n=sn(t)),new ut(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sn(e.commitTime);return this.listener.Tr(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=dn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yn(t.R,e)}))};this.cr(n)},t}(fi),yi=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).credentials=t,o.Hi=n,o.R=r,o.Rr=!1,o}return Object(r.c)(t,e),t.prototype.br=function(){if(this.Rr)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.Ni(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(o){return r.Hi.$i(e,t,n,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new l(u.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),mi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):h("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),wi=function(e,t,n,o,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Ai(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,bi(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Ci(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new mi(n,o)};function Ci(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!Ai(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function bi(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ei(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ti(n)?Ri(n):Bi(n).er()&&Oi(n,t))}function Si(e,t){var n=m(e),r=Bi(n);n.$r.delete(t),r.er()&&_i(n,t),0===n.$r.size&&(r.er()?r.ir():Ai(n)&&n.Br.set("Unknown"))}function Oi(e,t){e.qr.U(t.targetId),Bi(e).mr(t)}function _i(e,t){e.qr.U(t),Bi(e).yr(t)}function Ri(e){e.qr=new $t({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Bi(e).start(),e.Br.Sr()}function Ti(e){return Ai(e)&&!Bi(e).tr()&&e.$r.size>0}function Ai(e){return 0===m(e).Or.size}function Pi(e){e.qr=void 0}function Di(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return e.$r.forEach((function(t,n){Oi(e,t)})),[2]}))}))}function Ii(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return Pi(e),Ti(e)?(e.Br.Nr(t),Ri(e)):e.Br.set("Unknown"),[2]}))}))}function Ni(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Yt&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=t.cause,o=0,i=t.targetIds,r.label=1;case 1:return o<i.length?(s=i[o],e.$r.has(s)?[4,e.remoteSyncer.rejectListen(s,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(s),e.qr.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return o++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return o=a.sent(),h("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,Li(e,o)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof qt?e.qr.X(t):t instanceof Kt?e.qr.rt(t):e.qr.et(t),n.isEqual(_.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ro(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var o=e.$r.get(r);o&&e.$r.set(r,o.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(x.EMPTY_BYTE_STRING,n.snapshotVersion)),_i(e,t);var r=new yr(n.target,t,1,n.sequenceNumber);Oi(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Li(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Li(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(!ur(t))throw t;return e.Or.add(1),[4,bi(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Ro(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Ci(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function xi(e,t){return t().catch((function(n){return Li(e,n,t)}))}function Fi(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,o,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=m(e),n=Ui(t),o=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Ai(e)&&e.kr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Po(t.localStore,o)];case 3:return null===(i=r.sent())?(0===t.kr.length&&n.ir(),[3,7]):(o=i.batchId,function(e,t){e.kr.push(t);var n=Ui(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return s=r.sent(),[4,Li(t,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Mi(t)&&ki(t),[2]}}))}))}function Mi(e){return Ai(e)&&!Ui(e).tr()&&e.kr.length>0}function ki(e){Ui(e).start()}function Gi(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return Ui(e).Ar(),[2]}))}))}function Vi(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,o,i;return Object(r.d)(this,(function(r){for(t=Ui(e),n=0,o=e.kr;n<o.length;n++)i=o[n],t.Er(i.mutations);return[2]}))}))}function ji(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return o=e.kr.shift(),i=vr.from(o,t,n),[4,xi(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return r.sent(),[4,Fi(e)];case 2:return r.sent(),[2]}}))}))}function Hi(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return t&&Ui(e).pr?[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Tt(o=t.code)&&o!==u.ABORTED?(n=e.kr.shift(),Ui(e).sr(),[4,xi(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,Fi(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Mi(e)&&ki(e),[2]}}))}))}function Wi(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,Ci(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,bi(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Bi(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new gi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Di.bind(null,e),Ri:Ii.bind(null,e),_r:Ni.bind(null,e)}),e.Mr.push((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ti(e)?Ri(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Pi(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Ui(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new vi(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Gi.bind(null,e),Ri:Hi.bind(null,e),Ir:Vi.bind(null,e),Tr:ji.bind(null,e)}),e.Mr.push((function(n){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Fi(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(h("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var zi=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,o,i){var s=new e(t,n,Date.now()+r,o,i);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new l(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function qi(e,t){if(d("AsyncQueue",t+": "+e),ur(e))return new l(u.UNAVAILABLE,t+": "+e);throw e}var Ki=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||z.comparator(t.key,n.key)}:function(e,t){return z.comparator(e.key,t.key)},this.keyedMap=kt(),this.sortedSet=new Pt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Yi=function(){function e(){this.Qr=new Pt(z.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):v():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Qi=function(){function e(e,t,n,r,o,i,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,o){var i=[];return n.forEach((function(e){i.push({type:0,doc:e})})),new e(t,n,Ki.emptySet(n),i,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&je(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),$i=function(){this.Wr=void 0,this.listeners=[]},Xi=function(){this.queries=new ro((function(e){return He(e)}),je),this.onlineState="Unknown",this.Gr=new Set};function Ji(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=m(e),o=t.query,i=!1,(s=n.queries.get(o))||(i=!0,s=new $i),!i)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.onListen(o)];case 2:return a.Wr=r.sent(),[3,4];case 3:return u=r.sent(),l=qi(u,"Initialization of query '"+We(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(o,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&ns(n),[2]}}))}))}function Zi(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a;return Object(r.d)(this,(function(r){return n=m(e),o=t.query,i=!1,(s=n.queries.get(o))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length),i?[2,(n.queries.delete(o),n.onUnlisten(o))]:[2]}))}))}function es(e,t){for(var n=m(e),r=!1,o=0,i=t;o<i.length;o++){var s=i[o],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);u.Wr=s}}r&&ns(n)}function ts(e,t,n){var r=m(e),o=r.queries.get(t);if(o)for(var i=0,s=o.listeners;i<s.length;i++)s[i].onError(n);r.queries.delete(t)}function ns(e){e.Gr.forEach((function(e){e.next()}))}var rs=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];3!==o.type&&t.push(o)}e=new Qi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),i=!0):this.eo(e,this.onlineState)&&(this.no(e),i=!0),this.Xr=e,i},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),os=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),is=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return cn(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?vn(this.R,e.document,!1):ue.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return sn(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=ss(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new is(this.R),r=0,o=e;r<o.length;r++){var i=o[r];if(i.metadata.queries)for(var s=n.qn(i.metadata.name),a=0,u=i.metadata.queries;a<u.length;a++){var l=u[a],c=(t.get(l)||Ht()).add(s);t.set(l,c)}}return t},e.prototype.complete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Mo(this.localStore,new is(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,o=this.queries,r.label=2;case 2:return n<o.length?(i=o[n],[4,ko(this.localStore,i,t.get(i.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mo(Object.assign({},this.progress),e))]}}))}))}}();function ss(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var as=function(e){this.key=e},us=function(e){this.key=e},ls=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ht(),this.mutatedKeys=Ht(),this.lo=Ue(e),this.fo=new Ki(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Yi,o=t?t.fo:this.fo,i=t?t.mutatedKeys:this.mutatedKeys,s=o,a=!1,u=Ne(this.query)&&o.size===this.query.limit?o.last():null,l=Le(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((function(e,t){var c=o.get(e),p=Be(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!p&&(p.hasLocalMutations||n.mutatedKeys.has(p.key)&&p.hasCommittedMutations),f=!1;c&&p?c.data.isEqual(p.data)?h!==d&&(r.track({type:3,doc:p}),f=!0):n.yo(c,p)||(r.track({type:2,doc:p}),f=!0,(u&&n.lo(p,u)>0||l&&n.lo(p,l)<0)&&(a=!0)):!c&&p?(r.track({type:0,doc:p}),f=!0):c&&!p&&(r.track({type:1,doc:c}),f=!0,(u||l)&&(a=!0)),f&&(p?(s=s.add(p),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Ne(this.query)||Le(this.query))for(;s.size>this.query.limit;){var c=Ne(this.query)?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{fo:s,mo:r,Nn:a,mutatedKeys:i}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var i=e.mo.jr();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==i.length||u?{snapshot:new Qi(this.query,e.fo,o,i,e.mutatedKeys,0===a,u,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yi,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ht(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new us(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new as(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ht();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Qi.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),cs=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ps=function(e){this.key=e,this.bo=!1},hs=function(){function e(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.vo={},this.Po=new ro((function(e){return He(e)}),je),this.Vo=new Map,this.So=new Set,this.Do=new Pt(z.comparator),this.Co=new Map,this.No=new Vo,this.xo={},this.Fo=new Map,this.ko=zr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function ds(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Ws(e),(s=n.Po.get(t))?(o=s.targetId,n.sharedClientState.addLocalQueryTarget(o),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Do(n.localStore,Ge(t))];case 2:return a=r.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),o=a.targetId,[4,fs(n,t,o,"current"===u)];case 3:i=r.sent(),n.isPrimaryClient&&Ei(n.remoteStore,a),r.label=4;case 4:return[2,i]}}))}))}function fs(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s,a,u,l,c;return Object(r.d)(this,(function(p){switch(p.label){case 0:return e.Oo=function(t,n,o){return function(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=t.view._o(n)).Nn?[4,No(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=r.sent(),r.label=2;case 2:return s=o&&o.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s),[2,(Ts(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,o)},[4,No(e.localStore,t,!0)];case 1:return i=p.sent(),s=new ls(t,i.Bn),a=s._o(i.documents),u=zt.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==e.onlineState),l=s.applyChanges(a,e.isPrimaryClient,u),Ts(e,n,l.To),c=new cs(t,n,s),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}}))}))}function gs(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),o=n.Po.get(t),(i=n.Vo.get(o.targetId)).length>1?[2,(n.Vo.set(o.targetId,i.filter((function(e){return!je(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,Io(n.localStore,o.targetId,!1).then((function(){n.sharedClientState.clearQueryState(o.targetId),Si(n.remoteStore,o.targetId),_s(n,o.targetId)})).catch($r)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return _s(n,o.targetId),[4,Io(n.localStore,o.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function vs(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:o=Bs(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),o=O.now(),i=t.reduce((function(e,t){return e.add(t.key)}),Ht());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,i).next((function(i){n=i;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=ft(l,n.get(l.key));null!=c&&s.push(new mt(l.key,c,ae(c.value.mapValue),lt.exists(!0)))}return r._n.addMutationBatch(e,o,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(o.localStore,t)];case 2:return i=r.sent(),o.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Pt(b)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(o,i.batchId,n),[4,Ds(o,i.changes)];case 3:return r.sent(),[4,Fi(o.remoteStore)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=qi(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function ys(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,To(n.localStore,t)];case 2:return o=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?y(r.bo):e.removedDocuments.size>0&&(y(r.bo),r.bo=!1))})),[4,Ds(n,o,t)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ms(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var o=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&o.push(r.snapshot)})),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var o=0,i=n.listeners;o<i.length;o++)i[o].zr(t)&&(r=!0)})),r&&ns(n)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ws(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a,u,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=m(e)).sharedClientState.updateQueryState(t,"rejected",n),i=o.Co.get(t),(s=i&&i.key)?(a=(a=new Pt(z.comparator)).insert(s,ue.newNoDocument(s,_.min())),u=Ht().add(s),l=new Ut(_.min(),new Map,new Nt(b),a,u),[4,ys(o,l)]):[3,2];case 1:return r.sent(),o.Do=o.Do.remove(s),o.Co.delete(t),Ps(o),[3,4];case 2:return[4,Io(o.localStore,t,!1).then((function(){return _s(o,t,n)})).catch($r)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Cs(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),o=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_o(n.localStore,t)];case 2:return i=r.sent(),Os(n,o,null),Ss(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),[4,Ds(n,i)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function bs(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:o=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return y(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(o.localStore,t)];case 2:return i=r.sent(),Os(o,t,n),Ss(o,t),o.sharedClientState.updateMutationState(t,"rejected",n),[4,Ds(o,i)];case 3:return r.sent(),[3,6];case 4:return[4,$r(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Es(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:Ai((n=m(e)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(o=r.sent())?[2,void t.resolve()]:((i=n.Fo.get(o)||[]).push(t),n.Fo.set(o,i),[3,4]);case 3:return s=r.sent(),a=qi(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ss(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Os(e,t,n){var r=m(e),o=r.xo[r.currentUser.toKey()];if(o){var i=o.get(t);i&&(n?i.reject(n):i.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function _s(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var i=o[r];e.Po.delete(i),n&&e.vo.Mo(i,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Rs(e,t)}))}function Rs(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Si(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ps(e))}function Ts(e,t,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];i instanceof as?(e.No.addReference(i.key,t),As(e,i)):i instanceof us?(h("SyncEngine","Document no longer in limbo: "+i.key),e.No.removeReference(i.key,t),e.No.containsKey(i.key)||Rs(e,i.key)):v()}}function As(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(h("SyncEngine","New document in limbo: "+n),e.So.add(r),Ps(e))}function Ps(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new z(D.fromString(t)),r=e.ko.next();e.Co.set(r,new ps(n)),e.Do=e.Do.insert(n,r),Ei(e.remoteStore,new yr(Ge(Ie(n.path)),r,2,a.o))}}function Ds(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:return o=m(e),i=[],s=[],a=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach((function(e,r){a.push(o.Oo(r,t,n).then((function(e){if(e){o.isPrimaryClient&&o.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Co.Pn(r.targetId,e);s.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),o.vo._r(i),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c,p;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rr.forEach(t,(function(t){return rr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return rr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ur(o=r.sent()))throw o;return h("LocalStore","Failed to update sequence numbers: "+o),[3,4];case 4:for(i=0,s=t;i<s.length;i++)a=s[i],u=a.targetId,a.fromCache||(l=n.Fn.get(u),c=l.snapshotVersion,p=l.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,p));return[2]}}))}))}(o.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Is(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(h("SyncEngine","User change. New user:",t.toKey()),[4,Oo(n.localStore,t)]);case 1:return o=r.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new l(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,Ds(n,o.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Ns(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return Ht().add(r.key);var o=Ht(),i=n.Vo.get(t);if(!i)return o;for(var s=0,a=i;s<a.length;s++){var u=a[s],l=n.Po.get(u);o=o.unionWith(l.view.wo)}return o}function Ls(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,No((n=m(e)).localStore,t.query,!0)];case 1:return o=r.sent(),i=t.view.Ao(o),[2,(n.isPrimaryClient&&Ts(n,t.targetId,i.To),i)]}}))}))}function xs(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){return[2,xo((t=m(e)).localStore).then((function(e){return Ds(t,e)}))]}))}))}function Fs(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):rr.resolve(null)}))}))}((i=m(e)).localStore,t)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Fi(i.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Os(i,t,o||null),Ss(i,t),function(e,t){m(m(e)._n).Gt(t)}(i.localStore,t)):v(),r.label=4;case 4:return[4,Ds(i,s)];case 5:return r.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ms(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Ws(n=m(e)),Bs(n),!0!==t||!0===n.$o?[3,3]:(o=n.sharedClientState.getAllActiveQueryTargets(),[4,ks(n,o.toArray())]);case 1:return i=r.sent(),n.$o=!0,[4,Wi(n.remoteStore,!0)];case 2:for(r.sent(),s=0,a=i;s<a.length;s++)u=a[s],Ei(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(l=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return _s(n,t),Io(n.localStore,t,!0)})),Si(n.remoteStore,t)})),[4,c]);case 4:return r.sent(),[4,ks(n,l)];case 5:return r.sent(),function(e){var t=m(e);t.Co.forEach((function(e,n){Si(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Pt(z.comparator)}(n),n.$o=!1,[4,Wi(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function ks(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u,l,c,p,h,d,f,g,v;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=m(e),o=[],i=[],s=0,a=t,r.label=1;case 1:return s<a.length?(u=a[s],l=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Do(n.localStore,Ge(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),p=0,h=c,r.label=3;case 3:return p<h.length?(d=h[p],f=n.Po.get(d),[4,Ls(n,f)]):[3,6];case 4:(g=r.sent()).snapshot&&i.push(g.snapshot),r.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,Lo(n.localStore,u)];case 8:return v=r.sent(),[4,Do(n.localStore,v)];case 9:return l=r.sent(),[4,fs(n,Gs(v),u,!1)];case 10:r.sent(),r.label=11;case 11:o.push(l),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),o)]}}))}))}function Gs(e){return De(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vs(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function js(e,t,n,o){return Object(r.b)(this,void 0,void 0,(function(){var i,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=m(e)).$o?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xo(i.localStore)];case 3:return s=r.sent(),a=Ut.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Ds(i,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Io(i.localStore,t,!0)];case 6:return r.sent(),_s(i,t,o),[3,8];case 7:v(),r.label=8;case 8:return[2]}}))}))}function Hs(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a,u,l,c,p,d,f;return Object(r.d)(this,(function(g){switch(g.label){case 0:if(!(o=Ws(e)).$o)return[3,10];i=0,s=t,g.label=1;case 1:return i<s.length?(a=s[i],o.Vo.has(a)?(h("SyncEngine","Adding an already active target "+a),[3,5]):[4,Lo(o.localStore,a)]):[3,6];case 2:return u=g.sent(),[4,Do(o.localStore,u)];case 3:return l=g.sent(),[4,fs(o,Gs(u),l.targetId,!1)];case 4:g.sent(),Ei(o.remoteStore,l),g.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Object(r.d)(this,(function(t){switch(t.label){case 0:return o.Vo.has(e)?[4,Io(o.localStore,e,!1).then((function(){Si(o.remoteStore,e),_s(o,e)})).catch($r)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},p=0,d=n,g.label=7;case 7:return p<d.length?(f=d[p],[5,c(f)]):[3,10];case 8:g.sent(),g.label=9;case 9:return p++,[3,7];case 10:return[2]}}))}))}function Ws(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ys.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ns.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ws.bind(null,t),t.vo._r=es.bind(null,t.eventManager),t.vo.Mo=ts.bind(null,t.eventManager),t}function Bs(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cs.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bs.bind(null,t),t}var Us=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.R=hi(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return So(this.persistence,new bo,e.initialUser,this.R)},e.prototype.qo=function(e){return new zo(Ko.bs,this.R)},e.prototype.Bo=function(e){return new oi},e.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),zs=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).Qo=t,o.cacheSizeBytes=n,o.forceOwnership=r,o.synchronizeTabs=!1,o}return Object(r.c)(t,e),t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Fo(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Bs(this.Qo.syncEngine)];case 4:return n.sent(),[4,Fi(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return So(this.persistence,new bo,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=yo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new fo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ci(),pi(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new oi},t}(Us),qs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(t,e),t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n,o=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ri?(this.sharedClientState.syncEngine={ui:Fs.bind(null,n),ai:js.bind(null,n),hi:Hs.bind(null,n),fn:Vs.bind(null,n),ci:xs.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,Ms(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ci();if(!ri.yt(t))throw new l(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ri(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(zs),Ks=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ms(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Is.bind(null,this.syncEngine),[4,Wi(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Xi},e.prototype.createDatastore=function(e){var t,n=hi(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new li(t));return function(e,t,n){return new yi(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,o,i,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,o=function(e){return ms(s.syncEngine,e,0)},i=si.yt()?new si:new ii,new wi(t,n,r,o,i)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,o,i,s){var a=new hs(e,t,n,r,o,i);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=m(e),h("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,bi(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Ys=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Qs=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return o=r.sent(),[2,new os(JSON.parse(o),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new l(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),o=dn(n.R)+"/documents",i={documents:t.map((function(e){return ln(n.R,e)}))},[4,n.$i("BatchGetDocuments",o,i)];case 1:return s=r.sent(),a=new Map,s.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;var n=cn(e,t.found.name),r=sn(t.found.updateTime),o=new se({mapValue:{fields:t.found.fields}});return ue.newFoundDocument(n,r,o)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var n=cn(e,t.missing),r=sn(t.readTime);return ue.newNoDocument(n,r)}(e,t):v()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());y(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=o.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ot(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=z.fromPath(n);t.mutations.push(new _t(r,t.precondition(r)))})),[4,function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=m(e),o=dn(n.R)+"/documents",i={writes:t.map((function(e){return yn(n.R,e)}))},[4,n.Ni("Commit",o,i)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=_.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new l(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?lt.updateTime(t):lt.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_.min()))throw new l(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lt.updateTime(t)}return lt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),$s=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new di(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.d)(this,(function(r){return e=new Qs(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!W(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tt(t)}return!1},e}(),Xs=function(){function e(e,t,n){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Yo.UNAUTHENTICATED,this.clientId=C.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return h("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new l(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=qi(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Js(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o,i=this;return Object(r.d)(this,(function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),o=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return o.isEqual(e)?[3,2]:[4,Oo(t.localStore,e)];case 1:n.sent(),o=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Zs(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ea(e)];case 1:return n=i.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return o=i.sent(),[4,t.initialize(n,o)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),o=Ai(n),n.Or.add(3),[4,bi(n)];case 1:return r.sent(),o&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,Ci(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function ea(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,Js(e,new Us)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ta(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,Zs(e,new Ks)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function na(e){return ea(e).then((function(e){return e.persistence}))}function ra(e){return ea(e).then((function(e){return e.localStore}))}function oa(e){return ta(e).then((function(e){return e.remoteStore}))}function ia(e){return ta(e).then((function(e){return e.syncEngine}))}function sa(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,ta(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ds.bind(null,t.syncEngine),n.onUnlisten=gs.bind(null,t.syncEngine),n)]}}))}))}function aa(e,t,n){var o=this;void 0===n&&(n={});var i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(o,void 0,void 0,(function(){var o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Ys({next:function(i){t.enqueueAndForget((function(){return Zi(e,s)}));var a=i.docs.has(n);!a&&i.fromCache?o.reject(new l(u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?o.reject(new l(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(i)},error:function(e){return o.reject(e)}}),s=new rs(Ie(n.path),i,{includeMetadataChanges:!0,so:!0});return Ji(e,s)},[4,sa(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ua(e,t,n){var o=this;void 0===n&&(n={});var i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(o,void 0,void 0,(function(){var o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return o=function(e,t,n,r,o){var i=new Ys({next:function(n){t.enqueueAndForget((function(){return Zi(e,s)})),n.fromCache&&"server"===r.source?o.reject(new l(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:function(e){return o.reject(e)}}),s=new rs(n,i,{includeMetadataChanges:!0,so:!0});return Ji(e,s)},[4,sa(e)];case 1:return[2,o.apply(void 0,[r.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var la=function(e,t,n,r,o,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.useFetchStreams=a},ca=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),pa=new Map,ha=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},da=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Yo.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),fa=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ga=function(){function e(e){var t=this;this.currentUser=Yo.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){h("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(h("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(y("string"==typeof n.accessToken),new ha(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.b)(n,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Yo(e)},e}(),va=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Yo.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),ya=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new va(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Yo.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ma(e,t,n){if(!n)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function wa(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ca(e,t,n,r){if(!0===t&&!0===r)throw new l(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ba(e){if(!z.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ea(e){if(z.isDocumentKey(e))throw new l(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Sa(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":v()}function Oa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new l(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sa(e);throw new l(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function _a(e,t){if(t<=0)throw new l(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ra=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new l(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new l(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ca("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ta=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ra({}),this._settingsFrozen=!1,e instanceof ca?(this._databaseId=e,this._credentials=new da):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new l(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(e.options.projectId)}(e),this._credentials=new ga(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ra(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new da;switch(e.type){case"gapi":var t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ya(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new l(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=pa.get(this))&&(h("ComponentProvider","Removing Datastore"),pa.delete(this),e.terminate()),Promise.resolve();var e},e}(),Aa=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Da(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Pa=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Da=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,Ie(r))||this)._path=r,o.type="collection",o}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Aa(this.firestore,null,new z(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Pa);function Ia(e,t){for(var n,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Object(o.k)(e),ma("collection","path",t),e instanceof Ta)return Ea(n=D.fromString.apply(D,Object(r.f)([t],i))),new Da(e,null,n);if(!(e instanceof Aa||e instanceof Da))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ea(n=D.fromString.apply(D,Object(r.f)([e.path],i)).child(D.fromString(t))),new Da(e.firestore,null,n)}function Na(e,t){for(var n,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Object(o.k)(e),1===arguments.length&&(t=C.u()),ma("doc","path",t),e instanceof Ta)return ba(n=D.fromString.apply(D,Object(r.f)([t],i))),new Aa(e,null,new z(n));if(!(e instanceof Aa||e instanceof Da))throw new l(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ba(n=e._path.child(D.fromString.apply(D,Object(r.f)([t],i)))),new Aa(e.firestore,e instanceof Da?e.converter:null,new z(n))}function La(e,t){return e=Object(o.k)(e),t=Object(o.k)(t),(e instanceof Aa||e instanceof Da)&&(t instanceof Aa||t instanceof Da)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xa(e,t){return e=Object(o.k)(e),t=Object(o.k)(t),e instanceof Pa&&t instanceof Pa&&e.firestore===t.firestore&&je(e._query,t._query)&&e.converter===t.converter}var Fa=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new di(this,"async_queue_retry"),this.Tc=function(){var t=pi();t&&h("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=pi();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=pi();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},e.prototype.Rc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(e=n.sent()))throw e;return h("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var o=zi.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)}));return this.mc.push(o),o},e.prototype.Ic=function(){this.yc&&v()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var o=r[n];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return t.vc()}))},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Ma(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ka=-1,Ga=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Fa,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.c)(t,e),t.prototype._terminate=function(){return this._firestoreClient||ja(this),this._firestoreClient.terminate()},t}(Ta);function Va(e){return e._firestoreClient||ja(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ja(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new la(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Xs(e._credentials,e._queue,r)}function Ha(e,t,n){var o=this,i=new nr;return e.asyncQueue.enqueue((function(){return Object(r.b)(o,void 0,void 0,(function(){var o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Js(e,n)];case 1:return r.sent(),[4,Zs(e,t)];case 2:return r.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(o=r.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Wa(e){if(e._initialized||e._terminated)throw new l(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ba=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new l(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new N(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Ua=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(x.fromBase64String(t))}catch(t){throw new l(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(x.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),za=function(e){this._methodName=e},qa=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new l(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new l(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return b(this._lat,e._lat)||b(this._long,e._long)},e}(),Ka=/^__.*__$/,Ya=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new mt(e,this.data,this.fieldMask,t,this.fieldTransforms):new yt(e,this.data,t,this.fieldTransforms)},e}(),Qa=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new mt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function $a(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Xa=function(){function e(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Dc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return yu(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if($a(this.Cc)&&Ka.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),Ja=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||hi(e)}return e.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new Xa({Cc:e,methodName:t,Bc:n,path:N.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Za(e){var t=e._freezeSettings(),n=hi(e._databaseId);return new Ja(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eu(e,t,n,r,o,i){void 0===i&&(i={});var s=e.qc(i.merge||i.mergeFields?2:0,t,n,o);du("Data must be an object, but it was:",s,r);var a,c,p=pu(r,s);if(i.merge)a=new L(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){for(var h=[],d=0,f=i.mergeFields;d<f.length;d++){var g=fu(t,f[d],n);if(!s.contains(g))throw new l(u.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");mu(h,g)||h.push(g)}a=new L(h),c=s.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,c=s.fieldTransforms;return new Ya(new se(p),a,c)}var tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(za);function nu(e,t,n){return new Xa({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ru=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){return new at(e.path,new Ze)},t.prototype.isEqual=function(e){return e instanceof t},t}(za),ou=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=nu(this,e,!0),n=this.Uc.map((function(e){return cu(e,t)})),r=new et(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(za),iu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=nu(this,e,!0),n=this.Uc.map((function(e){return cu(e,t)})),r=new nt(n);return new at(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(za),su=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.c)(t,e),t.prototype._toFieldTransform=function(e){var t=new ot(e.R,Ye(e.R,this.Kc));return new at(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(za);function au(e,t,n,r){var i=e.qc(1,t,n);du("Data must be an object, but it was:",i,r);var s=[],a=se.empty();T(r,(function(e,r){var u=vu(t,e,n);r=Object(o.k)(r);var l=i.$c(u);if(r instanceof tu)s.push(u);else{var c=cu(r,l);null!=c&&(s.push(u),a.set(u,c))}}));var u=new L(s);return new Qa(a,u,i.fieldTransforms)}function uu(e,t,n,r,i,s){var a=e.qc(1,t,n),c=[fu(t,r,n)],p=[i];if(s.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(fu(t,s[h])),p.push(s[h+1]);for(var d=[],f=se.empty(),g=c.length-1;g>=0;--g)if(!mu(d,c[g])){var v=c[g],y=p[g];y=Object(o.k)(y);var m=a.$c(v);if(y instanceof tu)d.push(v);else{var w=cu(y,m);null!=w&&(d.push(v),f.set(v,w))}}var C=new L(d);return new Qa(f,C,a.fieldTransforms)}function lu(e,t,n,r){return void 0===r&&(r=!1),cu(n,e.qc(r?4:3,t))}function cu(e,t){if(hu(e=Object(o.k)(e)))return du("Unsupported field value:",t,e),pu(e,t);if(e instanceof za)return function(e,t){if(!$a(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,o=0,i=e;o<i.length;o++){var s=cu(i[o],t.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(o.k)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ye(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=O.fromDate(e);return{timestampValue:nn(t.R,n)}}if(e instanceof O)return n=new O(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:nn(t.R,n)};if(e instanceof qa)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ua)return{bytesValue:rn(t.R,e._byteString)};if(e instanceof Aa){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:an(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+Sa(e))}(e,t)}function pu(e,t){var n={};return A(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):T(e,(function(e,r){var o=cu(r,t.xc(e));null!=o&&(n[e]=o)})),{mapValue:{fields:n}}}function hu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof O||e instanceof qa||e instanceof Ua||e instanceof Aa||e instanceof za)}function du(e,t,n){if(!hu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sa(n);throw"an object"===r?t.Mc(e+" a custom object"):t.Mc(e+" "+r)}}function fu(e,t,n){if((t=Object(o.k)(t))instanceof Ba)return t._internalPath;if("string"==typeof t)return vu(e,t);throw yu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var gu=new RegExp("[~\\*/\\[\\]]");function vu(e,t,n){if(t.search(gu)>=0)throw yu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Ba.bind.apply(Ba,Object(r.f)([void 0],t.split(".")))))._internalPath}catch(o){throw yu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function yu(e,t,n,r,o){var i=r&&!r.isEmpty(),s=void 0!==o,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(i||s)&&(c+=" (found",i&&(c+=" in field "+r),s&&(c+=" in document "+o),c+=")"),new l(u.INVALID_ARGUMENT,(a+=". ")+e+c)}function mu(e,t){return e.some((function(e){return e.isEqual(t)}))}var wu=function(){function e(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Aa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Cu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(bu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(wu);function bu(e,t){return"string"==typeof t?vu(e,t):t instanceof Ba?t._internalPath:t._delegate._internalPath}var Eu=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Su=function(e){function t(t,n,r,o,i,s){var a=this;return(a=e.call(this,t,n,r,o,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=i,a}return Object(r.c)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(bu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(wu),Ou=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Su),_u=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ou(n._firestore,n._userDataWriter,r.key,r,new Eu(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new l(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ou(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ou(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),o=-1,i=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ru(t.type),doc:n,oldIndex:o,newIndex:i}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Ru(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function Tu(e,t){return e instanceof Su&&t instanceof Su?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _u&&t instanceof _u&&e._firestore===t._firestore&&xa(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Au(e){if(Le(e)&&0===e.explicitOrderBy.length)throw new l(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pu=function(){};function Du(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];e=i._apply(e)}return e}var Iu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).Qc=t,o.jc=n,o.Wc=r,o.type="where",o}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Za(e.firestore),n=function(e,t,n,r,o,i,s){var a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new l(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Gu(s,i);for(var c=[],p=0,h=s;p<h.length;p++){var d=h[p];c.push(ku(r,e,d))}a={arrayValue:{values:c}}}else a=ku(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Gu(s,i),a=lu(n,"where",s,"in"===i||"not-in"===i);var f=fe.create(o,i,a);return function(e,t){if(t.g()){var n=Fe(e);if(null!==n&&!n.isEqual(t.field))throw new l(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=xe(e);null!==r&&Vu(e,t.field,r)}var o=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var o=r[n];if(t.indexOf(o.op)>=0)return o.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new l(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Pa(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Pu),Nu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Gc=n,r.type="orderBy",r}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new l(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _e(t,n);return function(e,t){if(null===xe(e)){var n=Fe(e);null!==n&&Vu(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Gc);return new Pa(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Pe(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Pu),Lu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.zc=n,o.Hc=r,o}return Object(r.c)(t,e),t.prototype._apply=function(e){return new Pa(e.firestore,e.converter,Ve(e._query,this.zc,this.Hc))},t}(Pu),xu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Jc=n,o.Yc=r,o}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Mu(e,this.type,this.Jc,this.Yc);return new Pa(e.firestore,e.converter,function(e,t){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Pu),Fu=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Jc=n,o.Yc=r,o}return Object(r.c)(t,e),t.prototype._apply=function(e){var t=Mu(e,this.type,this.Jc,this.Yc);return new Pa(e.firestore,e.converter,function(e,t){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Pu);function Mu(e,t,n,r){if(n[0]=Object(o.k)(n[0]),n[0]instanceof wu)return function(e,t,n,r,o){if(!r)throw new l(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var i=[],s=0,a=ke(e);s<a.length;s++){var c=a[s];if(c.field.isKeyField())i.push(Z(t,r.key));else{var p=r.data.field(c.field);if(V(p))throw new l(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===p){var h=c.field.canonicalString();throw new l(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}i.push(p)}}return new Se(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Za(e.firestore);return function(e,t,n,r,o,i){var s=e.explicitOrderBy;if(o.length>s.length)throw new l(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<o.length;c++){var p=o[c];if(s[c].field.isKeyField()){if("string"!=typeof p)throw new l(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof p);if(!Me(e)&&-1!==p.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+p+"' contains a slash.");var h=e.path.child(D.fromString(p));if(!z.isDocumentKey(h))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var d=new z(h);a.push(Z(t,d))}else{var f=lu(n,r,p);a.push(f)}}return new Se(a,i)}(e._query,e.firestore._databaseId,i,t,n,r)}function ku(e,t,n){if("string"==typeof(n=Object(o.k)(n))){if(""===n)throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Me(t)&&-1!==n.indexOf("/"))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(D.fromString(n));if(!z.isDocumentKey(r))throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(e,new z(r))}if(n instanceof Aa)return Z(e,n._key);throw new l(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sa(n)+".")}function Gu(e,t){if(!Array.isArray(e)||0===e.length)throw new l(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new l(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vu(e,t,n){if(!n.isEqual(t))throw new l(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ju=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),q(e)){case 0:return null;case 1:return e.booleanValue;case 2:return k(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(G(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}},e.prototype.convertObject=function(e,t){var n=this,r={};return T(e.fields,(function(e,o){r[e]=n.convertValue(o,t)})),r},e.prototype.convertGeoPoint=function(e){return new qa(k(e.latitude),k(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=j(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(H(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=M(e);return new O(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=D.fromString(e);y(Nn(n));var r=new ca(n.get(1),n.get(3)),o=new z(n.popFirst(5));return r.isEqual(t)||d("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},e}();function Hu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Wu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new Ua(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aa(this.firestore,null,t)},t}(ju),Bu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Za(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Uu(e,this._firestore),o=Hu(r.converter,t,n),i=eu(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,lt.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,a=Uu(e,this._firestore);return s="string"==typeof(t=Object(o.k)(t))||t instanceof Ba?uu(this._dataReader,"WriteBatch.update",a._key,t,n,r):au(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,lt.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Uu(e,this._firestore);return this._mutations=this._mutations.concat(new Ot(t._key,lt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new l(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Uu(e,t){if((e=Object(o.k)(e)).firestore!==t)throw new l(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var zu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new Ua(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aa(this.firestore,null,t)},t}(ju);function qu(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Oa(e,Aa);var s=Oa(e.firestore,Ga),a=Za(s);return Yu(s,[("string"==typeof(t=Object(o.k)(t))||t instanceof Ba?uu(a,"updateDoc",e._key,t,n,r):au(a,"updateDoc",e._key,t)).toMutation(e._key,lt.exists(!0))])}function Ku(e){for(var t,n,i,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];e=Object(o.k)(e);var u={includeMetadataChanges:!1},l=0;"object"!=typeof s[l]||Ma(s[l])||(u=s[l],l++);var c,p,h,d={includeMetadataChanges:u.includeMetadataChanges};if(Ma(s[l])){var f=s[l];s[l]=null===(t=f.next)||void 0===t?void 0:t.bind(f),s[l+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),s[l+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}if(e instanceof Aa)p=Oa(e.firestore,Ga),h=Ie(e._key.path),c={next:function(t){s[l]&&s[l](Qu(p,e,t))},error:s[l+1],complete:s[l+2]};else{var g=Oa(e,Pa);p=Oa(g.firestore,Ga),h=g._query;var v=new zu(p);c={next:function(e){s[l]&&s[l](new _u(p,v,g,e))},error:s[l+1],complete:s[l+2]},Au(e._query)}return function(e,t,n,o){var i=this,s=new Ys(o),a=new rs(t,s,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(i,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=Ji,[4,sa(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(i,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=Zi,[4,sa(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Va(p),h,d,c)}function Yu(e,t){return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=vs,[4,ia(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,o])]}}))}))})),o.promise}(Va(e),t)}function Qu(e,t,n){var r=n.docs.get(t._key),o=new zu(e);return new Su(e,o,t._key,r,new Eu(n.hasPendingWrites,n.fromCache),t.converter)}var $u=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.c)(t,e),t.prototype.get=function(t){var n=this,r=Uu(t,this._firestore),o=new zu(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Su(n._firestore,o,r._key,e._document,new Eu(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Za(e)}return e.prototype.get=function(e){var t=this,n=Uu(e,this._firestore),r=new Wu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return v();var o=e[0];if(o.isFoundDocument())return new wu(t._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new wu(t._firestore,r,n._key,null,n.converter);throw v()}))},e.prototype.set=function(e,t,n){var r=Uu(e,this._firestore),o=Hu(r.converter,t,n),i=eu(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,a=Uu(e,this._firestore);return s="string"==typeof(t=Object(o.k)(t))||t instanceof Ba?uu(this._dataReader,"Transaction.update",a._key,t,n,r):au(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,s),this},e.prototype.delete=function(e){var t=Uu(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Xu(){if("undefined"==typeof Uint8Array)throw new l(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ju(){if("undefined"==typeof atob)throw new l(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Zu=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Ju(),new e(Ua.fromBase64String(t))},e.fromUint8Array=function(t){return Xu(),new e(Ua.fromUint8Array(t))},e.prototype.toBase64=function(){return Ju(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Xu(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),el=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Wa(e=Oa(e,Ga));var n=Va(e),r=e._freezeSettings(),o=new Ks;return Ha(n,o,new zs(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Wa(e=Oa(e,Ga));var t=Va(e),n=e._freezeSettings(),r=new Ks;return Ha(t,r,new qs(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new l(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return ir.yt()?(t=e+"main",[4,ir.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yo(e._databaseId,e._persistenceKey))];case 1:return o.sent(),n.resolve(),[3,3];case 2:return t=o.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),tl=function(){function e(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ca||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||f("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Oa(e,Ta))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s=Object(o.g)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new l(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new fa(new ha(s,new Yo(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,na(e)];case 1:return t=r.sent(),[4,oa(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.Or.delete(0),Ci(t)}(n))]}}))}))}))}(Va(Oa(this._delegate,Ga)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,na(e)];case 1:return t=o.sent(),[4,oa(e)];case 2:return n=o.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,bi(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Va(Oa(this._delegate,Ga)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ca("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=Es,[4,ia(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Va(Oa(this._delegate,Ga)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,o=new Ys(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,sa(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,sa(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(Va(e=Oa(e,Ga)),Ma(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new l(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new vl(this,Ia(this._delegate,e))}catch(e){throw ul(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new al(this,Na(this._delegate,e))}catch(e){throw ul(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new dl(this,function(e,t){if(e=Oa(e,Ta),ma("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new l(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pa(e,null,function(e){return new Pe(D.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw ul(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(e){return ta(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new $s(e.asyncQueue,n,t,o).run(),[2]}}))}))})),o.promise}(Va(e),(function(n){return t(new $u(e,n))}))}(this._delegate,(function(n){return e(new ol(t,n))}))},e.prototype.batch=function(){var e=this;return Va(this._delegate),new il(new Bu(this._delegate,(function(t){return Yu(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new l(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new l(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),nl=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.c)(t,e),t.prototype.convertBytes=function(e){return new Zu(new Ua(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return al.tu(t,this.firestore,null)},t}(ju);function rl(e){var t;t=e,c.setLogLevel(t)}var ol=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nl(e)}return e.prototype.get=function(e){var t=this,n=yl(e);return this._delegate.get(n).then((function(e){return new pl(t._firestore,new Su(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=yl(e);return n?(wa("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a=yl(e);return 2===arguments.length?this._delegate.update(a,t):(o=this._delegate).update.apply(o,Object(r.f)([a,t,n],i)),this},e.prototype.delete=function(e){var t=yl(e);return this._delegate.delete(t),this},e}(),il=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=yl(e);return n?(wa("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a=yl(e);return 2===arguments.length?this._delegate.update(a,t):(o=this._delegate).update.apply(o,Object(r.f)([a,t,n],i)),this},e.prototype.delete=function(e){var t=yl(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),sl=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Ou(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hl(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,n){var r=e.nu,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var i=o.get(n);return i||(i=new e(t,new nl(t),n),o.set(n,i)),i},e}();sl.nu=new WeakMap;var al=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nl(e)}return e.su=function(t,n,r){if(t.length%2!=0)throw new l(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Aa(n._delegate,r,new z(t)))},e.tu=function(t,n,r){return new e(n,new Aa(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new vl(this.firestore,Ia(this._delegate,e))}catch(e){throw ul(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(o.k)(e))instanceof Aa&&La(this._delegate,e)},e.prototype.set=function(e,t){t=wa("DocumentReference.set",t);try{return function(e,t,n){e=Oa(e,Aa);var r=Oa(e.firestore,Ga),o=Hu(e.converter,t,n);return Yu(r,[eu(Za(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,lt.none())])}(this._delegate,e,t)}catch(e){throw ul(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];try{return 1===arguments.length?qu(this._delegate,e):qu.apply(void 0,Object(r.f)([this._delegate,e,t],n))}catch(e){throw ul(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Yu(Oa((e=this._delegate).firestore,Ga),[new Ot(e._key,lt.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ll(t),o=cl(t,(function(t){return new pl(e.firestore,new Su(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ku(this._delegate,r,o)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oa(e,Aa);var t=Oa(e.firestore,Ga),n=Va(t),o=new zu(t);return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=r.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new l(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),i=qi(o,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ra(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._key).then((function(n){return new Su(t,o,e._key,n,new Eu(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oa(e,Aa);var t=Oa(e.firestore,Ga);return aa(Va(t),e._key,{source:"server"}).then((function(n){return Qu(t,e,n)}))}(this._delegate):function(e){e=Oa(e,Aa);var t=Oa(e.firestore,Ga);return aa(Va(t),e._key).then((function(n){return Qu(t,e,n)}))}(this._delegate)).then((function(e){return new pl(t.firestore,new Su(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(sl.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function ul(e,t,n){return e.message=e.message.replace(t,n),e}function ll(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Ma(r))return r}return{}}function cl(e,t){var n,r,o;return{next:function(e){o.next&&o.next(t(e))},error:null===(n=(o=Ma(e[0])?e[0]:Ma(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}var pl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new al(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Tu(this._delegate,e._delegate)},e}(),hl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(pl),dl=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nl(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Du(this._delegate,function(e,t,n){var r=t,o=bu("where",e);return new Iu(o,r,n)}(t,n,r)))}catch(t){throw ul(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Du(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=bu("orderBy",e);return new Nu(r,n)}(t,n)))}catch(t){throw ul(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Du(this._delegate,function(e){return _a("limit",e),new Lu("limit",e,"F")}(t)))}catch(t){throw ul(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Du(this._delegate,function(e){return _a("limitToLast",e),new Lu("limitToLast",e,"L")}(t)))}catch(t){throw ul(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xu("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw ul(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xu("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw ul(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw ul(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Du(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Fu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw ul(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return xa(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Oa(e,Pa);var t=Oa(e.firestore,Ga),n=Va(t),o=new zu(t);return function(e,t){var n=this,o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,i,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,No(e,t,!0)];case 1:return u=r.sent(),o=new ls(t,u.Bn),i=o._o(u.documents),s=o.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=qi(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ra(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,o])]}}))}))})),o.promise}(n,e._query).then((function(n){return new _u(t,o,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Oa(e,Pa);var t=Oa(e.firestore,Ga),n=Va(t),r=new zu(t);return ua(n,e._query,{source:"server"}).then((function(n){return new _u(t,r,e,n)}))}(this._delegate):function(e){e=Oa(e,Pa);var t=Oa(e.firestore,Ga),n=Va(t),r=new zu(t);return Au(e._query),ua(n,e._query).then((function(n){return new _u(t,r,e,n)}))}(this._delegate)).then((function(e){return new gl(t.firestore,new _u(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=ll(t),o=cl(t,(function(t){return new gl(e.firestore,new _u(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ku(this._delegate,r,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(sl.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),fl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),gl=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new dl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new hl(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new fl(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hl(n._firestore,r))}))},e.prototype.isEqual=function(e){return Tu(this._delegate,e._delegate)},e}(),vl=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new al(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new al(this.firestore,void 0===e?Na(this._delegate):Na(this._delegate,e))}catch(e){throw ul(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Oa(e.firestore,Ga),r=Na(e),o=Hu(e.converter,t);return Yu(n,[eu(Za(e.firestore),"addDoc",r._key,o,null!==e.converter,{}).toMutation(r._key,lt.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new al(t.firestore,e)}))},t.prototype.isEqual=function(e){return La(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(sl.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(dl);function yl(e){return Oa(e,Aa)}var ml=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Ba.bind.apply(Ba,Object(r.f)([void 0],e)))}return e.documentId=function(){return new e(N.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(o.k)(e))instanceof Ba&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),wl=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new ru("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new tu("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ou("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new iu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new su("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}()}).call(this,n(58))},function(e,t,n){"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(l){return void n(l)}a.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,u,"next",e)}function u(e){r(s,o,i,a,u,"throw",e)}a(void 0)}))}}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",(function(){return r.a}));var o="8.7.1";r.a.registerVersion("firebase",o,"app"),r.a.SDK_VERSION=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return pr})),n.d(t,"b",(function(){return dr})),n.d(t,"c",(function(){return hr})),n.d(t,"d",(function(){return gr})),n.d(t,"e",(function(){return fr})),n.d(t,"f",(function(){return vr})),n.d(t,"g",(function(){return yr})),n.d(t,"h",(function(){return lr})),n.d(t,"i",(function(){return cr}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var i,s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},a=a||{},u=s||self;function l(){}function c(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function f(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function v(e,t,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}function w(){this.s=this.s,this.o=this.o}var C={};w.prototype.s=!1,w.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++d)}(this);delete C[e]}},w.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var b=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function O(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e){return/^[\s\xa0]*$/.test(e)}var R,T=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function A(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var D=u.navigator;if(D){var I=D.userAgent;if(I){R=I;break e}}R=""}function N(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t={};for(var n in e)t[n]=e[n];return t}var x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<x.length;i++)n=x[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){return M[" "](e),e}M[" "]=l;var k,G=A(R,"Opera"),V=A(R,"Trident")||A(R,"MSIE"),j=A(R,"Edge"),H=j||V,W=A(R,"Gecko")&&!(A(R.toLowerCase(),"webkit")&&!A(R,"Edge"))&&!(A(R,"Trident")||A(R,"MSIE"))&&!A(R,"Edge"),B=A(R.toLowerCase(),"webkit")&&!A(R,"Edge");function U(){var e=u.document;return e?e.documentMode:void 0}e:{var z="",q=function(){var e=R;return W?/rv:([^\);]+)(\)|;)/.exec(e):j?/Edge\/([\d\.]+)/.exec(e):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):B?/WebKit\/(\S+)/.exec(e):G?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(q&&(z=q?q[1]:""),V){var K=U();if(null!=K&&K>parseFloat(z)){k=String(K);break e}}k=z}var Y,Q={};function $(){return function(e){var t=Q;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=T(String(k)).split("."),n=T("9").split("."),r=Math.max(t.length,n.length),o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=P(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==i[2].length,0==s[2].length)||P(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var X=U();Y=X||(parseInt(k,10)||void 0)}else Y=void 0;var J=Y,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",l,t),u.removeEventListener("test",l,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W){e:{try{M(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},m(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ie(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++oe,this.ca=this.fa=!1}function se(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ae(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],i=b(o,t);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(se(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function le(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return o}return-1}ae.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var s=le(e,t,r,o);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new ie(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var ce="closure_lm_"+(1e6*Math.random()|0),pe={};function he(e,t,n,r,o){if(r&&r.once)return fe(e,t,n,r,o);if(Array.isArray(t)){for(var i=0;i<t.length;i++)he(e,t[i],n,r,o);return null}return n=be(n),e&&e[re]?e.N(t,n,p(r)?!!r.capture:!!r,o):de(e,t,n,!1,r,o)}function de(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=p(o)?!!o.capture:!!o,a=we(e);if(a||(e[ce]=a=new ae(e)),(n=a.add(t,n,r,s,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=me;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fe(e,t,n,r,o){if(Array.isArray(t)){for(var i=0;i<t.length;i++)fe(e,t[i],n,r,o);return null}return n=be(n),e&&e[re]?e.O(t,n,p(r)?!!r.capture:!!r,o):de(e,t,n,!0,r,o)}function ge(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)ge(e,t[i],n,r,o);else r=p(r)?!!r.capture:!!r,n=be(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=le(i=e.g[t],n,r,o))&&(se(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=we(e))&&(t=e.g[t.toString()],e=-1,t&&(e=le(t,n,r,o)),(n=-1<e?t[e]:null)&&ve(n))}function ve(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=we(t))?(ue(n,e),0==n.h&&(n.src=null,t[ce]=null)):se(e)}}}function ye(e){return e in pe?pe[e]:pe[e]="on"+e}function me(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ve(e),e=n.call(r,t)}return e}function we(e){return(e=e[ce])instanceof ae?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"===typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Ee(){w.call(this),this.i=new ae(this),this.P=this,this.I=null}function Se(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var o=t;F(t=new ee(r,e),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=t.g=n[i];o=Oe(s,r,!0,t)&&o}if(o=Oe(s=t.g=e,r,!0,t)&&o,o=Oe(s,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=Oe(s=t.g=n[i],r,!1,t)&&o}function Oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&ue(e.i,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}m(Ee,w),Ee.prototype[re]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){ge(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)se(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _e=u.JSON.stringify;function Re(){var e=xe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,Ae=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Pe=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new De}),(function(e){return e.reset()})),De=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ie(e){u.setTimeout((function(){throw e}),0)}function Ne(e,t){Te||function(){var e=u.Promise.resolve(void 0);Te=function(){e.then(Fe)}}(),Le||(Te(),Le=!0),xe.add(e,t)}var Le=!1,xe=new Ae;function Fe(){for(var e;e=Re();){try{e.h.call(e.g)}catch(n){Ie(n)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Le=!1}function Me(e,t){Ee.call(this),this.h=e||1,this.g=t||u,this.j=v(this.kb,this),this.l=Date.now()}function ke(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ge(e,t,n){if("function"===typeof e)n&&(e=v(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=v(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Ve(e){e.g=Ge((function(){e.g=null,e.i&&(e.i=!1,Ve(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}m(Me,Ee),(i=Me.prototype).da=!1,i.S=null,i.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Se(this,"tick"),this.da&&(ke(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Me.Z.M.call(this),ke(this),delete this.g};var je=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ve(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(w);function He(e){w.call(this),this.h=e,this.g={}}m(He,w);var We=[];function Be(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var o=0;o<n.length;o++){var i=he(t,n[o],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Ue(e){N(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ve(e)}),e),e.g={}}function ze(){this.g=!0}function qe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return _e(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}He.prototype.M=function(){He.Z.M.call(this),Ue(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.Aa=function(){this.g=!1},ze.prototype.info=function(){};var Ke={},Ye=null;function Qe(){return Ye=Ye||new Ee}function $e(e){ee.call(this,Ke.Ma,e)}function Xe(e){var t=Qe();Se(t,new $e(t,e))}function Je(e,t){ee.call(this,Ke.STAT_EVENT,e),this.stat=t}function Ze(e){var t=Qe();Se(t,new Je(t,e))}function et(e,t){ee.call(this,Ke.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ke.Ma="serverreachability",m($e,ee),Ke.STAT_EVENT="statevent",m(Je,ee),Ke.Na="timingevent",m(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ot(){}function it(e){return e.h||(e.h=e.i())}function st(){}ot.prototype.h=null;var at,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lt(){ee.call(this,"d")}function ct(){ee.call(this,"c")}function pt(){}function ht(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new He(this),this.P=ft,e=H?125:void 0,this.W=new Me(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}m(lt,ee),m(ct,ee),m(pt,ot),pt.prototype.g=function(){return new XMLHttpRequest},pt.prototype.i=function(){return{}},at=new pt;var ft=45e3,gt={},vt={};function yt(e,t,n){e.K=1,e.v=jt(xt(t)),e.s=n,e.U=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),Et(e),e.A=xt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new je(v(e.Ia,e,e.g),e.O)),Be(e.V,e.g,"readystatechange",e.gb),t=e.H?L(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xe(1),function(e,t,n,r,o,i){e.info((function(){if(e.g)if(i)for(var s="",a=i.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var p=c.split("_");s=2<=p.length&&"type"==p[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function wt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ct(e,t,n){for(var r,o=!0;!e.I&&e.C<n.length;){if((r=bt(e,n))==vt){4==t&&(e.o=4,Ze(14),o=!1),qe(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,Ze(15),qe(e.j,e.m,n,"[Invalid Chunk]"),o=!1;break}qe(e.j,e.m,r,null),Tt(e,r)}wt(e)&&r!=vt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ze(16),o=!1),e.i=e.i&&o,o?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(t),t.L=!0,Ze(11))):(qe(e.j,e.m,n,"[Invalid Chunked Response]"),Rt(e),_t(e))}function bt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?vt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(v(e.eb,e),t)}function Ot(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function _t(e){0==e.l.G||e.I||Xn(e.l,e)}function Rt(e){Ot(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ke(e.W),Ue(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.i,e)))if(n.I=e.N,!e.J&&un(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$n(n),Vn(n)}Kn(n),Ze(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(v(n.ab,n),6e3));if(1>=an(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else Zn(n,11)}else if((e.J||n.g==e)&&$n(n),!_(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var i=o[t];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var s=i[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=i[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=i[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var p=r.i;!p.g&&(A(c,"spdy")||A(c,"quic")||A(c,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(ln(p,p.h),p.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Vt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),d.J){cn(r.i,d);var f=d,g=r.K;g&&f.setTimeout(g),f.B&&(Ot(f),Et(f)),r.g=d}else qn(r);0<n.l.length&&Wn(n)}else"stop"!=i[0]&&"close"!=i[0]||Zn(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zn(n,7):Gn(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}Xe(4)}catch(i){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(c(e)||"string"===typeof e)E(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(c(e)||"string"===typeof e){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];It(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)It(o,r=e.g[t])||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ht.prototype).setTimeout=function(e){this.P=e},i.gb=function(e){e=e.target;var t=this.L;t&&3==Ln(e)?t.l():this.Ia(e)},i.Ia=function(e){try{if(e==this.g)e:{var t=Ln(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||H||this.g&&(this.h.h||this.g.ga()||xn(this.g)))){this.I||4!=t||7==n||Xe(8==n||0>=r?3:2),Ot(this);var o=this.g.ba();this.N=o;t:if(wt(this)){var i=xn(this.g);e="";var s=i.length,a=4==Ln(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rt(this),_t(this);var l="";break t}this.h.i=new u.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==s-1});i.splice(0,s),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==o,function(e,t,n,r,o,i,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s}))}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var c,p=this.g;if((c=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(c)){var h=c;break t}}h=null}if(!(o=h)){this.i=!1,this.o=3,Ze(12),Rt(this),_t(this);break e}qe(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tt(this,o)}this.U?(Ct(this,t,l),H&&this.i&&3==t&&(Be(this.V,this.W,"tick",this.fb),this.W.start())):(qe(this.j,this.m,l,null),Tt(this,l)),4==t&&Rt(this),this.i&&!this.I&&(4==t?Xn(this.l,this):(this.i=!1,Et(this)))}else 400==o&&0<l.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),Rt(this),_t(this)}}}catch(t){}},i.fb=function(){if(this.g){var e=Ln(this.g),t=this.g.ga();this.C<t.length&&(Ot(this),Ct(this,e,t),this.i&&4!=e&&Et(this))}},i.cancel=function(){this.I=!0,Rt(this)},i.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xe(3),Ze(17)),Rt(this),this.o=2,_t(this)):St(this,this.Y-e)},(i=Pt.prototype).R=function(){Dt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},i.T=function(){return Dt(this),this.g.concat()},i.get=function(e,t){return It(this.h,e)?this.h[e]:t},i.set=function(e,t){It(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},i.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var Nt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Lt){this.g=void 0!==t?t:e.g,Ft(this,e.j),this.s=e.s,Mt(this,e.i),kt(this,e.m),this.l=e.l,t=e.h;var n=new Qt;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),Gt(this,n),this.o=e.o}else e&&(n=String(e).match(Nt))?(this.g=!!t,Ft(this,n[1]||"",!0),this.s=Ht(n[2]||""),Mt(this,n[3]||"",!0),kt(this,n[4]),this.l=Ht(n[5]||"",!0),Gt(this,n[6]||"",!0),this.o=Ht(n[7]||"")):(this.g=!!t,this.h=new Qt(null,this.g))}function xt(e){return new Lt(e)}function Ft(e,t,n){e.j=n?Ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mt(e,t,n){e.i=n?Ht(t,!0):t}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gt(e,t,n){t instanceof Qt?(e.h=t,function(e,t){t&&!e.j&&($t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Wt(t,Kt)),e.h=new Qt(t,e.g))}function Vt(e,t,n){e.h.set(t,n)}function jt(e){return Vt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wt(t,Ut,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wt(t,Ut,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?qt:zt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wt(n,Yt)),e.join("")};var Ut=/[#\/\?@]/g,zt=/[#\?:]/g,qt=/[#\?]/g,Kt=/[#\?@]/g,Yt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $t(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){$t(e),t=en(e,t),It(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,It((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dt(e)))}function Jt(e,t){return $t(e),t=en(e,t),It(e.g.h,t)}function Zt(e,t,n){Xt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),O(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(i=Qt.prototype).add=function(e,t){$t(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},i.forEach=function(e,t){$t(this),this.g.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.T=function(){$t(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},i.R=function(e){$t(this);var t=[];if("string"===typeof e)Jt(this,e)&&(t=S(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},i.set=function(e,t){return $t(this),this.i=null,Jt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},i.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),e.push(s)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||on,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,on=10;function sn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function an(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ln(e,t){e.g?e.g.add(t):e.h=t}function cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=o(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return O(e.i)}function hn(){}function dn(){this.g=new hn}function fn(e,t,n){var r=n||"";try{At(e,(function(e,n){var o=e;p(e)&&(o=_e(e)),t.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function gn(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(i){}}function vn(e){this.l=e.$b||null,this.j=e.ib||!1}function yn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=o(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},hn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},hn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},m(vn,ot),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=(rn={},function(){return rn}),m(yn,Ee);var mn=0;function wn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Cn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bn(e)}function bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(i=yn.prototype).open=function(e,t){if(this.readyState!=mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bn(this)},i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=mn},i.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cn(this):bn(this),3==this.readyState&&wn(this)}},i.Ua=function(e){this.g&&(this.response=this.responseText=e,Cn(this))},i.Ta=function(e){this.g&&(this.response=e,Cn(this))},i.ha=function(){this.g&&Cn(this)},i.setRequestHeader=function(e,t){this.v.append(e,t)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=u.JSON.parse;function Sn(e){Ee.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=On,this.K=this.L=!1}m(Sn,Ee);var On="",_n=/^https?$/i,Rn=["POST","PUT"];function Tn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),In(e)}function Pn(e){e.D||(e.D=!0,Se(e,"complete"),Se(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof a&&(!e.C[1]||4!=Ln(e)||2!=e.ba()))if(e.v&&4==Ln(e))Ge(e.Fa,0,e);else if(Se(e,"readystatechange"),4==Ln(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.H).match(Nt)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!_n.test(i?i.toLowerCase():"")}t=o}if(t)Se(e,"complete"),Se(e,"success");else{e.m=6;try{var l=2<Ln(e)?e.g.statusText:""}catch(c){l=""}e.j=l+" ["+e.ba()+"]",Pn(e)}}finally{In(e)}}}function In(e,t){if(e.g){Nn(e);var n=e.g,r=e.C[0]?l:null;e.g=null,e.C=null,t||Se(e,"ready");try{n.onreadystatechange=r}catch(o){}}}function Nn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Ln(e){return e.g?e.g.readyState:0}function xn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case On:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return N(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vt(e,t,n))}function Mn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.za=0,this.l=[],this.h=new ze,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mn("baseRetryDelayMs",5e3,e),this.$a=Mn("retryDelaySeedMs",1e4,e),this.Ya=Mn("forwardChannelMaxRetries",2,e),this.ra=Mn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new dn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gn(e){if(jn(e),3==e.G){var t=e.V++,n=xt(e.F);Vt(n,"SID",e.J),Vt(n,"RID",t),Vt(n,"TYPE","terminate"),Un(e,n),(t=new ht(e,e.h,t,void 0)).K=2,t.v=jt(xt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}er(e)}function Vn(e){e.g&&(Yn(e),e.g.cancel(),e.g=null)}function jn(e){Vn(e),e.u&&(u.clearTimeout(e.u),e.u=null),$n(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&Wn(e)}function Wn(e){sn(e.i)||e.m||(e.m=!0,Ne(e.Ha,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.V++;var r=xt(e.F);Vt(r,"SID",e.J),Vt(r,"RID",n),Vt(r,"AID",e.U),Un(e,r),e.o&&e.s&&Fn(r,e.o,e.s),n=new ht(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ln(e.i,n),yt(n,r,t)}function Un(e,t){e.j&&At({},(function(e,n){Vt(t,n,e)}))}function zn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?v(e.j.Oa,e.j,e):null;e:for(var o=e.l,i=-1;;){var s=["count="+n];-1==i?0<n?(i=o[0].h,s.push("ofs="+i)):i=0:s.push("ofs="+i);for(var a=!0,u=0;u<n;u++){var l=o[u].h,c=o[u].g;if(0>(l-=i))i=Math.max(0,o[u].h-100),a=!1;else try{fn(c,s,"req"+l+"_")}catch(p){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function qn(e){e.g||e.u||(e.Y=1,Ne(e.Ga,e),e.A=0)}function Kn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(v(e.Ga,e),Jn(e,e.A)),e.A++,!0)}function Yn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function Qn(e){e.g=new ht(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=xt(e.oa);Vt(t,"RID","rpc"),Vt(t,"SID",e.J),Vt(t,"CI",e.N?"0":"1"),Vt(t,"AID",e.U),Un(e,t),Vt(t,"TYPE","xmlhttp"),e.o&&e.s&&Fn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=jt(xt(t)),n.s=null,n.U=!0,mt(n,e)}function $n(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Xn(e,t){var n=null;if(e.g==t){$n(e),Yn(e),e.g=null;var r=2}else{if(!un(e.i,t))return;n=t.D,cn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;Se(r=Qe(),new et(r,n,t,o)),Wn(e)}else qn(e);else if(3==(o=t.o)||0==o&&0<e.I||!(1==r&&function(e,t){return!(an(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(v(e.Ha,e,t),Jn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Jn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=v(e.jb,e);n||(n=new Lt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Ft(n,"https"),jt(n)),function(e,t){var n=new ze;if(u.Image){var r=new Image;r.onload=y(gn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(gn,n,r,"TestLoadImage: error",!1,t),r.onabort=y(gn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(gn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.G=0,e.j&&e.j.va(t),er(e),jn(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==pn(e.i).length&&0==e.l.length||(e.i.i.length=0,O(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Lt?xt(e):new Lt(e,void 0)}(n);if(""!=r.i)t&&Mt(r,t+"."+r.i),kt(r,r.m);else{var o=u.location;r=function(e,t,n,r){var o=new Lt(null,void 0);return e&&Ft(o,e),t&&Mt(o,t),n&&kt(o,n),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&N(e.aa,(function(e,t){Vt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Vt(r,t,n),Vt(r,"VER",e.ma),Un(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new vn({ib:!0})):new Sn(e.qa)).L=e.H,t}function rr(){}function or(){if(V&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function ir(e,t){Ee.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function sr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ar(){ct.call(this),this.status=1}function ur(e){this.g=e}(i=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():at.g(),this.C=this.u?it(this.u):it(at),this.g.onreadystatechange=v(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void An(this,i)}e=n||"";var o=new Pt(this.headers);r&&At(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Tn,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.T()),n=u.FormData&&e instanceof u.FormData,!(0<=b(Rn,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(e){return V&&$()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v(this.pa,this)):this.A=Ge(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){An(this,i)}},i.pa=function(){"undefined"!=typeof a&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))},i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Se(this,"complete"),Se(this,"abort"),In(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),In(this,!0)),Sn.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},i.cb=function(){Dn(this)},i.ba=function(){try{return 2<Ln(this)?this.g.status:-1}catch(rn){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},i.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(i=kn.prototype).ma=8,i.G=1,i.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},i.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ht(this,this.h,e,void 0),n=this.s;if(this.P&&(n?F(n=L(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){var i=this.l[o];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=o;break e}if(4096===r||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=zn(this,t,r),Vt(o=xt(this.F),"RID",e),Vt(o,"CVER",22),this.D&&Vt(o,"X-HTTP-Session-Id",this.D),Un(this,o),this.o&&n&&Fn(o,this.o,n),ln(this.i,t),this.Ra&&Vt(o,"TYPE","init"),this.ja?(Vt(o,"$req",r),Vt(o,"SID","null"),t.$=!0,yt(t,o,null)):yt(t,o,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.l.length||sn(this.i)||Bn(this))},i.Ga=function(){if(this.u=null,Qn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(v(this.bb,this),e)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),Vn(this),Qn(this))},i.ab=function(){null!=this.v&&(this.v=null,Vn(this),Kn(this),Ze(19))},i.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(i=rr.prototype).xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},or.prototype.g=function(e,t){return new ir(e,t)},m(ir,Ee),ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ne(v(e.hb,e,t))),Ze(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),Wn(e)},ir.prototype.close=function(){Gn(this.g)},ir.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=_e(e),Hn(this.g,t)):Hn(this.g,e)},ir.prototype.M=function(){this.g.j=null,delete this.j,Gn(this.g),delete this.g,ir.Z.M.call(this)},m(sr,lt),m(ar,ct),m(ur,rr),ur.prototype.xa=function(){Se(this.g,"a")},ur.prototype.wa=function(e){Se(this.g,new sr(e))},ur.prototype.va=function(e){Se(this.g,new ar(e))},ur.prototype.ua=function(){Se(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",st.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var lr=function(){return new or},cr=function(){return Qe()},pr=nt,hr=rt,dr=Ke,fr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=vn,vr=st,yr=Sn}).call(this,n(28))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var o;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d}));var i,s=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},u=i.INFO,l=((o={})[i.DEBUG]="log",o[i.VERBOSE]="log",o[i.INFO]="info",o[i.WARN]="warn",o[i.ERROR]="error",o),c=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString(),s=l[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+i+"]  "+e.name+":"],n))}},p=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],e)),this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],e)),this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],e)),this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],e)),this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],e)),this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function h(e){s.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:a,args:o,type:t.name})}},r=0,o=s;r<o.length;r++){n(o[r])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ki})),n.d(t,"b",(function(){return Yi})),n.d(t,"c",(function(){return $i})),n.d(t,"d",(function(){return Qi}));var r=n(25),o=n(31),i=n(33),s=n(34),a=n(22),u=n(35);function l(e){return Object(i.a)(e)||Object(s.a)(e)||Object(a.a)(e)||Object(u.a)()}var c=n(27);function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=n(14);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var g=n(6),v=n(5);function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function C(e,t,n){return(C=w()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&m(o,n.prototype),o}).apply(null,arguments)}function b(e){var t="function"===typeof Map?new Map:void 0;return(b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return C(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?p(e):t}function _(e){var t=w();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var T=n(12),A=n.n(T);function P(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}var D=n(19),I=n.n(D),N=n(1),L=n.n(N),x=A.a.mark(V),F=A.a.mark(Ft);var M=function(e,t){if(null!=e)return e;throw new Error(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};var k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null};var G=function(e,t){var n=new Set(e);return n.add(t),n};function V(e,t){var n,r,o,i;return A.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:n=0,r=P(e),s.prev=2,r.s();case 4:if((o=r.n()).done){s.next=11;break}if(i=o.value,!t(i,n++)){s.next=9;break}return s.next=9,i;case 9:s.next=4;break;case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(2),r.e(s.t0);case 16:return s.prev=16,r.f(),s.finish(16);case 19:case"end":return s.stop()}}),x,null,[[2,13,16,19]])}var j=V,H=(new Map).set("recoil_hamt_2020",!0);function W(e){var t;return null!==(t=H.get(e))&&void 0!==t&&t}W.setPass=function(e){H.set(e,!0)},W.setFail=function(e){H.set(e,!1)};var B=W;var U=function(e,t){return A.a.mark((function n(){var r,o,i,s;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,o=P(e),n.prev=2,o.s();case 4:if((i=o.n()).done){n.next=10;break}return s=i.value,n.next=8,t(s,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),o.e(n.t0);case 15:return n.prev=15,o.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var z=function(e){};function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function e(t){R(this,e),q(this,"key",void 0),this.key=t},Y=function(e){E(n,e);var t=_(n);function n(){return R(this,n),t.apply(this,arguments)}return n}(K),Q=function(e){E(n,e);var t=_(n);function n(){return R(this,n),t.apply(this,arguments)}return n}(K);var $={AbstractRecoilValue:K,RecoilState:Y,RecoilValueReadOnly:Q,isRecoilValue:function(e){return e instanceof Y||e instanceof Q}},X=$.AbstractRecoilValue,J=$.RecoilState,Z=$.RecoilValueReadOnly,ee=$.isRecoilValue,te=Object.freeze({__proto__:null,AbstractRecoilValue:X,RecoilState:J,RecoilValueReadOnly:Z,isRecoilValue:ee}),ne=function e(){R(this,e)},re=new ne,oe=function(e){E(n,e);var t=_(n);function n(e){return R(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return n}(b(Error)),ie=new Map,se=new Map;var ae=function(e){E(n,e);var t=_(n);function n(){return R(this,n),t.apply(this,arguments)}return n}(b(Error));var ue=new Map;function le(e){return ue.get(e)}var ce={nodes:ie,recoilValues:se,registerNode:function(e){if(ie.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}ie.set(e.key,e);var n=null==e.set?new te.RecoilValueReadOnly(e.key):new te.RecoilState(e.key);return se.set(e.key,n),n},getNode:function(e){var t=ie.get(e);if(null==t)throw new ae('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return ie.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(B("recoil_memory_managament_2020")){var n,r=ie.get(e);if(null===r||void 0===r||null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))ie.delete(e),null===(n=le(e))||void 0===n||n(),ue.delete(e)}},setConfigDeletionHandler:function(e,t){B("recoil_memory_managament_2020")&&(void 0===t?ue.delete(e):ue.set(e,t))},getConfigDeletionHandler:le,recoilValuesForKeys:function(e){return U(e,(function(e){return M(se.get(e))}))},NodeMissingError:ae,DefaultValue:ne,DEFAULT_VALUE:re,RecoilValueNotReady:oe},pe=function e(){R(this,e)};var he=pe,de=function(){return new pe},fe=G,ge=ce.getNode,ve=ce.getNodeMaybe,ye=ce.recoilValuesForKeys,me=he,we=Object.freeze(new Set),Ce=function(e){E(n,e);var t=_(n);function n(){return R(this,n),t.apply(this,arguments)}return n}(b(Error));function be(e,t,n,r){var o=e.getState();if(!o.nodeCleanupFunctions.has(n)){var i=ge(n),s=function(e,t,n){if(!B("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function o(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof me)o(n);else if(Array.isArray(n)){var i,s=P(n);try{for(s.s();!(i=s.n()).done;)o(i.value)}catch(a){s.e(a)}finally{s.f()}}return function(){if(B("recoil_memory_managament_2020")){var r=e.getState().retention.nodesRetainedByZone;if(n instanceof me)s(n);else if(Array.isArray(n)){var o,i=P(n);try{for(i.s();!(o=i.n()).done;)s(o.value)}catch(a){i.e(a)}finally{i.f()}}}function s(e){var n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}}}(e,n,i.retainedBy),a=i.init(e,t,r);o.nodeCleanupFunctions.set(n,(function(){a(),s()}))}}function Ee(e,t,n){return ge(n).peek(e,t)}function Se(e,t,n){for(var r=new Set,o=Array.from(n),i=e.getGraph(t.version),s=o.pop();s;s=o.pop()){var a;r.add(s);var u,l=P(null!==(a=i.nodeToNodeSubscriptions.get(s))&&void 0!==a?a:we);try{for(l.s();!(u=l.n()).done;){var c=u.value;r.has(c)||o.push(c)}}catch(p){l.e(p)}finally{l.f()}}return r}var Oe=function(e,t,n){return be(e,t,n,"get"),ge(n).get(e,t)},_e=Ee,Re=function(e,t,n,r){var o=ge(n);if(null==o.set)throw new Ce("Attempt to set read-only RecoilValue: ".concat(n));var i=o.set;return be(e,t,n,"set"),i(e,t,r)},Te=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},Ae=function(e,t,n){var r,o=ve(t);return null===o||void 0===o||null===(r=o.invalidate)||void 0===r||r.call(o,e),Object(v.a)(Object(v.a)({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:fe(e.dirtyAtoms,t)})},Pe=function(e,t,n){var r,o,i,s=e.getState(),a=e.getGraph(t.version),u=s.knownAtoms.has(n)?"atom":s.knownSelectors.has(n)?"selector":void 0,l=j(Se(e,t,new Set([n])),(function(e){return e!==n}));return{loadable:Ee(e,t,n),isActive:s.knownAtoms.has(n)||s.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:ye(null!==(r=a.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:ye(l),components:U(null!==(o=null===(i=s.nodeToComponentSubscriptions.get(n))||void 0===i?void 0:i.values())&&void 0!==o?o:[],(function(e){return{name:Object(g.a)(e,1)[0]}}))}}},De=Se,Ie=be,Ne=De,Le=Oe,xe=Re,Fe=ce.getNodeMaybe,Me=ce.DefaultValue,ke=ce.RecoilValueNotReady,Ge=te.AbstractRecoilValue,Ve=te.RecoilState,je=te.RecoilValueReadOnly,He=te.isRecoilValue;function We(e,t,n){if("set"===n.type){var r,o=n.recoilValue,i=function(e,t,n,r){var o=n.key;if("function"===typeof r){var i=Le(e,t,o);if("loading"===i.state)throw new ke(o);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,o,n.valueOrUpdater),s=P(xe(e,t,o.key,i).entries());try{for(s.s();!(r=s.n()).done;){var a=Object(g.a)(r.value,2);Be(t,a[0],a[1])}}catch(d){s.e(d)}finally{s.f()}}else if("setLoadable"===n.type){Be(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var u=n.recoilValue.key;t.dirtyAtoms.add(u)}else if("setUnvalidated"===n.type){var l,c=n.recoilValue.key,p=n.unvalidatedValue,h=Fe(c);null===h||void 0===h||null===(l=h.invalidate)||void 0===l||l.call(h,t),t.atomValues.delete(c),t.nonvalidatedAtoms.set(c,p),t.dirtyAtoms.add(c)}else k("Unknown action ".concat(n.type))}function Be(e,t,n){"hasValue"===n.state&&n.contents instanceof Me?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Ue(e,t){e.replaceState((function(n){var r,o=function(e){return Object(v.a)(Object(v.a)({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}(n),i=P(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;We(e,o,s)}}catch(a){i.e(a)}finally{i.f()}return Ke(e,o),o}))}function ze(e,t){if(qe.length){var n=qe[qe.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Ue(e,[t])}var qe=[];function Ke(e,t){var n,r=P(Ne(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var o,i,s=n.value;null===(o=Fe(s))||void 0===o||null===(i=o.invalidate)||void 0===i||i.call(o,t)}}catch(a){r.e(a)}finally{r.f()}}function Ye(e,t,n){ze(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Qe=0;var $e={RecoilValueReadOnly:je,AbstractRecoilValue:Ge,RecoilState:Ve,getRecoilValueAsLoadable:function(e,t){var n,r,o=t.key,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,s=e.getState();i.version!==s.currentTree.version&&i.version!==(null===(n=s.nextTree)||void 0===n?void 0:n.version)&&i.version!==(null===(r=s.previousTree)||void 0===r?void 0:r.version)&&k("Tried to read from a discarded tree");var a=Le(e,i,o);return a},setRecoilValue:Ye,setRecoilValueLoadable:function(e,t,n){if(n instanceof Me)return Ye(e,t,n);ze(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ze(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ze(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=Qe++,s=e.getState();return s.nodeToComponentSubscriptions.has(r)||s.nodeToComponentSubscriptions.set(r,new Map),M(s.nodeToComponentSubscriptions.get(r)).set(i,[null!==o&&void 0!==o?o:"<not captured>",n]),{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(i)?(n.delete(i),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):k("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:He,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof Me?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return qe.push(e),function(){var t,n=P(e);try{for(n.s();!(t=n.n()).done;){var r=Object(g.a)(t.value,2);Ue(r[0],r[1])}}catch(o){n.e(o)}finally{n.f()}qe.pop()!==e&&k("Incorrect order of batch popping")}},invalidateDownstreams_FOR_TESTING:Ke},Xe=I.a.unstable_batchedUpdates,Je=$e.batchStart,Ze={unstable_batchedUpdates:{unstable_batchedUpdates:Xe}.unstable_batchedUpdates}.unstable_batchedUpdates,et=function(e){Ze=e},tt=function(e){Ze((function(){var t=function(){};try{t=Je(),e()}finally{t()}}))};var nt={enqueueExecution:function(e,t){t()}};var rt=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,s=P(e);try{e:for(s.s();!(i=s.n()).done;){var a,u=i.value,l=P(r);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c.has(u))continue e}}catch(p){l.e(p)}finally{l.f()}t.add(u)}}catch(p){s.e(p)}finally{s.f()}return t};var ot=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function it(e,t,n){var r=t.nodeDeps,o=t.nodeToNodeSubscriptions;e.forEach((function(e,t){var i=r.get(t);i&&n&&i!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==i?e:rt(e,i)).forEach((function(e){o.has(e)||o.set(e,new Set),M(o.get(e)).add(t)})),i&&rt(i,e).forEach((function(e){if(o.has(e)){var n=M(o.get(e));n.delete(t),0===n.size&&o.delete(e)}})))}))}var st=function(e){return{nodeDeps:ot(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:ot(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},at=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},ut=function(e,t,n){var r,o,i,s,a=t.getState();n!==a.currentTree.version&&n!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(o=a.previousTree)||void 0===o?void 0:o.version)&&k("Tried to save dependencies to a discarded tree");var u=t.getGraph(n);if(it(e,u),n===(null===(i=a.previousTree)||void 0===i?void 0:i.version)&&it(e,t.getGraph(a.currentTree.version),u),n===(null===(s=a.previousTree)||void 0===s?void 0:s.version)||n===a.currentTree.version){var l,c=null===(l=a.nextTree)||void 0===l?void 0:l.version;if(void 0!==c)it(e,t.getGraph(c),u)}};var lt=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),o=r-1,i=r/2,s=r/4,a={},u=function(e){return function(){return e}},l=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,o=0,i=e.length;o<i;++o){r=(r<<5)-r+e.charCodeAt(o)|0}return r},c=function(e,t){return t>>>e&o},p=function(e){return 1<<e},h=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},d=function(e,t,n,r){var o=r;if(!e){var i=r.length;o=new Array(i);for(var s=0;s<i;++s)o[s]=r[s]}return o[t]=n,o},f=function(e,t,n){var r=n.length-1,o=0,i=0,s=n;if(e)o=i=t;else for(s=new Array(r);o<t;)s[i++]=n[o++];for(++o;o<=r;)s[i++]=n[o++];return e&&(s.length=r),s},g={__hamt_isEmpty:!0},v=function(e){return e===g||e&&e.__hamt_isEmpty},y=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},m=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:O}},w=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:_}},C=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:R}},b=function e(t,n,r,o,i,s){if(r===i)return m(t,r,[s,o]);var a=c(n,r),u=c(n,i);return w(t,p(a)|p(u),a===u?[e(t,n+5,r,o,i,s)]:a<u?[o,s]:[s,o])},E=function(e,t){return e===t.edit},S=function(e,t,n,r,o,i,s){if(t(i,this.key)){var u=r(this.value);return u===this.value?this:u===a?(--s.value,g):E(e,this)?(this.value=u,this):y(e,o,i,u)}var l=r();return l===a?this:(++s.value,b(e,n,this.hash,this,o,y(e,o,i,l)))},O=function(e,t,n,r,o,i,s){if(o===this.hash){var u=function(e,t,n,r,o,i,s,u){for(var l=o.length,c=0;c<l;++c){var p=o[c];if(n(s,p.key)){var h=p.value,g=i(h);return g===h?o:g===a?(--u.value,f(e,c,o)):d(e,c,y(t,r,s,g),o)}}var v=i();return v===a?o:(++u.value,d(e,l,y(t,r,s,v),o))}(E(e,this),e,t,this.hash,this.children,r,i,s);return u===this.children?this:u.length>1?m(e,this.hash,u):u[0]}var l=r();return l===a?this:(++s.value,b(e,n,this.hash,this,o,y(e,o,i,l)))},_=function(e,t,n,r,o,s,a){var u=this.mask,l=this.children,y=c(n,o),m=p(y),b=h(u,m),S=u&m,O=S?l[b]:g,_=O._modify(e,t,n+5,r,o,s,a);if(O===_)return this;var R,T=E(e,this),A=u,P=void 0;if(S&&v(_)){if(!(A&=~m))return g;if(l.length<=2&&((R=l[1^b])===g||1===R.type||2===R.type))return l[1^b];P=f(T,b,l)}else if(S||v(_))P=d(T,b,_,l);else{if(l.length>=i)return function(e,t,n,r,o){for(var i=[],s=r,a=0,u=0;s;++u)1&s&&(i[u]=o[a++]),s>>>=1;return i[t]=n,C(e,a+1,i)}(e,y,_,u,l);A|=m,P=function(e,t,n,r){var o=r.length;if(e){for(var i=o;i>=t;)r[i--]=r[i];return r[t]=n,r}for(var s=0,a=0,u=new Array(o+1);s<t;)u[a++]=r[s++];for(u[t]=n;s<o;)u[++a]=r[s++];return u}(T,b,_,l)}return T?(this.mask=A,this.children=P,this):w(e,A,P)},R=function(e,t,n,r,o,i,a){var u=this.size,l=this.children,p=c(n,o),h=l[p],f=(h||g)._modify(e,t,n+5,r,o,i,a);if(h===f)return this;var y=E(e,this),m=void 0;if(v(h)&&!v(f))++u,m=d(y,p,f,l);else if(!v(h)&&v(f)){if(--u<=s)return function(e,t,n,r){for(var o=new Array(t-1),i=0,s=0,a=0,u=r.length;a<u;++a)if(a!==n){var l=r[a];l&&!v(l)&&(o[i++]=l,s|=1<<a)}return w(e,s,o)}(e,u,p,l);m=d(y,p,g,l)}else m=d(y,p,f,l);return y?(this.size=u,this.children=m,this):C(e,u,m)};function T(e,t,n,r,o){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=o}g._modify=function(e,t,n,r,o,i,s){var u=r();return u===a?g:(++s.value,y(e,o,i,u))},T.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new T(this._editable,this._edit,this._config,e,t)};var A=n.tryGetHash=function(e,t,n,r){for(var o=r._root,i=0,s=r._config.keyEq;;)switch(o.type){case 1:return s(n,o.key)?o.value:e;case 2:if(t===o.hash)for(var a=o.children,u=0,l=a.length;u<l;++u){var d=a[u];if(s(n,d.key))return d.value}return e;case 3:var f=c(i,t),g=p(f);if(o.mask&g){o=o.children[h(o.mask,g)],i+=5;break}return e;case 4:if(o=o.children[c(i,t)]){i+=5;break}return e;default:return e}};T.prototype.tryGetHash=function(e,t,n){return A(e,t,n,this)};var P=n.tryGet=function(e,t,n){return A(e,n._config.hash(t),t,n)};T.prototype.tryGet=function(e,t){return P(e,t,this)};var D=n.getHash=function(e,t,n){return A(void 0,e,t,n)};T.prototype.getHash=function(e,t){return D(e,t,this)};n.get=function(e,t){return A(void 0,t._config.hash(e),e,t)};T.prototype.get=function(e,t){return P(t,e,this)};var I=n.has=function(e,t,n){return A(a,e,t,n)!==a};T.prototype.hasHash=function(e,t){return I(e,t,this)};var N=n.has=function(e,t){return I(t._config.hash(e),e,t)};T.prototype.has=function(e){return N(e,this)};var L=function(e,t){return e===t};n.make=function(e){return new T(0,0,{keyEq:e&&e.keyEq||L,hash:e&&e.hash||l},g,0)},n.empty=n.make();var x=n.isEmpty=function(e){return e&&!!v(e._root)};T.prototype.isEmpty=function(){return x(this)};var F=n.modifyHash=function(e,t,n,r){var o={value:r._size},i=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,o);return r.setTree(i,o.value)};T.prototype.modifyHash=function(e,t,n){return F(n,e,t,this)};var M=n.modify=function(e,t,n){return F(e,n._config.hash(t),t,n)};T.prototype.modify=function(e,t){return M(t,e,this)};var k=n.setHash=function(e,t,n,r){return F(u(n),e,t,r)};T.prototype.setHash=function(e,t,n){return k(e,t,n,this)};var G=n.set=function(e,t,n){return k(n._config.hash(e),e,t,n)};T.prototype.set=function(e,t){return G(e,t,this)};var V=u(a),j=n.removeHash=function(e,t,n){return F(V,e,t,n)};T.prototype.removeHash=T.prototype.deleteHash=function(e,t){return j(e,t,this)};var H=n.remove=function(e,t){return j(t._config.hash(e),e,t)};T.prototype.remove=T.prototype.delete=function(e){return H(e,this)};var W=n.beginMutation=function(e){return new T(e._editable+1,e._edit+1,e._config,e._root,e._size)};T.prototype.beginMutation=function(){return W(this)};var B=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};T.prototype.endMutation=function(){return B(this)};var U=n.mutate=function(e,t){var n=W(t);return e(n),B(n)};T.prototype.mutate=function(e){return U(e,this)};var z=function(e){return e&&q(e[0],e[1],e[2],e[3],e[4])},q=function(e,t,n,r,o){for(;n<e;){var i=t[n++];if(i&&!v(i))return K(i,r,[e,t,n,r,o])}return z(o)},K=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return q(r.length,r,0,t,n);default:return z(n)}},Y={done:!0};function Q(e){this.v=e}Q.prototype.next=function(){if(!this.v)return Y;var e=this.v;return this.v=z(e.rest),e},Q.prototype[Symbol.iterator]=function(){return this};var $=function(e,t){return new Q(K(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return $(e,X)};T.prototype.entries=T.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return $(e,Z)};T.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=T.prototype.values=function(e){return $(e,te)};T.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var o=[r.children],i=void 0;i=o.pop();)for(var s=0,a=i.length;s<a;){var u=i[s++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):o.push(u.children))}return t};T.prototype.fold=function(e,t){return re(e,t,this)};var oe=n.forEach=function(e,t){return re((function(n,r,o){return e(r,o,t)}),null,t)};T.prototype.forEach=function(e){return oe(e,this)};var ie=n.count=function(e){return e._size};T.prototype.count=function(){return ie(this)},Object.defineProperty(T.prototype,"size",{get:T.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),ct=function(){function e(t){R(this,e),q(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return f(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return ht(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),pt=function(){function e(t){if(R(this,e),q(this,"_hamt",lt.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,o=P(t.entries());try{for(o.s();!(r=o.n()).done;){var i=Object(g.a)(r.value,2),s=i[0],a=i[1];this._hamt.set(s,a)}}catch(u){o.e(u)}finally{o.f()}}}return f(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return ht(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function ht(e){return B("recoil_hamt_2020")?new pt(e):new ct(e)}var dt=ht,ft=at,gt=Object.freeze({__proto__:null,persistentMap:dt}).persistentMap,vt=0,yt=function(){return vt++};function mt(){var e=yt();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:gt(),nonvalidatedAtoms:gt()}}var wt=function(){var e=mt();return{currentTree:e,nextTree:null,previousTree:null,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,ft()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},Ct=yt;var bt=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s,a=i[o],u=P(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;e.add(l)}}catch(c){u.e(c)}finally{u.f()}}return e};var Et=function(e,t,n){for(var r=e.entries(),o=r.next();!o.done;){var i=o.value;if(t.call(n,i[1],i[0],e))return!0;o=r.next()}return!1},St=Te,Ot=ce.deleteNodeConfigIfPossible,_t=ce.getNode,Rt=he,Tt=new Set;function At(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)k("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var o,i=new Set,s=P(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a instanceof Rt){var u,l=P(Dt(n,a));try{for(l.s();!(u=l.n()).done;){var c=u.value;i.add(c)}}catch(f){l.e(f)}finally{l.f()}}else i.add(a)}}catch(f){s.e(f)}finally{s.f()}var p,h=function(e,t){var n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),i=new Set,s=new Set;return a(t),i;function a(t){var u,l=new Set,c=function(e,t,n,r,o){var i=e.getGraph(t.version),s=[],a=new Set;for(;n.size>0;)u(M(n.values().next().value));return s;function u(e){if(r.has(e)||o.has(e))n.delete(e);else if(!a.has(e)){var t=i.nodeToNodeSubscriptions.get(e);if(t){var l,c=P(t);try{for(c.s();!(l=c.n()).done;){u(l.value)}}catch(f){c.e(f)}finally{c.f()}}a.add(e),n.delete(e),s.push(e)}}}(e,r,t,i,s),p=P(c);try{for(p.s();!(u=p.n()).done;){var h,d=u.value;if("recoilRoot"!==_t(d).retainedBy)if((null!==(h=n.retention.referenceCounts.get(d))&&void 0!==h?h:0)>0)s.add(d);else if(It(d).some((function(e){return n.retention.referenceCounts.get(e)})))s.add(d);else{var g=o.nodeToNodeSubscriptions.get(d);g&&Et(g,(function(e){return s.has(e)}))?s.add(d):(i.add(d),l.add(d))}else s.add(d)}}catch(f){p.e(f)}finally{p.f()}var v,y=new Set,m=P(l);try{for(m.s();!(v=m.n()).done;){var w,C=v.value,b=P(null!==(E=o.nodeDeps.get(C))&&void 0!==E?E:Tt);try{for(b.s();!(w=b.n()).done;){var E,S=w.value;i.has(S)||y.add(S)}}catch(f){b.e(f)}finally{b.f()}}}catch(f){m.e(f)}finally{m.f()}y.size&&a(y)}}(e,i),d=P(h);try{for(d.s();!(p=d.n()).done;){Pt(e,r,p.value)}}catch(f){d.e(f)}finally{d.f()}}}function Pt(e,t,n){if(B("recoil_memory_managament_2020")){St(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var o,i=P(It(n));try{for(i.s();!(o=i.n()).done;){var s,a=o.value;null===(s=r.retention.nodesRetainedByZone.get(a))||void 0===s||s.delete(n)}}catch(f){i.e(f)}finally{i.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var u=r.graphsByVersion.get(t.version);if(u){var l=u.nodeDeps.get(n);if(void 0!==l){u.nodeDeps.delete(n);var c,p=P(l);try{for(p.s();!(c=p.n()).done;){var h,d=c.value;null===(h=u.nodeToNodeSubscriptions.get(d))||void 0===h||h.delete(n)}}catch(f){p.e(f)}finally{p.f()}}u.nodeToNodeSubscriptions.delete(n)}Ot(n)}}function Dt(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:Tt}function It(e){var t=_t(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Rt?[t]:t}var Nt=function(e,t,n){var r;if(B("recoil_memory_managament_2020")){var o=e.getState().retention.referenceCounts,i=(null!==(r=o.get(t))&&void 0!==r?r:0)+n;0===i?(o.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):At(e,new Set([t]))}(e,t)):o.set(t,i)}},Lt=function(e){if(B("recoil_memory_managament_2020")){var t=e.getState();At(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},xt=function(e){return void 0===e?"recoilRoot":e};function Ft(e){var t,n,r,o,i,s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=P(e),a.prev=1,t.s();case 3:if((n=t.n()).done){a.next=24;break}r=n.value,o=P(r),a.prev=6,o.s();case 8:if((i=o.n()).done){a.next=14;break}return s=i.value,a.next=12,s;case 12:a.next=8;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(6),o.e(a.t0);case 19:return a.prev=19,o.f(),a.finish(19);case 22:a.next=3;break;case 24:a.next=29;break;case 26:a.prev=26,a.t1=a.catch(1),t.e(a.t1);case 29:return a.prev=29,t.f(),a.finish(29);case 32:case"end":return a.stop()}}),F,null,[[1,26,29,32],[6,16,19,22]])}var Mt=Ft,kt={isSSR:"undefined"===typeof window,isReactNative:"undefined"!==typeof navigator&&"ReactNative"===navigator.product},Gt=kt.isSSR,Vt=tt,jt=Ie,Ht=Pe,Wt=at,Bt=ce.DEFAULT_VALUE,Ut=ce.recoilValues,zt=ce.recoilValuesForKeys,qt=$e.AbstractRecoilValue,Kt=$e.getRecoilValueAsLoadable,Yt=$e.setRecoilValue,Qt=$e.setUnvalidatedRecoilValue,$t=Ct,Xt=wt,Jt=function(){function e(t){var n=this;R(this,e),q(this,"_store",void 0),q(this,"_refCount",0),q(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),Kt(n._store,e)})),q(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),q(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return zt(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,o=n._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?Ut.values():!0===e.isInitialized?zt(Mt([n._store.getState().knownAtoms,n._store.getState().knownSelectors])):j(Ut.values(),(function(e){var t=e.key;return!r.has(t)&&!o.has(t)}))})),q(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),Ht(n._store,n._store.getState().currentTree,t)})),q(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new tn(n);return e(t),en(t.getStore_INTERNAL())})),q(this,"asyncMap",function(){var e=Object(h.a)(A.a.mark((function e(t){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),r=new tn(n),e.next=4,t(r);case 4:return e.abrupt("return",en(r.getStore_INTERNAL()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return M(n.get(e));var r=Wt();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw new Error("Cannot subscribe to Snapshots")}};var r,o=P(this._store.getState().nodeCleanupFunctions.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value;jt(this._store,t.currentTree,i,"get")}}catch(s){o.e(s)}finally{o.f()}this.retain(),this.autorelease()}return f(e,[{key:"retain",value:function(){var e=this;if(!B("recoil_memory_managament_2020"))return function(){};this._refCount++;var t=!1;return function(){t||(t=!0,e.release())}}},{key:"autorelease",value:function(){var e=this;B("recoil_memory_managament_2020")&&(Gt||window.setTimeout((function(){return e.release()}),0))}},{key:"release",value:function(){B("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}},{key:"checkRefCount_INTERNAL",value:function(){B("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}},{key:"getID_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}]),e}();function Zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),o=n?$t():t.version;return{currentTree:n?{version:o,stateID:o,transactionMetadata:Object(v.a)({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(o,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=e.getState(),r="current"===t?n.currentTree:M(n.previousTree);return new Jt(Zt(e,r))}var tn=function(e){E(n,e);var t=_(n);function n(e){var r;return R(this,n),q(p(r=t.call(this,Zt(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0))),"set",(function(e,t){r.checkRefCount_INTERNAL(),Vt((function(){Yt(r.getStore_INTERNAL(),e,t)}))})),q(p(r),"reset",(function(e){r.checkRefCount_INTERNAL(),Vt((function(){return Yt(r.getStore_INTERNAL(),e,Bt)}))})),q(p(r),"setUnvalidatedAtomValues_DEPRECATED",(function(e){r.checkRefCount_INTERNAL();var t=r.getStore_INTERNAL();Vt((function(){var n,r=P(e.entries());try{for(r.s();!(n=r.n()).done;){var o=Object(g.a)(n.value,2),i=o[0],s=o[1];Qt(t,new qt(i),s)}}catch(a){r.e(a)}finally{r.f()}}))})),r}return n}(Jt),nn={Snapshot:Jt,MutableSnapshot:tn,freshSnapshot:function(e){var t=new Jt(Xt());return null!=e?t.map(e):t},cloneSnapshot:en},rn=nn.Snapshot,on=nn.MutableSnapshot,sn=nn.freshSnapshot,an=nn.cloneSnapshot,un=Object.freeze({__proto__:null,Snapshot:rn,MutableSnapshot:on,freshSnapshot:sn,cloneSnapshot:an}),ln=Ct,cn=wt,pn=Te,hn=De,dn=Re,fn=Ae,gn=at,vn=st,yn=$e.applyAtomValueWrites,mn=Lt,wn=un.freshSnapshot,Cn=L.a.useCallback,bn=L.a.useContext,En=L.a.useEffect,Sn=L.a.useMemo,On=L.a.useRef,_n=L.a.useState;function Rn(){throw new Error("This component must be used inside a <RecoilRoot> component.")}var Tn=Object.freeze({getState:Rn,replaceState:Rn,getGraph:Rn,subscribeToTransactions:Rn,addTransactionMetadata:Rn}),An=!1;function Pn(e){if(An)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");if(null===e.nextTree){var t=e.currentTree.version,n=ln();e.nextTree=Object(v.a)(Object(v.a)({},e.currentTree),{},{version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}}),e.graphsByVersion.set(n,vn(M(e.graphsByVersion.get(t))))}}var Dn=L.a.createContext({current:Tn}),In=function(){return bn(Dn)},Nn=L.a.createContext(null);function Ln(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var o,i=P(t.nodeTransactionSubscriptions);try{for(i.s();!(o=i.n()).done;){var s=Object(g.a)(o.value,2),a=s[0],u=s[1];if(r.has(a)){var l,c=P(u);try{for(c.s();!(l=c.n()).done;){var p=Object(g.a)(l.value,2);p[0];(0,p[1])(e)}}catch(O){c.e(O)}finally{c.f()}}}}catch(O){i.e(O)}finally{i.f()}var h,d=P(t.transactionSubscriptions);try{for(d.s();!(h=d.n()).done;){var f=Object(g.a)(h.value,2);f[0];(0,f[1])(e)}}catch(O){d.e(O)}finally{d.f()}var v,y=P(hn(e,n,r));try{for(y.s();!(v=y.n()).done;){var m=v.value,w=t.nodeToComponentSubscriptions.get(m);if(w){var C,b=P(w);try{for(b.s();!(C=b.n()).done;){var E=Object(g.a)(C.value,2),S=(E[0],Object(g.a)(E[1],2));S[0];(0,S[1])(n)}}catch(O){b.e(O)}finally{b.f()}}}}catch(O){y.e(O)}finally{y.f()}t.suspendedComponentResolvers.forEach((function(e){return e()}))}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function xn(e){var t=e.setNotifyBatcherOfChange,n=In(),r=_n([]),o=Object(g.a)(r,2),i=(o[0],o[1]);return t((function(){return i({})})),En((function(){nt.enqueueExecution("Batcher",(function(){var e=n.current.getState(),t=e.nextTree;if(null!==t){e.previousTree=e.currentTree,e.currentTree=t,e.nextTree=null,Ln(n.current);var r=M(e.previousTree).version;e.graphsByVersion.delete(r),e.previousTree=null,B("recoil_memory_managament_2020")&&mn(n.current)}}))})),En((function(){return function(){t((function(){}))}}),[t]),null}var Fn=0;var Mn=In,kn=function(){var e=bn(Nn);return null==e&&z("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Gn=function(e){var t,n,r=e.initializeState_DEPRECATED,o=e.initializeState,i=e.store_INTERNAL,s=e.children,a=On(null),u=Cn((function(e){a.current=e}),[a]),l=null!==(t=L.a.createMutableSource)&&void 0!==t?t:L.a.unstable_createMutableSource,c=null!==i&&void 0!==i?i:{getState:function(){return n.current},replaceState:function(e){var t=p.current.getState();Pn(t);var n,r=M(t.nextTree);try{An=!0,n=e(r)}finally{An=!1}n!==r&&(t.nextTree=n,M(a.current)())},getGraph:function(e){var t=n.current.graphsByVersion;if(t.has(e))return M(t.get(e));var r=gn();return t.set(e,r),r},subscribeToTransactions:function(e,t){if(null==t){var n=p.current.getState().transactionSubscriptions,r=Fn++;return n.set(r,e),{release:function(){n.delete(r)}}}var o=p.current.getState().nodeTransactionSubscriptions;o.has(t)||o.set(t,new Map);var i=Fn++;return M(o.get(t)).set(i,e),{release:function(){var e=o.get(t);e&&(e.delete(i),0===e.size&&o.delete(t))}}},addTransactionMetadata:function(e){Pn(p.current.getState());for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];M(p.current.getState().nextTree).transactionMetadata[r]=e[r]}}},p=On(c);n=On(null!=r?function(e,t){var n=cn();return t({set:function(t,r){var o,i=n.currentTree,s=dn(e,i,t.key,r),a=new Set(s.keys()),u=i.nonvalidatedAtoms.clone(),l=P(a);try{for(l.s();!(o=l.n()).done;){var c=o.value;u.delete(c)}}catch(p){l.e(p)}finally{l.f()}n.currentTree=Object(v.a)(Object(v.a)({},i),{},{dirtyAtoms:bt(i.dirtyAtoms,a),atomValues:yn(i.atomValues,s),nonvalidatedAtoms:u})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=fn(n.currentTree,t,e)}))}}),n}(c,r):null!=o?function(e){return wn().map(e).getStore_INTERNAL().getState()}(o):cn());var h=Sn((function(){return l?l(n,(function(){return n.current.currentTree.version})):null}),[l,n]);return En((function(){return function(){var e,t=P(p.current.getState().knownAtoms);try{for(t.s();!(e=t.n()).done;){var n=e.value;pn(p.current,n)}}catch(r){t.e(r)}finally{t.f()}}}),[]),L.a.createElement(Dn.Provider,{value:p},L.a.createElement(Nn.Provider,{value:h},L.a.createElement(xn,{setNotifyBatcherOfChange:u}),s))};var Vn=function(e,t){var n,r=new Map,o=P(e);try{for(o.s();!(n=o.n()).done;){var i=Object(g.a)(n.value,2),s=i[0],a=i[1];t(a,s)&&r.set(s,a)}}catch(u){o.e(u)}finally{o.f()}return r};var jn=function(e,t){var n,r=new Set,o=P(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t(i)&&r.add(i)}}catch(s){o.e(s)}finally{o.f()}return r};var Hn=function(e,t){if(!e)throw new Error(t)};var Wn,Bn=function(){for(var e=new Map,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)for(var i=n[o].keys(),s=void 0;!(s=i.next()).done;)e.set(s.value,n[o].get(s.value));return e},Un=null!==(Wn=L.a.useMutableSource)&&void 0!==Wn?Wn:L.a.unstable_useMutableSource;var zn={mutableSourceExists:function(){return Un&&!("undefined"!==typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:Un};var qn=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};var Kn=L.a.useRef;var Yn=function(){return Kn(),"<component name not available>"},Qn=tt,$n=ce.DEFAULT_VALUE,Xn=ce.getNode,Jn=ce.nodes,Zn=kn,er=Mn,tr=(te.isRecoilValue,$e.AbstractRecoilValue),nr=$e.getRecoilValueAsLoadable,rr=$e.setRecoilValue,or=$e.setRecoilValueLoadable,ir=$e.setUnvalidatedRecoilValue,sr=$e.subscribeToRecoilValue,ar=Nt,ur=he,lr=(un.Snapshot,un.cloneSnapshot),cr=kt.isSSR,pr=zn.mutableSourceExists,hr=zn.useMutableSource,dr=L.a.useCallback,fr=L.a.useEffect,gr=(L.a.useMemo,L.a.useRef),vr=L.a.useState,yr=12e4;function mr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:new Error('Invalid value of loadable atom "'.concat(t.key,'"'))}function wr(e){return B("recoil_memory_managament_2020")&&Ar(e),pr()?function(e){var t=er(),n=dr((function(){var n=t.current,r=n.getState().currentTree;return nr(n,e,r)}),[t,e]),r=dr((function(){return n()}),[n]),o=Yn(),i=dr((function(r,i){var s=t.current;return sr(s,e,(function(){if(!B("recoil_suppress_rerender_in_callback"))return i();var e=n();u.current.is(e)||i()}),o).release}),[t,e,o,n]),s=Zn(),a=hr(s,r,i),u=gr(a);return fr((function(){u.current=a})),a}(e):function(e){var t=er(),n=vr([]),r=Object(g.a)(n,2),o=(r[0],r[1]),i=Yn();fr((function(){var n=t.current,r=n.getState(),s=sr(n,e,(function(t){var r;if(!B("recoil_suppress_rerender_in_callback"))return o([]);var i=nr(n,e,n.getState().currentTree);(null===(r=a.current)||void 0===r?void 0:r.is(i))||o(i)}),i);if(r.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((function(){a.current=null,o([])}));else{var u;if(!B("recoil_suppress_rerender_in_callback"))return o([]);var l=nr(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(l))||o(l)}return s.release}),[i,e,t]);var s=nr(t.current,e),a=gr(s);return fr((function(){a.current=s})),s}(e)}function Cr(e){var t=er();return mr(wr(e),e,t)}function br(e){var t=er();return dr((function(n){rr(t.current,e,n)}),[t,e])}function Er(e){var t=er();fr((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function Sr(e){var t=e.atomValues.toMap(),n=ot(Vn(t,(function(e,t){var n=Xn(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(function(e){return e.contents}));return Bn(e.nonvalidatedAtoms.toMap(),n)}function Or(e){var t=gr();return fr((function(){t.current=e})),t.current}function _r(){var e=er();return dr((function(t){var n,r=e.current.getState(),o=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,i=t.getStore_INTERNAL().getState().currentTree;Qn((function(){for(var n=new Set,r=0,s=[o.atomValues.keys(),i.atomValues.keys()];r<s.length;r++){var a,u=P(s[r]);try{for(u.s();!(a=u.n()).done;){var l,c,p=a.value;(null===(l=o.atomValues.get(p))||void 0===l?void 0:l.contents)!==(null===(c=i.atomValues.get(p))||void 0===c?void 0:c.contents)&&Xn(p).shouldRestoreFromSnapshots&&n.add(p)}}catch(h){u.e(h)}finally{u.f()}}n.forEach((function(t){or(e.current,new tr(t),i.atomValues.has(t)?M(i.atomValues.get(t)):$n)})),e.current.replaceState((function(e){return Object(v.a)(Object(v.a)({},e),{},{stateID:t.getID_INTERNAL()})}))}))}),[e])}var Rr=function e(){R(this,e)},Tr=new Rr;function Ar(e){if(B("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof ur?e:e.key})),n=er();fr((function(){if(B("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!cr)window.clearTimeout(r.current),r.current=null;else{k("Did not retain recoil value on render, or committed after timeout elapsed. This is fine, but odd.");var o,i=P(t);try{for(i.s();!(o=i.n()).done;){var s=o.value;ar(e,s,1)}}catch(a){i.e(a)}finally{i.f()}}return function(){var n,r=P(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;ar(e,o,-1)}}catch(a){r.e(a)}finally{r.f()}}}}),[n].concat(Object(c.a)(t)));var r=gr(),o=Or(t);if(!cr&&(void 0===o||!qn(o,t))){var i,s=n.current,a=P(t);try{for(a.s();!(i=a.n()).done;){var u=i.value;ar(s,u,1)}}catch(d){a.e(d)}finally{a.f()}if(o){var l,p=P(o);try{for(p.s();!(l=p.n()).done;){var h=l.value;ar(s,h,-1)}}catch(d){p.e(d)}finally{p.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=P(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;ar(s,o,-1)}}catch(d){n.e(d)}finally{n.f()}}),yr)}}(e)}var Pr=_r,Dr=function(e,t){var n=er(),r=_r();return dr((function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];function s(e,t){rr(n.current,e,t)}function a(e){rr(n.current,e,$n)}var u=lr(n.current),l=Tr;return Qn((function(){var t="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof e)throw new Error(t);var n=e({set:s,reset:a,snapshot:u,gotoSnapshot:r});if("function"!==typeof n)throw new Error(t);l=n.apply(void 0,o)})),l instanceof Rr&&Hn(!1),l}),null!=t?[].concat(Object(c.a)(t),[n]):void 0)},Ir=function(){var e=er(),t=vr((function(){return lr(e.current)})),n=Object(g.a)(t,2),r=n[0],o=n[1],i=Or(r),s=gr();return fr((function(){return s.current&&!cr&&window.clearTimeout(s.current),r.retain()}),[r]),Er(dr((function(e){return o(lr(e))}),[])),i===r||cr||(s.current&&(null===i||void 0===i||i.release(),window.clearTimeout(s.current)),r.retain(),s.current=window.setTimeout((function(){r.release(),s.current=null}),yr)),r},Nr=function(e){return[Cr(e),br(e)]},Lr=function(e){return[wr(e),br(e)]},xr=function(e){Er(dr((function(t){var n=lr(t,"current"),r=lr(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},Fr=Cr,Mr=wr,kr=Ar,Gr=function(e){var t=er();return dr((function(){rr(t.current,e,$n)}),[t,e])},Vr=br,jr=function(){var e=er();return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qn((function(){e.current.addTransactionMetadata(n),t.forEach((function(t,n){return ir(e.current,new tr(n),t)}))}))}},Hr=function(e){Er(dr((function(t){var n=t.getState().previousTree,r=t.getState().currentTree;n||(k("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);var o=Sr(r),i=Sr(n),s=ot(Jn,(function(e){var t,n,r,o;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(o=e.persistence_UNSTABLE)||void 0===o?void 0:o.backButton)&&void 0!==r&&r}}})),a=jn(r.dirtyAtoms,(function(e){return o.has(e)||i.has(e)}));e({atomValues:o,previousAtomValues:i,atomInfo:s,modifiedAtoms:a,transactionMetadata:Object(v.a)({},r.transactionMetadata)})}),[e]))},Wr=Pe,Br=Mn;var Ur=function(){var e=Br();return function(t){var n=t.key;return Wr(e.current,e.current.getState().currentTree,n)}},zr=Gn,qr=Mn,Kr=L.a.useMemo;var Yr=function(){var e=qr().current;return Kr((function(){return function(t){var n=t.children;return L.a.createElement(zr,{store_INTERNAL:e},n)}}),[e])};var Qr=function(e){return!!e&&"function"===typeof e.then},$r=function e(){R(this,e)},Xr=new $r,Jr={getValue:function(){if("loading"===this.state)throw this.contents.then((function(e){return e.__value}));if("hasValue"!==this.state)throw this.contents;return this.contents},toPromise:function(){return"hasValue"===this.state?Promise.resolve(this.contents):"hasError"===this.state?Promise.reject(this.contents):this.contents.then((function(e){return e.__value}))},valueMaybe:function(){return"hasValue"===this.state?this.contents:void 0},valueOrThrow:function(){if("hasValue"!==this.state)throw new Error('Loadable expected value, but in "'.concat(this.state,'" state'));return this.contents},errorMaybe:function(){return"hasError"===this.state?this.contents:void 0},errorOrThrow:function(){if("hasError"!==this.state)throw new Error('Loadable expected error, but in "'.concat(this.state,'" state'));return this.contents},promiseMaybe:function(){return"loading"===this.state?this.contents.then((function(e){return e.__value})):void 0},promiseOrThrow:function(){if("loading"!==this.state)throw new Error('Loadable expected promise, but in "'.concat(this.state,'" state'));return this.contents.then((function(e){return e.__value}))},is:function(e){return e.state===this.state&&e.contents===this.contents},map:function(e){var t=this;if("hasError"===this.state)return this;if("hasValue"===this.state)try{var n=e(this.contents);return Qr(n)?to(n):Zr(n)}catch(r){return Qr(r)?to(r.next((function(){return e(t.contents)}))):eo(r)}if("loading"===this.state)return to(this.contents.then(e).catch((function(n){if(Qr(n))return n.then((function(){return e(t.contents)}));throw n})));throw new Error("Invalid Loadable state")}};function Zr(e){return Object.freeze(Object(v.a)({state:"hasValue",contents:e},Jr))}function eo(e){return Object.freeze(Object(v.a)({state:"hasError",contents:e},Jr))}function to(e){return Object.freeze(Object(v.a)({state:"loading",contents:e},Jr))}var no={loadableWithValue:Zr,loadableWithError:eo,loadableWithPromise:to,loadableLoading:function(){return to(new Promise((function(){})))},loadableAll:function(e){return e.every((function(e){return"hasValue"===e.state}))?Zr(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?eo(M(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):to(Promise.all(e.map((function(e){return e.contents}))).then((function(e){return{__value:e}})))},Canceled:$r,CANCELED:Xr};function ro(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(Qr(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return ro(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return ro(e.toJSON(n),t,n);if(e instanceof Map){var o,i={},s=P(e);try{for(s.s();!(o=s.n()).done;){var a=Object(g.a)(o.value,2),u=a[0],l=a[1];i["string"===typeof u?u:ro(u,t)]=l}}catch(c){s.e(c)}finally{s.f()}return ro(i,t,n)}return e instanceof Set?ro(Array.from(e).sort((function(e,n){return ro(e,t).localeCompare(ro(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?ro(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(ro(n,t),":").concat(ro(e[n],t,n))})).join(","),"}")}var oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return ro(e,t)},io=function(){function e(t){var n,r,o;R(this,e),q(this,"_numLeafs",void 0),q(this,"_root",void 0),q(this,"_onHit",void 0),q(this,"_onSet",void 0),q(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(o=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==o?o:function(e){return e}}return f(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){var n=this;return so(this.root(),(function(t){return n._mapNodeValue(e(t))}),{onNodeVisit:function(e){null===t||void 0===t||t.onNodeVisit(e),"leaf"===e.type&&n._onHit(e)}})}},{key:"set",value:function(e,t,n){var r,o=this,i=ao(this.root(),e.map((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return[n,o._mapNodeValue(r)]})),null,t,null,{onNodeVisit:function(e){null===n||void 0===n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=i),this._numLeafs++,this._onSet(M(r))}},{key:"delete",value:function(e){if(!this.root())return!1;var t=M(this.root());return!!uo(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=co(e),!0))}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}}]),e}(),so=function e(t,n,r){var o;if(null!=t){if(null===r||void 0===r||null===(o=r.onNodeVisit)||void 0===o||o.call(r,t),"leaf"===t.type)return t;var i=n(t.nodeKey);return e(t.branches.get(i),n,r)}},ao=function e(t,n,r,o,i,s){var a,u;if(null==t)if(0===n.length)u={type:"leaf",value:o,parent:r,branchKey:i};else{var c=l(n),p=c[0],h=c.slice(1),d=Object(g.a)(p,2),f=d[0],v=d[1];(u={type:"branch",nodeKey:f,parent:r,branches:new Map,branchKey:i}).branches.set(v,e(null,h,u,o,v,s))}else if(u=t,n.length){var y=l(n),m=y[0],w=y.slice(1),C=Object(g.a)(m,2),b=C[0],E=C[1];("branch"!==t.type||t.nodeKey!==b)&&Hn(!1),t.branches.set(E,e(t.branches.get(E),w,t,o,E,s))}return null===s||void 0===s||null===(a=s.onNodeVisit)||void 0===a||a.call(s,u),u},uo=function(e,t,n){return n?(n.branches.delete(t.branchKey),lo(e,n,n.parent)):e===t},lo=function e(t,n,r){return r?(0===n.branches.size&&r.branches.delete(n.branchKey),e(t,r,r.parent)):t===n},co=function e(t){return"leaf"===t.type?1:Array.from(t.branches.values()).reduce((function(t,n){return t+e(n)}),0)},po={TreeCache:io}.TreeCache,ho=Object.freeze({__proto__:null,TreeCache:po}),fo={LRUCache:function(){function e(t){var n;R(this,e),q(this,"_maxSize",void 0),q(this,"_size",void 0),q(this,"_head",void 0),q(this,"_tail",void 0),q(this,"_map",void 0),q(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return f(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),o={key:e,right:r,left:null,value:t};r?r.left=o:this._tail=o,this._map.set(n,o),this._head=o,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=M(this._map.get(t)),r=n.right,o=n.left;r&&(r.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=o),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}()}.LRUCache,go=Object.freeze({__proto__:null,LRUCache:fo}),vo=go.LRUCache,yo=ho.TreeCache;var mo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new vo({maxSize:e}),r=new yo({mapNodeValue:t,onHit:function(e){n.set(e,!0)},onSet:function(t){var o=n.tail();n.set(t,!0),o&&r.size()>e&&r.delete(o.key)}});return r},wo=ho.TreeCache,Co={equality:"reference",eviction:"none",maxSize:1/0};function bo(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oo(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function Eo(e,t,n){switch(e){case"none":return new wo({mapNodeValue:n});case"lru":return mo(M(t),n)}throw new Error("Unrecognized eviction policy ".concat(e))}var So=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co,t=e.equality,n=void 0===t?Co.equality:t,r=e.eviction,o=void 0===r?Co.eviction:r,i=e.maxSize,s=void 0===i?Co.maxSize:i,a=bo(n),u=Eo(o,s,a);return u};var Oo=function(e){return function(){return null}},_o=no.CANCELED,Ro=no.Canceled,To=no.loadableWithError,Ao=no.loadableWithPromise,Po=no.loadableWithValue,Do=Oe,Io=_e,No=Re,Lo=ut,xo=ce.DEFAULT_VALUE,Fo=ce.RecoilValueNotReady,Mo=ce.getConfigDeletionHandler,ko=ce.registerNode,Go=te.isRecoilValue,Vo=te.AbstractRecoilValue,jo=$e.setRecoilValueLoadable,Ho=xt,Wo=Oo,Bo=[],Uo=new Map,zo=function(){var e=0;return function(){return e++}}();var qo=function(e){var t=e.key,n=e.get,r=e.cachePolicy_UNSTABLE,o=null!=e.set?e.set:void 0,i=So(null!==r&&void 0!==r?r:{equality:"reference",eviction:"none"}),s=Ho(e.retainedBy_UNSTABLE),a=new Map,u=0;function l(){return!B("recoil_memory_managament_2020")||u>0}function c(e){return a.has(e)||a.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),M(a.get(e))}function p(e){return u++,e.getState().knownSelectors.add(t),function(){u--,e.getState().knownSelectors.delete(t),a.delete(e)}}function h(){return void 0!==Mo(t)&&!l()}function d(e,t,n){if("loading"===t.state){var r=Uo.get(n);null==r&&Uo.set(n,r=new Set),r.add(e)}}function f(e,t,n){if(t.atomValues.has(n))return M(t.atomValues.get(n));var r=Do(e,t,n),o=e.getState().knownSelectors.has(n);return"loading"!==r.state&&o&&t.atomValues.set(n,r),r}function v(e,n,r,o,i){return n.then((function(n){if(!l())return A(e,i),_o;var s=Po(n);return N(n),L(r,E(o),s),w(e,r,new Set(o.keys()),i),m(e,s,i),{__value:n,__key:t}})).catch((function(t){if(!l())return A(e,i),_o;if(D(e,i)&&T(o,e,i),Qr(t))return y(e,t,r,o,i);var n=To(t);throw N(t),L(r,E(o),n),w(e,r,new Set(o.keys()),i),m(e,n,i),t}))}function y(e,n,r,o,i){return n.then((function(n){if(!l())return A(e,i),_o;if(n instanceof Ro)return k("Selector was released while it had dependencies"),_o;var o=null!==n&&void 0!==n?n:{},s=o.__key,a=o.__value,u=!0;null!=s&&(r.atomValues.set(s,Po(a)),u=!1);var c=b(e,r,i,u),p=Object(g.a)(c,2),h=p[0],d=p[1];if(D(e,i)&&T(d,e,i),I(h),"loading"!==h.state&&(L(r,E(d),h),w(e,r,new Set(d.keys()),i),m(e,h,i)),"hasError"===h.state)throw h.contents;return"hasValue"===h.state?{__value:h.contents,__key:t}:h.contents})).catch((function(t){if(!l())return A(e,i),_o;var n=To(t);throw N(t),L(r,E(o),To(t)),w(e,r,new Set(o.keys()),i),m(e,n,i),t}))}function m(e,n,r){D(e,r)&&(R(n,e),function(e,n){var r=Uo.get(n);if(void 0!==r){var o,i=P(r);try{for(i.s();!(o=i.n()).done;){var s=o.value;jo(s,new Vo(t),e)}}catch(a){i.e(a)}finally{i.f()}Uo.delete(n)}}(n,r))}function w(e,n,r,o){var i,s,a,u,l,c,p;(D(e,o)||n.version===(null===(i=e.getState())||void 0===i||null===(s=i.currentTree)||void 0===s?void 0:s.version)||n.version===(null===(a=e.getState())||void 0===a||null===(u=a.nextTree)||void 0===u?void 0:u.version))&&Lo(new Map([[t,r]]),e,null!==(l=null===(c=e.getState())||void 0===c||null===(p=c.nextTree)||void 0===p?void 0:p.version)&&void 0!==l?l:e.getState().currentTree.version)}function C(e,t,n,r,o){n.add(r),w(e,t,n,o)}function b(e,r,o){var i,s,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=Wo(t),l=!1,c=new Map,p=new Set;function h(t){var n=t.key;C(e,r,p,n,o);var i=a?Do(e,r,n):f(e,r,n);if(c.set(n,i),"hasValue"===i.state)return i.contents;throw i.contents}w(e,r,p,o);try{i=n({get:h}),i=Go(i)?h(i):i,Qr(i)?i=v(e,i,r,c,o).finally(u):u()}catch(d){Qr(i=d)?i=y(e,i,r,c,o).finally(u):(l=!0,u())}return I(s=l?To(i):Qr(i)?Ao(i):Po(i)),[s,c]}function E(e){return Array.from(e.entries()).map((function(e){var t=Object(g.a)(e,2);return[t[0],t[1].contents]}))}function S(e,t){var n=zo(),r=b(e,t,n),o=Object(g.a)(r,2),i=o[0],s=o[1];return R(i,e,s,n,t),function(e,t,n){"loading"!==n.state&&L(e,t,n)}(t,E(s),i),d(e,i,n),i}function O(e,n){var r=function(e,n){var r=new Set,o=c(e),s=i.get((function(t){return"string"!==typeof t&&Hn(!1),f(e,n,t).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==t&&"string"===typeof e.nodeKey&&r.add(e.nodeKey)}});return s&&w(e,n,r,o.latestExecutionId),s}(e,n);if(null!=r)return R(r,e),r;var o=function(e,t){var n,r=null!==(n=Array.from(a.entries()).find((function(n){var r=Object(g.a)(n,2)[1];return null!=r.latestLoadable&&null!=r.latestExecutionId&&!function(e,t){var n,r,o=c(e),i=null!==(n=o.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,s=Array((null!==(r=_.get(t.version))&&void 0!==r?r:new Map).entries()),a=_.has(t.version)&&s.length===i.size&&s.every((function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return i.get(n)===r}));if(null==i||t.version===o.stateVersion||a)return!1;return _.set(t.version,new Map(i)),Array.from(i).some((function(n){var r=Object(g.a)(n,2),o=r[0],i=r[1],s=f(e,t,o);return s.contents!==i.contents&&!("loading"===i.state&&"loading"!==s.state)}))}(e,t)})))&&void 0!==n?n:[];return Object(g.a)(r,2)[1]}(e,n);if(o){var s=o;return d(e,M(s.latestLoadable),M(s.latestExecutionId)),M(s.latestLoadable)}return S(e,n)}var _=new Map;function R(e,t,n,r,o){var i=c(t);"loading"===e.state?(i.depValuesDiscoveredSoFarDuringAsyncWork=n,i.latestExecutionId=r,i.latestLoadable=e,i.stateVersion=null===o||void 0===o?void 0:o.version):(i.depValuesDiscoveredSoFarDuringAsyncWork=null,i.latestExecutionId=null,i.latestLoadable=null,i.stateVersion=null)}function T(e,t,n){var r=c(t);D(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function A(e,t){D(e,t)&&a.delete(e)}function D(e,t){return t===c(e).latestExecutionId}function I(e){"loading"!==e.state&&N(e.contents)}function N(e){0}function L(e,n,r){e.atomValues.set(t,r),i.set(n,r)}function x(e,t){return i.get((function(n){"string"!==typeof n&&Hn(!1);var r=Io(e,t,n);return null===r||void 0===r?void 0:r.contents}))}function F(e,n){return function(e){if(Bo.includes(t)){var n="Recoil selector has circular dependencies: ".concat(Bo.slice(Bo.indexOf(t)).join(" \u2192 "));return To(new Error(n))}Bo.push(t);try{return e()}finally{Bo.pop()}}((function(){return O(e,n)}))}function G(e){e.atomValues.delete(t)}if(null!=o){return ko({key:t,peek:x,get:F,set:function(e,t,n){var r=!1,i=new Map;function s(n){var o=n.key;if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var i=f(e,t,o);if("hasValue"===i.state)return i.contents;throw"loading"===i.state?new Fo(o):i.contents}function a(n,o){if(r)throw new Error("Recoil: Async selector sets are not currently supported.");var a="function"===typeof o?o(s(n)):o;No(e,t,n.key,a).forEach((function(e,t){return i.set(t,e)}))}var u=o({set:a,get:s,reset:function(e){a(e,xo)}},n);if(void 0!==u)throw Qr(u)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return r=!0,i},init:p,invalidate:G,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})}return ko({key:t,peek:x,get:F,init:p,invalidate:G,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})},Ko=no.loadableWithError,Yo=no.loadableWithPromise,Qo=no.loadableWithValue,$o=ce.DEFAULT_VALUE,Xo=ce.DefaultValue,Jo=ce.getConfigDeletionHandler,Zo=ce.registerNode,ei=ce.setConfigDeletionHandler,ti=te.isRecoilValue,ni=$e.markRecoilValueModified,ri=$e.setRecoilValue,oi=$e.setRecoilValueLoadable,ii=xt;function si(e){var t=e.key,n=e.persistence_UNSTABLE,r=ii(e.retainedBy_UNSTABLE),o=0,i=Qr(e.default)?Yo(e.default.then((function(e){return i=Qo(e),{__key:t,__value:e}})).catch((function(e){throw i=Ko(e),e}))):Qo(e.default),s=void 0,a=new Map;var u=Zo({key:t,peek:function(e,n){var r,o,a;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:null===(a=s)||void 0===a?void 0:a[1])&&void 0!==r?r:i},get:function(e,r){if(r.atomValues.has(t))return M(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=s)return s;if(null==n)return z("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),i;var o=r.nonvalidatedAtoms.get(t),a=n.validator(o,$o),u=a instanceof Xo?i:Qo(a);return s=u}return i},set:function(e,n,r){if(n.atomValues.has(t)){var o=M(n.atomValues.get(t));if("hasValue"===o.state&&r===o.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Xo)return new Map;return s=void 0,(new Map).set(t,Qo(r))},init:function(n,r,s){o++;var l=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===i.state){var c=function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||ni(n,u)};i.contents.then(c).catch(c)}var p=$o,h=null;if(null!=e.effects_UNSTABLE&&!l){var d,f=!0,g=function(e){return function(t){if(f){var r=p instanceof Xo||Qr(p)?"hasValue"===i.state?i.contents:$o:p;p="function"===typeof t?t(r):t}else{if(Qr(t))throw new Error("Setting atoms to async values is not implemented.");"function"!==typeof t&&(h={effect:e,value:t}),ri(n,u,"function"===typeof t?function(n){var r=t(n);return h={effect:e,value:r},r}:t)}}},v=function(e){return function(){return g(e)($o)}},y=function(e){return function(r){n.subscribeToTransactions((function(n){var o,s=n.getState(),a=s.currentTree,u=s.previousTree;u||(k("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),u=a);var l=a.atomValues.get(t);if(null==l||"hasValue"===l.state){var c,p,d,f=null!=l?l.contents:$o,g=null!==(c=u.atomValues.get(t))&&void 0!==c?c:i,v="hasValue"===g.state?g.contents:$o;(null===(p=h)||void 0===p?void 0:p.effect)===e&&(null===(d=h)||void 0===d?void 0:d.value)===f||r(f,v)}(null===(o=h)||void 0===o?void 0:o.effect)===e&&(h=null)}),t)}},m=P(null!==(w=e.effects_UNSTABLE)&&void 0!==w?w:[]);try{for(m.s();!(d=m.n()).done;){var w,C=d.value,b=C({node:u,trigger:s,setSelf:g(C),resetSelf:v(C),onSet:y(C)});null!=b&&a.set(n,b)}}catch(O){m.e(O)}finally{m.f()}f=!1}if(!(p instanceof Xo)){var E,S=Qr(p)?Yo(function(e,n){var r=n.then((function(n){var o,i;return(null===(i=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===i?void 0:i.contents)===r&&ri(e,u,n),{__key:t,__value:n}})).catch((function(n){var o,i;throw(null===(i=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===i?void 0:i.contents)===r&&oi(e,u,Ko(n)),n}));return r}(n,p)):Qo(p);r.atomValues.set(t,S),null===(E=n.getState().nextTree)||void 0===E||E.atomValues.set(t,S)}return function(){var e;o--,null===(e=a.get(n))||void 0===e||e(),a.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){s=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Jo(t)&&o<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return u}function ai(e){var t=e.default,n=Object(o.a)(e,["default"]);return ti(t)?function(e){var t=ai(Object(v.a)(Object(v.a)({},e),{},{default:$o,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:Object(v.a)(Object(v.a)({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof Xo?t:M(e.persistence_UNSTABLE).validator(t,$o)}}),effects_UNSTABLE:e.effects_UNSTABLE})),n=qo({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof Xo?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return ei(n.key,Jo(e.key)),n}(Object(v.a)(Object(v.a)({},n),{},{default:t})):si(Object(v.a)(Object(v.a)({},n),{},{default:t}))}var ui=ai,li={MapCache:function(){function e(t){var n;R(this,e),q(this,"_map",void 0),q(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return f(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}()}.MapCache,ci=Object.freeze({__proto__:null,MapCache:li}),pi=go.LRUCache,hi=ci.MapCache,di={equality:"reference",eviction:"none",maxSize:1/0};function fi(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oo(e)}}throw new Error("Unrecognized equality policy ".concat(e))}function gi(e,t,n){switch(e){case"none":return new hi({mapKey:n});case"lru":return new pi({mapKey:n,maxSize:M(t)})}throw new Error("Unrecognized eviction policy ".concat(e))}var vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=e.equality,n=void 0===t?di.equality:t,r=e.eviction,o=void 0===r?di.eviction:r,i=e.maxSize,s=void 0===i?di.maxSize:i,a=fi(n),u=gi(o,s,a);return u},yi=ce.setConfigDeletionHandler,mi=0;var wi=function(e){var t,n=vi(null!==(t=e.cachePolicyForParams_UNSTABLE)&&void 0!==t?t:{equality:"value",eviction:"none"});return function(t){var r,o=n.get(t);if(null!=o)return o;var i,s="".concat(e.key,"__selectorFamily/").concat(null!==(r=oo(t,{allowFunctions:!0}))&&void 0!==r?r:"void","/").concat(mi++),a=function(n){return e.get(t)(n)},u=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var c=e.set;i=qo({key:s,get:a,set:function(e,n){return c(t)(e,n)},cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else i=qo({key:s,get:a,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return n.set(t,i),yi(i.key,(function(){n.delete(t)})),i}},Ci=ce.DEFAULT_VALUE,bi=ce.DefaultValue,Ei=ce.setConfigDeletionHandler;var Si=function(e){var t,n,r=vi(null!==(t=e.cachePolicyForParams_UNSTABLE)&&void 0!==t?t:{equality:"value",eviction:"none"}),i={key:e.key,default:Ci,persistence_UNSTABLE:e.persistence_UNSTABLE};n=ui(i);var s=wi({key:"".concat(e.key,"__atomFamily/Default"),get:function(t){return function(r){var o=(0,r.get)("function"===typeof n?n(t):n);return o instanceof bi?"function"===typeof e.default?e.default(t):e.default:o}},dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:e.retainedBy_UNSTABLE});return function(t){var n,i=r.get(t);if(null!=i)return i;e.cachePolicyForParams_UNSTABLE;var a=Object(o.a)(e,["cachePolicyForParams_UNSTABLE"]),u=ui(Object(v.a)(Object(v.a)({},a),{},{key:"".concat(e.key,"__").concat(null!==(n=oo(t))&&void 0!==n?n:"void"),default:s(t),retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE}));return r.set(t,u),Ei(u.key,(function(){r.delete(t)})),u}},Oi=wi({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var _i=function(e){return Oi(e)},Ri=wi({key:"__error",get:function(e){return function(){throw new Error(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Ti=function(e){return Ri(e)};var Ai=function(e){return e},Pi=no.loadableWithError,Di=no.loadableWithPromise,Ii=no.loadableWithValue;function Ni(e,t){var n,r=Array(t.length).fill(void 0),o=Array(t.length).fill(void 0),i=P(t.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(g.a)(n.value,2),a=s[0],u=s[1];try{r[a]=e(u)}catch(l){o[a]=l}}}catch(c){i.e(c)}finally{i.f()}return[r,o]}function Li(e){return null!=e&&!Qr(e)}function xi(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Fi(e){return null!=e&&"object"===typeof e&&e.hasOwnProperty("__value")?e.__value:e}function Mi(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,o){return Object(v.a)(Object(v.a)({},e),{},Object(r.a)({},n,t[o]))}),{})}function ki(e,t,n){return Mi(e,n.map((function(e,n){return null==e?Ii(t[n]):Qr(e)?Di(e):Pi(e)})))}var Gi={waitForNone:wi({key:"__waitForNone",get:function(e){return function(t){var n=Ni(t.get,xi(e)),r=Object(g.a)(n,2),o=r[0],i=r[1];return ki(e,o,i)}}}),waitForAny:wi({key:"__waitForAny",get:function(e){return function(t){var n=Ni(t.get,xi(e)),r=Object(g.a)(n,2),o=r[0],i=r[1];return i.some((function(e){return!Qr(e)}))?ki(e,o,i):new Promise((function(t){var n,r=P(i.entries());try{var s=function(){var r=Object(g.a)(n.value,2),s=r[0],a=r[1];Qr(a)&&a.then((function(n){o[s]=Fi(n),i[s]=void 0,t(ki(e,o,i))})).catch((function(n){i[s]=n,t(ki(e,o,i))}))};for(r.s();!(n=r.n()).done;)s()}catch(a){r.e(a)}finally{r.f()}}))}}}),waitForAll:wi({key:"__waitForAll",get:function(e){return function(t){var n=Ni(t.get,xi(e)),r=Object(g.a)(n,2),o=r[0],i=r[1];if(i.every((function(e){return null==e})))return Mi(e,o);var s=i.find(Li);if(null!=s)throw s;return Promise.all(i).then((function(t){return Mi(e,(n=o,r=t,r.map((function(e,t){return void 0===e?n[t]:e}))).map(Fi));var n,r}))}}}),waitForAllSettled:wi({key:"__waitForAllSettled",get:function(e){return function(t){var n=Ni(t.get,xi(e)),r=Object(g.a)(n,2),o=r[0],i=r[1];return i.every((function(e){return!Qr(e)}))?ki(e,o,i):Promise.all(i.map((function(e,t){return Qr(e)?e.then((function(e){o[t]=Fi(e),i[t]=void 0})).catch((function(e){o[t]=void 0,i[t]=e})):null}))).then((function(){return ki(e,o,i)}))}}}),noWait:wi({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Ii(n(e))}catch(r){return Qr(r)?Di(r):Pi(r)}}}})},Vi=tt,ji=et,Hi=ce.DefaultValue,Wi=Gn,Bi=te.isRecoilValue,Ui=de,zi=un.freshSnapshot,qi={DefaultValue:Hi,RecoilRoot:Wi,useRecoilBridgeAcrossReactRoots_UNSTABLE:Yr,atom:ui,selector:qo,retentionZone:Ui,atomFamily:Si,selectorFamily:wi,constSelector:_i,errorSelector:Ti,readOnlySelector:Ai,useRecoilValue:Fr,useRecoilValueLoadable:Mr,useRecoilState:Nr,useRecoilStateLoadable:Lr,useSetRecoilState:Vr,useResetRecoilState:Gr,useGetRecoilValueInfo_UNSTABLE:Ur,useRetain:kr,useRecoilCallback:Dr,useGotoRecoilSnapshot:Pr,useRecoilSnapshot:Ir,useRecoilTransactionObserver_UNSTABLE:xr,useTransactionObservation_UNSTABLE:Hr,useSetUnvalidatedAtomValues_UNSTABLE:jr,noWait:Gi.noWait,waitForNone:Gi.waitForNone,waitForAny:Gi.waitForAny,waitForAll:Gi.waitForAll,waitForAllSettled:Gi.waitForAllSettled,isRecoilValue:Bi,batchUpdates:Vi,setBatcher:ji,snapshot_UNSTABLE:zi},Ki=qi.RecoilRoot,Yi=qi.atom,Qi=qi.useRecoilValue,$i=qi.useRecoilState},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(52)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n(0),o=n(3),i=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var o=Object(r.g)(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var a=Object(r.e)(i.value,2),u=a[0],l=a[1],c=this.normalizeInstanceIdentifier(u);try{var p=this.getOrInitializeService({instanceIdentifier:c});l.resolve(p)}catch(h){}}}catch(d){t={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.e)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var o=e.options,i=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var c=Object(r.e)(l.value,2),p=c[0],h=c[1];s===this.normalizeInstanceIdentifier(p)&&h.resolve(a)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);var i=this.instances.get(r);return i&&e(i,r),function(){o.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,o,i=this.onInitCallbacks.get(t);if(i)try{for(var s=Object(r.g)(i),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(l){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,o=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===s?void 0:t),options:o}),this.instances.set(n,i),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(a){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);var o=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function i(e){var t=o(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30);function o(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),o=n(9),i=n(8),s=n.n(i),a=/-(.)/g;var u=n(1),l=n.n(u),c=n(11),p=function(e){return e[0].toUpperCase()+(t=e,t.replace(a,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function h(e,t){var n=void 0===t?{}:t,i=n.displayName,a=void 0===i?p(e):i,u=n.Component,h=n.defaultProps,d=l.a.forwardRef((function(t,n){var i=t.className,a=t.bsPrefix,p=t.as,h=void 0===p?u||"div":p,d=Object(o.a)(t,["className","bsPrefix","as"]),f=Object(c.a)(a,e);return l.a.createElement(h,Object(r.a)({ref:n,className:s()(i,f)},d))}));return d.defaultProps=h,d.displayName=a,d}},function(e,t,n){t.AgGridReact=n(60).AgGridReact,t.AgGridColumn=n(41).AgGridColumn,t.ChangeDetectionStrategyType=n(42).ChangeDetectionStrategyType},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){(function(e,r){var o;(function(){var i,s="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",l=16,c=32,p=64,h=128,d=256,f=1/0,g=9007199254740991,v=NaN,y=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",p],["rearg",d]],w="[object Arguments]",C="[object Array]",b="[object Boolean]",E="[object Date]",S="[object Error]",O="[object Function]",_="[object GeneratorFunction]",R="[object Map]",T="[object Number]",A="[object Object]",P="[object Promise]",D="[object RegExp]",I="[object Set]",N="[object String]",L="[object Symbol]",x="[object WeakMap]",F="[object ArrayBuffer]",M="[object DataView]",k="[object Float32Array]",G="[object Float64Array]",V="[object Int8Array]",j="[object Int16Array]",H="[object Int32Array]",W="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",z="[object Uint32Array]",q=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(Q.source),J=RegExp($.source),Z=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,se=RegExp(ie.source),ae=/^\s+/,ue=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,we=/^\[object .+?Constructor\]$/,Ce=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Oe=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Re="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['\u2019]",Ne="[\\ud800-\\udfff]",Le="["+De+"]",xe="["+_e+"]",Fe="\\d+",Me="[\\u2700-\\u27bf]",ke="["+Te+"]",Ge="[^\\ud800-\\udfff"+De+Fe+Re+Te+Ae+"]",Ve="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",He="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ae+"]",Ue="(?:"+ke+"|"+Ge+")",ze="(?:"+Be+"|"+Ge+")",qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+xe+"|"+Ve+")"+"?",Qe="[\\ufe0e\\ufe0f]?",$e=Qe+Ye+("(?:\\u200d(?:"+[je,He,We].join("|")+")"+Qe+Ye+")*"),Xe="(?:"+[Me,He,We].join("|")+")"+$e,Je="(?:"+[je+xe+"?",xe,He,We,Ne].join("|")+")",Ze=RegExp(Ie,"g"),et=RegExp(xe,"g"),tt=RegExp(Ve+"(?="+Ve+")|"+Je+$e,"g"),nt=RegExp([Be+"?"+ke+"+"+qe+"(?="+[Le,Be,"$"].join("|")+")",ze+"+"+Ke+"(?="+[Le,Be+Ue,"$"].join("|")+")",Be+"?"+Ue+"+"+qe,Be+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fe,Xe].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+_e+Pe+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,at={};at[k]=at[G]=at[V]=at[j]=at[H]=at[W]=at[B]=at[U]=at[z]=!0,at[w]=at[C]=at[F]=at[b]=at[M]=at[E]=at[S]=at[O]=at[R]=at[T]=at[A]=at[D]=at[I]=at[N]=at[x]=!1;var ut={};ut[w]=ut[C]=ut[F]=ut[M]=ut[b]=ut[E]=ut[k]=ut[G]=ut[V]=ut[j]=ut[H]=ut[R]=ut[T]=ut[A]=ut[D]=ut[I]=ut[N]=ut[L]=ut[W]=ut[B]=ut[U]=ut[z]=!0,ut[S]=ut[O]=ut[x]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,pt=parseInt,ht="object"==typeof e&&e&&e.Object===Object&&e,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ht||dt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&"object"==typeof r&&r&&!r.nodeType&&r,yt=vt&&vt.exports===gt,mt=yt&&ht.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),Ct=wt&&wt.isArrayBuffer,bt=wt&&wt.isDate,Et=wt&&wt.isMap,St=wt&&wt.isRegExp,Ot=wt&&wt.isSet,_t=wt&&wt.isTypedArray;function Rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Lt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Ft(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function kt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vt=qt("length");function jt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ht(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ht(e,Ut,n)}function Bt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ut(e){return e!==e}function zt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function qt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function Zt(e,t){return xt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var on=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+lt[e]}function un(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function pn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==u||(e[n]=u,i[o++]=n)}return i}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return un(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Vt(e)}function gn(e){return un(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ft:mn.defaults(ft.Object(),t,mn.pick(ft,it))).Array,r=t.Date,o=t.Error,ue=t.Function,_e=t.Math,Re=t.Object,Te=t.RegExp,Ae=t.String,Pe=t.TypeError,De=n.prototype,Ie=ue.prototype,Ne=Re.prototype,Le=t["__core-js_shared__"],xe=Ie.toString,Fe=Ne.hasOwnProperty,Me=0,ke=function(){var e=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ge=Ne.toString,Ve=xe.call(Re),je=ft._,He=Te("^"+xe.call(Fe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=yt?t.Buffer:i,Be=t.Symbol,Ue=t.Uint8Array,ze=We?We.allocUnsafe:i,qe=cn(Re.getPrototypeOf,Re),Ke=Re.create,Ye=Ne.propertyIsEnumerable,Qe=De.splice,$e=Be?Be.isConcatSpreadable:i,Xe=Be?Be.iterator:i,Je=Be?Be.toStringTag:i,tt=function(){try{var e=di(Re,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,lt=r&&r.now!==ft.Date.now&&r.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,dt=_e.ceil,gt=_e.floor,vt=Re.getOwnPropertySymbols,mt=We?We.isBuffer:i,wt=t.isFinite,Vt=De.join,Kt=cn(Re.keys,Re),wn=_e.max,Cn=_e.min,bn=r.now,En=t.parseInt,Sn=_e.random,On=De.reverse,_n=di(t,"DataView"),Rn=di(t,"Map"),Tn=di(t,"Promise"),An=di(t,"Set"),Pn=di(t,"WeakMap"),Dn=di(Re,"create"),In=Pn&&new Pn,Nn={},Ln=ji(_n),xn=ji(Rn),Fn=ji(Tn),Mn=ji(An),kn=ji(Pn),Gn=Be?Be.prototype:i,Vn=Gn?Gn.valueOf:i,jn=Gn?Gn.toString:i;function Hn(e){if(ra(e)&&!qs(e)&&!(e instanceof zn)){if(e instanceof Un)return e;if(Fe.call(e,"__wrapped__"))return Hi(e)}return new Un(e)}var Wn=function(){function e(){}return function(t){if(!na(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Kn(e);this.size=t.size}function Xn(e,t){var n=qs(e),r=!n&&zs(e),o=!n&&!r&&$s(e),i=!n&&!r&&!o&&pa(e),s=n||r||o||i,a=s?$t(e.length,Ae):[],u=a.length;for(var l in e)!t&&!Fe.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ci(l,u))||a.push(l);return a}function Jn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Zn(e,t){return ki(Io(e),ur(t,0,e.length))}function er(e){return ki(Io(e))}function tr(e,t,n){(n!==i&&!Ws(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function nr(e,t,n){var r=e[t];Fe.call(e,t)&&Ws(r,n)&&(n!==i||t in e)||sr(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function or(e,t,n,r){return dr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&No(t,La(t),e)}function sr(e,t,n){"__proto__"==t&&tt?tt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Aa(e,t[r]);return s}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,s){var a,u=1&t,l=2&t,c=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!na(e))return e;var p=qs(e);if(p){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Io(e,a)}else{var h=vi(e),d=h==O||h==_;if($s(e))return _o(e,u);if(h==A||h==w||d&&!o){if(a=l||d?{}:mi(e),!u)return l?function(e,t){return No(e,gi(e),t)}(e,function(e,t){return e&&No(t,xa(t),e)}(a,e)):function(e,t){return No(e,fi(e),t)}(e,ir(a,e))}else{if(!ut[h])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case F:return Ro(e);case b:case E:return new r(+e);case M:return function(e,t){var n=t?Ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case G:case V:case j:case H:case W:case B:case U:case z:return To(e,n);case R:return new r;case T:case N:return new r(e);case D:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case L:return o=e,Vn?Re(Vn.call(o)):{}}var o}(e,h,u)}}s||(s=new $n);var f=s.get(e);if(f)return f;s.set(e,a),ua(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,s))})):oa(e)&&e.forEach((function(r,o){a.set(o,lr(r,t,n,o,e,s))}));var g=p?i:(c?l?si:ii:l?xa:La)(e);return At(g||e,(function(r,o){g&&(r=e[o=r]),nr(a,o,lr(r,t,n,o,e,s))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Re(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function pr(e,t,n){if("function"!=typeof e)throw new Pe(s);return Li((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var o=-1,i=Nt,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=xt(t,Jt(n))),r?(i=Lt,s=!1):t.length>=200&&(i=en,s=!1,t=new Qn(t));e:for(;++o<a;){var c=e[o],p=null==n?c:n(c);if(c=r||0!==c?c:0,s&&p===p){for(var h=l;h--;)if(t[h]===p)continue e;u.push(c)}else i(t,p,r)||u.push(c)}return u}Hn.templateSettings={escape:Z,evaluate:ee,interpolate:te,variable:"",imports:{_:Hn}},Hn.prototype=Bn.prototype,Hn.prototype.constructor=Hn,Un.prototype=Wn(Bn.prototype),Un.prototype.constructor=Un,zn.prototype=Wn(Bn.prototype),zn.prototype.constructor=zn,qn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===a?i:n}return Fe.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==i:Fe.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===i?a:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return rr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Rn||Kn),string:new qn}},Yn.prototype.delete=function(e){var t=pi(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return pi(this,e).get(e)},Yn.prototype.has=function(e){return pi(this,e).has(e)},Yn.prototype.set=function(e,t){var n=pi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,a),this},Qn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Kn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!Rn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Fo(br),fr=Fo(Er,!0);function gr(e,t){var n=!0;return dr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a===a&&!ca(a):n(a,u)))var u=a,l=s}return l}function yr(e,t){var n=[];return dr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function mr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=wi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?mr(a,t-1,n,r,o):Ft(o,a):r||(o[o.length]=a)}return o}var wr=Mo(),Cr=Mo(!0);function br(e,t){return e&&wr(e,t,La)}function Er(e,t){return e&&Cr(e,t,La)}function Sr(e,t){return It(t,(function(t){return Zs(e[t])}))}function Or(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Vi(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return qs(e)?r:Ft(r,n(e))}function Rr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Re(e)?function(e){var t=Fe.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(s){}var o=Ge.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Ge.call(e)}(e)}function Tr(e,t){return e>t}function Ar(e,t){return null!=e&&Fe.call(e,t)}function Pr(e,t){return null!=e&&t in Re(e)}function Dr(e,t,r){for(var o=r?Lt:Nt,s=e[0].length,a=e.length,u=a,l=n(a),c=1/0,p=[];u--;){var h=e[u];u&&t&&(h=xt(h,Jt(t))),c=Cn(h.length,c),l[u]=!r&&(t||s>=120&&h.length>=120)?new Qn(u&&h):i}h=e[0];var d=-1,f=l[0];e:for(;++d<s&&p.length<c;){var g=h[d],v=t?t(g):g;if(g=r||0!==g?g:0,!(f?en(f,v):o(p,v,r))){for(u=a;--u;){var y=l[u];if(!(y?en(y,v):o(e[u],v,r)))continue e}f&&f.push(v),p.push(g)}}return p}function Ir(e,t,n){var r=null==(e=Pi(e,t=bo(t,e)))?e:e[Vi(Ji(t))];return null==r?i:Rt(r,e,n)}function Nr(e){return ra(e)&&Rr(e)==w}function Lr(e,t,n,r,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var a=qs(e),u=qs(t),l=a?C:vi(e),c=u?C:vi(t),p=(l=l==w?A:l)==A,h=(c=c==w?A:c)==A,d=l==c;if(d&&$s(e)){if(!$s(t))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new $n),a||pa(e)?ri(e,t,n,r,o,s):function(e,t,n,r,o,i,s){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!i(new Ue(e),new Ue(t)));case b:case E:case T:return Ws(+e,+t);case S:return e.name==t.name&&e.message==t.message;case D:case N:return e==t+"";case R:var a=ln;case I:var u=1&r;if(a||(a=hn),e.size!=t.size&&!u)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var c=ri(a(e),a(t),r,o,i,s);return s.delete(e),c;case L:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(e,t,l,n,r,o,s);if(!(1&n)){var f=p&&Fe.call(e,"__wrapped__"),g=h&&Fe.call(t,"__wrapped__");if(f||g){var v=f?e.value():e,y=g?t.value():t;return s||(s=new $n),o(v,y,n,r,s)}}if(!d)return!1;return s||(s=new $n),function(e,t,n,r,o,s){var a=1&n,u=ii(e),l=u.length,c=ii(t).length;if(l!=c&&!a)return!1;var p=l;for(;p--;){var h=u[p];if(!(a?h in t:Fe.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++p<l;){var y=e[h=u[p]],m=t[h];if(r)var w=a?r(m,y,h,t,e,s):r(y,m,h,e,t,s);if(!(w===i?y===m||o(y,m,n,r,s):w)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var C=e.constructor,b=t.constructor;C==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,Lr,o))}function xr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Re(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=n[o])[0],c=e[l],p=u[1];if(a&&u[2]){if(c===i&&!(l in e))return!1}else{var h=new $n;if(r)var d=r(c,p,l,e,t,h);if(!(d===i?Lr(p,c,3,r,h):d))return!1}}return!0}function Fr(e){return!(!na(e)||(t=e,ke&&ke in t))&&(Zs(e)?He:we).test(ji(e));var t}function Mr(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?qs(e)?Wr(e[0],e[1]):Hr(e):fu(e)}function kr(e){if(!_i(e))return Kt(e);var t=[];for(var n in Re(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Gr(e){if(!na(e))return function(e){var t=[];if(null!=e)for(var n in Re(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Vr(e,t){return e<t}function jr(e,t){var r=-1,o=Ys(e)?n(e.length):[];return dr(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function Hr(e){var t=hi(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function Wr(e,t){return Ei(e)&&Ri(t)?Ti(Vi(e),t):function(n){var r=Aa(n,e);return r===i&&r===t?Pa(n,e):Lr(t,r,3)}}function Br(e,t,n,r,o){e!==t&&wr(t,(function(s,a){if(o||(o=new $n),na(s))!function(e,t,n,r,o,s,a){var u=Ii(e,n),l=Ii(t,n),c=a.get(l);if(c)return void tr(e,n,c);var p=s?s(u,l,n+"",e,t,a):i,h=p===i;if(h){var d=qs(l),f=!d&&$s(l),g=!d&&!f&&pa(l);p=l,d||f||g?qs(u)?p=u:Qs(u)?p=Io(u):f?(h=!1,p=_o(l,!0)):g?(h=!1,p=To(l,!0)):p=[]:sa(l)||zs(l)?(p=u,zs(u)?p=wa(u):na(u)&&!Zs(u)||(p=mi(l))):h=!1}h&&(a.set(l,p),o(p,l,r,s,a),a.delete(l));tr(e,n,p)}(e,t,a,n,Br,r,o);else{var u=r?r(Ii(e,a),s,a+"",e,t,o):i;u===i&&(u=s),tr(e,a,u)}}),xa)}function Ur(e,t){var n=e.length;if(n)return Ci(t+=t<0?n:0,n)?e[t]:i}function zr(e,t,n){t=t.length?xt(t,(function(e){return qs(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;return t=xt(t,Jt(ci())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(jr(e,(function(e,n,o){return{criteria:xt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;for(;++r<s;){var u=Ao(o[r],i[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Or(e,s);n(a,s)&&eo(i,bo(s,e),a)}return i}function Kr(e,t,n,r){var o=r?Bt:Wt,i=-1,s=t.length,a=e;for(e===t&&(t=Io(t)),n&&(a=xt(e,Jt(n)));++i<s;)for(var u=0,l=t[i],c=n?n(l):l;(u=o(a,c,u,r))>-1;)a!==e&&Qe.call(a,u,1),Qe.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ci(o)?Qe.call(e,o,1):ho(e,o)}}return e}function Qr(e,t){return e+gt(Sn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>g)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return xi(Ai(e,t,iu),e+"")}function Jr(e){return Jn(Wa(e))}function Zr(e,t){var n=Wa(e);return ki(n,ur(t,0,n.length))}function eo(e,t,n,r){if(!na(e))return e;for(var o=-1,s=(t=bo(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var l=Vi(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var p=u[l];(c=r?r(p,l,u):i)===i&&(c=na(p)?p:Ci(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var to=In?function(e,t){return In.set(e,t),e}:iu,no=tt?function(e,t){return tt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:iu;function ro(e){return ki(Wa(e))}function oo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function io(e,t){var n;return dr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return ao(e,t,iu,n)}function ao(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,u=null===t,l=ca(t),c=t===i;o<s;){var p=gt((o+s)/2),h=n(e[p]),d=h!==i,f=null===h,g=h===h,v=ca(h);if(a)var y=r||g;else y=c?g&&(r||d):u?g&&d&&(r||!f):l?g&&d&&!f&&(r||!v):!f&&!v&&(r?h<=t:h<t);y?o=p+1:s=p}return Cn(s,4294967294)}function uo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ws(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function lo(e){return"number"==typeof e?e:ca(e)?v:+e}function co(e){if("string"==typeof e)return e;if(qs(e))return xt(e,co)+"";if(ca(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,n){var r=-1,o=Nt,i=e.length,s=!0,a=[],u=a;if(n)s=!1,o=Lt;else if(i>=200){var l=t?null:Xo(e);if(l)return hn(l);s=!1,o=en,u=new Qn}else u=t?[]:a;e:for(;++r<i;){var c=e[r],p=t?t(c):c;if(c=n||0!==c?c:0,s&&p===p){for(var h=u.length;h--;)if(u[h]===p)continue e;t&&u.push(p),a.push(c)}else o(u,p,n)||(u!==a&&u.push(p),a.push(c))}return a}function ho(e,t){return null==(e=Pi(e,t=bo(t,e)))||delete e[Vi(Ji(t))]}function fo(e,t,n,r){return eo(e,t,n(Or(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof zn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Ft([e],t.args))}),n)}function yo(e,t,r){var o=e.length;if(o<2)return o?po(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],u=-1;++u<o;)u!=i&&(s[i]=hr(s[i]||a,e[u],t,r));return po(mr(s,1),t,r)}function mo(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function wo(e){return Qs(e)?e:[]}function Co(e){return"function"==typeof e?e:iu}function bo(e,t){return qs(e)?e:Ei(e,t)?[e]:Gi(Ca(e))}var Eo=Xr;function So(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:oo(e,t,n)}var Oo=rt||function(e){return ft.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function Ro(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function To(e,t){var n=t?Ro(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,s=ca(e),a=t!==i,u=null===t,l=t===t,c=ca(t);if(!u&&!c&&!s&&e>t||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!l)return-1}return 0}function Po(e,t,r,o){for(var i=-1,s=e.length,a=r.length,u=-1,l=t.length,c=wn(s-a,0),p=n(l+c),h=!o;++u<l;)p[u]=t[u];for(;++i<a;)(h||i<s)&&(p[r[i]]=e[i]);for(;c--;)p[u++]=e[i++];return p}function Do(e,t,r,o){for(var i=-1,s=e.length,a=-1,u=r.length,l=-1,c=t.length,p=wn(s-u,0),h=n(p+c),d=!o;++i<p;)h[i]=e[i];for(var f=i;++l<c;)h[f+l]=t[l];for(;++a<u;)(d||i<s)&&(h[f+r[a]]=e[i++]);return h}function Io(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function No(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?sr(n,u,l):nr(n,u,l)}return n}function Lo(e,t){return function(n,r){var o=qs(n)?Tt:or,i=t?t():{};return o(n,e,ci(r,2),i)}}function xo(e){return Xr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&bi(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Re(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function Fo(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Re(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Re(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}function ko(e){return function(t){var n=un(t=Ca(t))?gn(t):i,r=n?n[0]:t.charAt(0),o=n?So(n,1).join(""):t.slice(1);return r[e]()+o}}function Go(e){return function(t){return Mt(Za(za(t).replace(Ze,"")),e,"")}}function Vo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return na(r)?r:n}}function jo(e){return function(t,n,r){var o=Re(t);if(!Ys(t)){var s=ci(n,3);t=La(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Ho(e){return oi((function(t){var n=t.length,r=n,o=Un.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Pe(s);if(o&&!u&&"wrapper"==ui(a))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var l=ui(a=t[r]),c="wrapper"==l?ai(a):i;u=c&&Si(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ui(c[0])].apply(u,c[3]):1==a.length&&Si(a)?u[l]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&qs(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Wo(e,t,r,o,s,a,u,l,c,p){var d=t&h,f=1&t,g=2&t,v=24&t,y=512&t,m=g?i:Vo(e);return function i(){for(var h=arguments.length,w=n(h),C=h;C--;)w[C]=arguments[C];if(v)var b=li(i),E=rn(w,b);if(o&&(w=Po(w,o,s,v)),a&&(w=Do(w,a,u,v)),h-=E,v&&h<p){var S=pn(w,b);return Qo(e,t,Wo,i.placeholder,r,w,S,l,c,p-h)}var O=f?r:this,_=g?O[e]:e;return h=w.length,l?w=Di(w,l):y&&h>1&&w.reverse(),d&&c<h&&(w.length=c),this&&this!==ft&&this instanceof i&&(_=m||Vo(_)),_.apply(O,w)}}function Bo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Uo(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),o=e(n,r)}return o}}function zo(e){return oi((function(t){return t=xt(t,Jt(ci())),Xr((function(n){var r=this;return e(t,(function(e){return Rt(e,r,n)}))}))}))}function qo(e,t){var n=(t=t===i?" ":co(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,dt(e/fn(t)));return un(t)?So(gn(r),0,e).join(""):r.slice(0,e)}function Ko(e){return function(t,r,o){return o&&"number"!=typeof o&&bi(t,r,o)&&(r=o=i),t=ga(t),r===i?(r=t,t=0):r=ga(r),function(e,t,r,o){for(var i=-1,s=wn(dt((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:ga(o),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Qo(e,t,n,r,o,s,a,u,l,h){var d=8&t;t|=d?c:p,4&(t&=~(d?p:c))||(t&=-4);var f=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,l,h],g=n.apply(i,f);return Si(e)&&Ni(g,f),g.placeholder=r,Fi(g,e,t)}function $o(e){var t=_e[e];return function(e,n){if(e=ma(e),(n=null==n?0:Cn(va(n),292))&&wt(e)){var r=(Ca(e)+"e").split("e");return+((r=(Ca(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xo=An&&1/hn(new An([,-0]))[1]==f?function(e){return new An(e)}:cu;function Jo(e){return function(t){var n=vi(t);return n==R?ln(t):n==I?dn(t):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,r,o,a,f,g,v){var y=2&t;if(!y&&"function"!=typeof e)throw new Pe(s);var m=o?o.length:0;if(m||(t&=-97,o=a=i),g=g===i?g:wn(va(g),0),v=v===i?v:va(v),m-=a?a.length:0,t&p){var w=o,C=a;o=a=i}var b=y?i:ai(e),E=[e,t,r,o,a,w,C,f,g,v];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var a=t[3];if(a){var l=e[3];e[3]=l?Po(l,a,t[4]):a,e[4]=l?pn(e[3],u):t[4]}(a=t[5])&&(l=e[5],e[5]=l?Do(l,a,t[6]):a,e[6]=l?pn(e[5],u):t[6]);(a=t[7])&&(e[7]=a);r&h&&(e[8]=null==e[8]?t[8]:Cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(E,b),e=E[0],t=E[1],r=E[2],o=E[3],a=E[4],!(v=E[9]=E[9]===i?y?0:e.length:wn(E[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,r){var o=Vo(e);return function s(){for(var a=arguments.length,u=n(a),l=a,c=li(s);l--;)u[l]=arguments[l];var p=a<3&&u[0]!==c&&u[a-1]!==c?[]:pn(u,c);return(a-=p.length)<r?Qo(e,t,Wo,s.placeholder,i,u,p,i,i,r-a):Rt(this&&this!==ft&&this instanceof s?o:e,this,u)}}(e,t,v):t!=c&&33!=t||a.length?Wo.apply(i,E):function(e,t,r,o){var i=1&t,s=Vo(e);return function t(){for(var a=-1,u=arguments.length,l=-1,c=o.length,p=n(c+u),h=this&&this!==ft&&this instanceof t?s:e;++l<c;)p[l]=o[l];for(;u--;)p[l++]=arguments[++a];return Rt(h,i?r:this,p)}}(e,t,r,o);else var S=function(e,t,n){var r=1&t,o=Vo(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Fi((b?to:Ni)(S,E),e,t)}function ei(e,t,n,r){return e===i||Ws(e,Ne[n])&&!Fe.call(r,n)?t:e}function ti(e,t,n,r,o,s){return na(e)&&na(t)&&(s.set(t,e),Br(e,t,i,ti,s),s.delete(t)),e}function ni(e){return sa(e)?i:e}function ri(e,t,n,r,o,s){var a=1&n,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),p=s.get(t);if(c&&p)return c==t&&p==e;var h=-1,d=!0,f=2&n?new Qn:i;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],v=t[h];if(r)var y=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(y!==i){if(y)continue;d=!1;break}if(f){if(!Gt(t,(function(e,t){if(!en(f,t)&&(g===e||o(g,e,n,r,s)))return f.push(t)}))){d=!1;break}}else if(g!==v&&!o(g,v,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function oi(e){return xi(Ai(e,i,Ki),e+"")}function ii(e){return _r(e,La,fi)}function si(e){return _r(e,xa,gi)}var ai=In?function(e){return In.get(e)}:cu;function ui(e){for(var t=e.name+"",n=Nn[t],r=Fe.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function li(e){return(Fe.call(Hn,"placeholder")?Hn:e).placeholder}function ci(){var e=Hn.iteratee||su;return e=e===su?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function pi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function hi(e){for(var t=La(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ri(o)]}return t}function di(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Fr(n)?n:i}var fi=vt?function(e){return null==e?[]:(e=Re(e),It(vt(e),(function(t){return Ye.call(e,t)})))}:yu,gi=vt?function(e){for(var t=[];e;)Ft(t,fi(e)),e=qe(e);return t}:yu,vi=Rr;function yi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var s=Vi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ta(o)&&Ci(s,o)&&(qs(e)||zs(e))}function mi(e){return"function"!=typeof e.constructor||_i(e)?{}:Wn(qe(e))}function wi(e){return qs(e)||zs(e)||!!($e&&e&&e[$e])}function Ci(e,t){var n=typeof e;return!!(t=null==t?g:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!na(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&Ci(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function Ei(e,t){if(qs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(re.test(e)||!ne.test(e)||null!=t&&e in Re(t))}function Si(e){var t=ui(e),n=Hn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ai(n);return!!r&&e===r[0]}(_n&&vi(new _n(new ArrayBuffer(1)))!=M||Rn&&vi(new Rn)!=R||Tn&&vi(Tn.resolve())!=P||An&&vi(new An)!=I||Pn&&vi(new Pn)!=x)&&(vi=function(e){var t=Rr(e),n=t==A?e.constructor:i,r=n?ji(n):"";if(r)switch(r){case Ln:return M;case xn:return R;case Fn:return P;case Mn:return I;case kn:return x}return t});var Oi=Le?Zs:mu;function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Ri(e){return e===e&&!na(e)}function Ti(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Re(n)))}}function Ai(e,t,r){return t=wn(t===i?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=wn(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var u=n(t+1);++i<t;)u[i]=o[i];return u[t]=r(a),Rt(e,this,u)}}function Pi(e,t){return t.length<2?e:Or(e,oo(t,0,-1))}function Di(e,t){for(var n=e.length,r=Cn(t.length,n),o=Io(e);r--;){var s=t[r];e[r]=Ci(s,n)?o[s]:i}return e}function Ii(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ni=Mi(to),Li=ht||function(e,t){return ft.setTimeout(e,t)},xi=Mi(no);function Fi(e,t,n){var r=t+"";return xi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(m,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(pe):[]}(r),n)))}function Mi(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ki(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Gi=function(e){var t=Ms(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,r,o){t.push(r?o.replace(fe,"$1"):n||e)})),t}));function Vi(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ji(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Hi(e){if(e instanceof zn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wi=Xr((function(e,t){return Qs(e)?hr(e,mr(t,1,Qs,!0)):[]})),Bi=Xr((function(e,t){var n=Ji(t);return Qs(n)&&(n=i),Qs(e)?hr(e,mr(t,1,Qs,!0),ci(n,2)):[]})),Ui=Xr((function(e,t){var n=Ji(t);return Qs(n)&&(n=i),Qs(e)?hr(e,mr(t,1,Qs,!0),i,n):[]}));function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:va(n);return o<0&&(o=wn(r+o,0)),Ht(e,ci(t,3),o)}function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=va(n),o=n<0?wn(r+o,0):Cn(o,r-1)),Ht(e,ci(t,3),o,!0)}function Ki(e){return(null==e?0:e.length)?mr(e,1):[]}function Yi(e){return e&&e.length?e[0]:i}var Qi=Xr((function(e){var t=xt(e,wo);return t.length&&t[0]===e[0]?Dr(t):[]})),$i=Xr((function(e){var t=Ji(e),n=xt(e,wo);return t===Ji(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Dr(n,ci(t,2)):[]})),Xi=Xr((function(e){var t=Ji(e),n=xt(e,wo);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,i,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Zi=Xr(es);function es(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var ts=oi((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,xt(t,(function(e){return Ci(e,n)?+e:e})).sort(Ao)),r}));function ns(e){return null==e?e:On.call(e)}var rs=Xr((function(e){return po(mr(e,1,Qs,!0))})),os=Xr((function(e){var t=Ji(e);return Qs(t)&&(t=i),po(mr(e,1,Qs,!0),ci(t,2))})),is=Xr((function(e){var t=Ji(e);return t="function"==typeof t?t:i,po(mr(e,1,Qs,!0),i,t)}));function ss(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Qs(e))return t=wn(e.length,t),!0})),$t(t,(function(t){return xt(e,qt(t))}))}function as(e,t){if(!e||!e.length)return[];var n=ss(e);return null==t?n:xt(n,(function(e){return Rt(t,i,e)}))}var us=Xr((function(e,t){return Qs(e)?hr(e,t):[]})),ls=Xr((function(e){return yo(It(e,Qs))})),cs=Xr((function(e){var t=Ji(e);return Qs(t)&&(t=i),yo(It(e,Qs),ci(t,2))})),ps=Xr((function(e){var t=Ji(e);return t="function"==typeof t?t:i,yo(It(e,Qs),i,t)})),hs=Xr(ss);var ds=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,as(e,n)}));function fs(e){var t=Hn(e);return t.__chain__=!0,t}function gs(e,t){return t(e)}var vs=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&Ci(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:gs,args:[o],thisArg:i}),new Un(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ys=Lo((function(e,t,n){Fe.call(e,n)?++e[n]:sr(e,n,1)}));var ms=jo(zi),ws=jo(qi);function Cs(e,t){return(qs(e)?At:dr)(e,ci(t,3))}function bs(e,t){return(qs(e)?Pt:fr)(e,ci(t,3))}var Es=Lo((function(e,t,n){Fe.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Ss=Xr((function(e,t,r){var o=-1,i="function"==typeof t,s=Ys(e)?n(e.length):[];return dr(e,(function(e){s[++o]=i?Rt(t,e,r):Ir(e,t,r)})),s})),Os=Lo((function(e,t,n){sr(e,n,t)}));function _s(e,t){return(qs(e)?xt:jr)(e,ci(t,3))}var Rs=Lo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ts=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,mr(t,1),[])})),As=lt||function(){return ft.Date.now()};function Ps(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zo(e,h,i,i,i,i,t)}function Ds(e,t){var n;if("function"!=typeof t)throw new Pe(s);return e=va(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Is=Xr((function(e,t,n){var r=1;if(n.length){var o=pn(n,li(Is));r|=c}return Zo(e,r,t,n,o)})),Ns=Xr((function(e,t,n){var r=3;if(n.length){var o=pn(n,li(Ns));r|=c}return Zo(t,r,e,n,o)}));function Ls(e,t,n){var r,o,a,u,l,c,p=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new Pe(s);function g(t){var n=r,s=o;return r=o=i,p=t,u=e.apply(s,n)}function v(e){return p=e,l=Li(m,t),h?g(e):u}function y(e){var n=e-c;return c===i||n>=t||n<0||d&&e-p>=a}function m(){var e=As();if(y(e))return w(e);l=Li(m,function(e){var n=t-(e-c);return d?Cn(n,a-(e-p)):n}(e))}function w(e){return l=i,f&&r?g(e):(r=o=i,u)}function C(){var e=As(),n=y(e);if(r=arguments,o=this,c=e,n){if(l===i)return v(c);if(d)return Oo(l),l=Li(m,t),g(c)}return l===i&&(l=Li(m,t)),u}return t=ma(t)||0,na(n)&&(h=!!n.leading,a=(d="maxWait"in n)?wn(ma(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),C.cancel=function(){l!==i&&Oo(l),p=0,r=c=o=l=i},C.flush=function(){return l===i?u:w(As())},C}var xs=Xr((function(e,t){return pr(e,1,t)})),Fs=Xr((function(e,t,n){return pr(e,ma(t)||0,n)}));function Ms(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(s);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ms.Cache||Yn),n}function ks(e){if("function"!=typeof e)throw new Pe(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ms.Cache=Yn;var Gs=Eo((function(e,t){var n=(t=1==t.length&&qs(t[0])?xt(t[0],Jt(ci())):xt(mr(t,1),Jt(ci()))).length;return Xr((function(r){for(var o=-1,i=Cn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Rt(e,this,r)}))})),Vs=Xr((function(e,t){var n=pn(t,li(Vs));return Zo(e,c,i,t,n)})),js=Xr((function(e,t){var n=pn(t,li(js));return Zo(e,p,i,t,n)})),Hs=oi((function(e,t){return Zo(e,d,i,i,i,t)}));function Ws(e,t){return e===t||e!==e&&t!==t}var Bs=Yo(Tr),Us=Yo((function(e,t){return e>=t})),zs=Nr(function(){return arguments}())?Nr:function(e){return ra(e)&&Fe.call(e,"callee")&&!Ye.call(e,"callee")},qs=n.isArray,Ks=Ct?Jt(Ct):function(e){return ra(e)&&Rr(e)==F};function Ys(e){return null!=e&&ta(e.length)&&!Zs(e)}function Qs(e){return ra(e)&&Ys(e)}var $s=mt||mu,Xs=bt?Jt(bt):function(e){return ra(e)&&Rr(e)==E};function Js(e){if(!ra(e))return!1;var t=Rr(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sa(e)}function Zs(e){if(!na(e))return!1;var t=Rr(e);return t==O||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ea(e){return"number"==typeof e&&e==va(e)}function ta(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function na(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var oa=Et?Jt(Et):function(e){return ra(e)&&vi(e)==R};function ia(e){return"number"==typeof e||ra(e)&&Rr(e)==T}function sa(e){if(!ra(e)||Rr(e)!=A)return!1;var t=qe(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Ve}var aa=St?Jt(St):function(e){return ra(e)&&Rr(e)==D};var ua=Ot?Jt(Ot):function(e){return ra(e)&&vi(e)==I};function la(e){return"string"==typeof e||!qs(e)&&ra(e)&&Rr(e)==N}function ca(e){return"symbol"==typeof e||ra(e)&&Rr(e)==L}var pa=_t?Jt(_t):function(e){return ra(e)&&ta(e.length)&&!!at[Rr(e)]};var ha=Yo(Vr),da=Yo((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Ys(e))return la(e)?gn(e):Io(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=vi(e);return(t==R?ln:t==I?hn:Wa)(e)}function ga(e){return e?(e=ma(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function va(e){var t=ga(e),n=t%1;return t===t?n?t-n:t:0}function ya(e){return e?ur(va(e),0,y):0}function ma(e){if("number"==typeof e)return e;if(ca(e))return v;if(na(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=na(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=me.test(e);return n||Ce.test(e)?pt(e.slice(2),n?2:8):ye.test(e)?v:+e}function wa(e){return No(e,xa(e))}function Ca(e){return null==e?"":co(e)}var ba=xo((function(e,t){if(_i(t)||Ys(t))No(t,La(t),e);else for(var n in t)Fe.call(t,n)&&nr(e,n,t[n])})),Ea=xo((function(e,t){No(t,xa(t),e)})),Sa=xo((function(e,t,n,r){No(t,xa(t),e,r)})),Oa=xo((function(e,t,n,r){No(t,La(t),e,r)})),_a=oi(ar);var Ra=Xr((function(e,t){e=Re(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&bi(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=xa(s),u=-1,l=a.length;++u<l;){var c=a[u],p=e[c];(p===i||Ws(p,Ne[c])&&!Fe.call(e,c))&&(e[c]=s[c])}return e})),Ta=Xr((function(e){return e.push(i,ti),Rt(Ma,i,e)}));function Aa(e,t,n){var r=null==e?i:Or(e,t);return r===i?n:r}function Pa(e,t){return null!=e&&yi(e,t,Pr)}var Da=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),e[t]=n}),nu(iu)),Ia=Bo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ge.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),ci),Na=Xr(Ir);function La(e){return Ys(e)?Xn(e):kr(e)}function xa(e){return Ys(e)?Xn(e,!0):Gr(e)}var Fa=xo((function(e,t,n){Br(e,t,n)})),Ma=xo((function(e,t,n,r){Br(e,t,n,r)})),ka=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),No(e,si(e),n),r&&(n=lr(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Ga=oi((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Pa(e,n)}))}(e,t)}));function Va(e,t){if(null==e)return{};var n=xt(si(e),(function(e){return[e]}));return t=ci(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Jo(La),Ha=Jo(xa);function Wa(e){return null==e?[]:Zt(e,La(e))}var Ba=Go((function(e,t,n){return t=t.toLowerCase(),e+(n?Ua(t):t)}));function Ua(e){return Ja(Ca(e).toLowerCase())}function za(e){return(e=Ca(e))&&e.replace(Ee,on).replace(et,"")}var qa=Go((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ka=Go((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ya=ko("toLowerCase");var Qa=Go((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var $a=Go((function(e,t,n){return e+(n?" ":"")+Ja(t)}));var Xa=Go((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ja=ko("toUpperCase");function Za(e,t,n){return e=Ca(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var eu=Xr((function(e,t){try{return Rt(e,i,t)}catch(n){return Js(n)?n:new o(n)}})),tu=oi((function(e,t){return At(t,(function(t){t=Vi(t),sr(e,t,Is(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Ho(),ou=Ho(!0);function iu(e){return e}function su(e){return Mr("function"==typeof e?e:lr(e,1))}var au=Xr((function(e,t){return function(n){return Ir(n,e,t)}})),uu=Xr((function(e,t){return function(n){return Ir(e,n,t)}}));function lu(e,t,n){var r=La(t),o=Sr(t,r);null!=n||na(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Sr(t,La(t)));var i=!(na(n)&&"chain"in n)||!!n.chain,s=Zs(e);return At(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Io(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ft([this.value()],arguments))})})),e}function cu(){}var pu=zo(xt),hu=zo(Dt),du=zo(Gt);function fu(e){return Ei(e)?qt(Vi(e)):function(e){return function(t){return Or(t,e)}}(e)}var gu=Ko(),vu=Ko(!0);function yu(){return[]}function mu(){return!1}var wu=Uo((function(e,t){return e+t}),0),Cu=$o("ceil"),bu=Uo((function(e,t){return e/t}),1),Eu=$o("floor");var Su=Uo((function(e,t){return e*t}),1),Ou=$o("round"),_u=Uo((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new Pe(s);return e=va(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Ps,Hn.assign=ba,Hn.assignIn=Ea,Hn.assignInWith=Sa,Hn.assignWith=Oa,Hn.at=_a,Hn.before=Ds,Hn.bind=Is,Hn.bindAll=tu,Hn.bindKey=Ns,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qs(e)?e:[e]},Hn.chain=fs,Hn.chunk=function(e,t,r){t=(r?bi(e,t,r):t===i)?1:wn(va(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=n(dt(o/t));s<o;)u[a++]=oo(e,s,s+=t);return u},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Ft(qs(r)?Io(r):[r],mr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Pe(s);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Rt(o[0],this,n))return Rt(o[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=La(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Hn.constant=nu,Hn.countBy=ys,Hn.create=function(e,t){var n=Wn(e);return null==t?n:ir(n,t)},Hn.curry=function e(t,n,r){var o=Zo(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,n,r){var o=Zo(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.debounce=Ls,Hn.defaults=Ra,Hn.defaultsDeep=Ta,Hn.defer=xs,Hn.delay=Fs,Hn.difference=Wi,Hn.differenceBy=Bi,Hn.differenceWith=Ui,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===i?1:va(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===i?1:va(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!0):[]},Hn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&bi(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=va(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:va(r))<0&&(r+=o),r=n>r?0:ya(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(qs(e)?It:yr)(e,ci(t,3))},Hn.flatMap=function(e,t){return mr(_s(e,t),1)},Hn.flatMapDeep=function(e,t){return mr(_s(e,t),f)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:va(n),mr(_s(e,t),n)},Hn.flatten=Ki,Hn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,f):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:va(t)):[]},Hn.flip=function(e){return Zo(e,512)},Hn.flow=ru,Hn.flowRight=ou,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Hn.functions=function(e){return null==e?[]:Sr(e,La(e))},Hn.functionsIn=function(e){return null==e?[]:Sr(e,xa(e))},Hn.groupBy=Es,Hn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Hn.intersection=Qi,Hn.intersectionBy=$i,Hn.intersectionWith=Xi,Hn.invert=Da,Hn.invertBy=Ia,Hn.invokeMap=Ss,Hn.iteratee=su,Hn.keyBy=Os,Hn.keys=La,Hn.keysIn=xa,Hn.map=_s,Hn.mapKeys=function(e,t){var n={};return t=ci(t,3),br(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},Hn.mapValues=function(e,t){var n={};return t=ci(t,3),br(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},Hn.matches=function(e){return Hr(lr(e,1))},Hn.matchesProperty=function(e,t){return Wr(e,lr(t,1))},Hn.memoize=Ms,Hn.merge=Fa,Hn.mergeWith=Ma,Hn.method=au,Hn.methodOf=uu,Hn.mixin=lu,Hn.negate=ks,Hn.nthArg=function(e){return e=va(e),Xr((function(t){return Ur(t,e)}))},Hn.omit=ka,Hn.omitBy=function(e,t){return Va(e,ks(ci(t)))},Hn.once=function(e){return Ds(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(qs(t)||(t=null==t?[]:[t]),qs(n=r?i:n)||(n=null==n?[]:[n]),zr(e,t,n))},Hn.over=pu,Hn.overArgs=Gs,Hn.overEvery=hu,Hn.overSome=du,Hn.partial=Vs,Hn.partialRight=js,Hn.partition=Rs,Hn.pick=Ga,Hn.pickBy=Va,Hn.property=fu,Hn.propertyOf=function(e){return function(t){return null==e?i:Or(e,t)}},Hn.pull=Zi,Hn.pullAll=es,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,ci(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Hn.pullAt=ts,Hn.range=gu,Hn.rangeRight=vu,Hn.rearg=Hs,Hn.reject=function(e,t){return(qs(e)?It:yr)(e,ks(ci(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Yr(e,o),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new Pe(s);return Xr(e,t=t===i?t:va(t))},Hn.reverse=ns,Hn.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===i)?1:va(t),(qs(e)?Zn:Zr)(e,t)},Hn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:eo(e,t,n,r)},Hn.shuffle=function(e){return(qs(e)?er:ro)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:va(t),n=n===i?r:va(n)),oo(e,t,n)):[]},Hn.sortBy=Ts,Hn.sortedUniq=function(e){return e&&e.length?uo(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?uo(e,ci(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&bi(e,t,n)&&(t=n=i),(n=n===i?y:n>>>0)?(e=Ca(e))&&("string"==typeof t||null!=t&&!aa(t))&&!(t=co(t))&&un(e)?So(gn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new Pe(s);return t=null==t?0:wn(va(t),0),Xr((function(n){var r=n[t],o=So(n,0,t);return r&&Ft(o,r),Rt(e,this,o)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===i?1:va(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===i?1:va(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?go(e,ci(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?go(e,ci(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(s);return na(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ls(e,t,{leading:r,maxWait:t,trailing:o})},Hn.thru=gs,Hn.toArray=fa,Hn.toPairs=ja,Hn.toPairsIn=Ha,Hn.toPath=function(e){return qs(e)?xt(e,Vi):ca(e)?[e]:Io(Gi(Ca(e)))},Hn.toPlainObject=wa,Hn.transform=function(e,t,n){var r=qs(e),o=r||$s(e)||pa(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:na(e)&&Zs(i)?Wn(qe(e)):{}}return(o?At:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},Hn.unary=function(e){return Ps(e,1)},Hn.union=rs,Hn.unionBy=os,Hn.unionWith=is,Hn.uniq=function(e){return e&&e.length?po(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?po(e,ci(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?po(e,i,t):[]},Hn.unset=function(e,t){return null==e||ho(e,t)},Hn.unzip=ss,Hn.unzipWith=as,Hn.update=function(e,t,n){return null==e?e:fo(e,t,Co(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fo(e,t,Co(n),r)},Hn.values=Wa,Hn.valuesIn=function(e){return null==e?[]:Zt(e,xa(e))},Hn.without=us,Hn.words=Za,Hn.wrap=function(e,t){return Vs(Co(t),e)},Hn.xor=ls,Hn.xorBy=cs,Hn.xorWith=ps,Hn.zip=hs,Hn.zipObject=function(e,t){return mo(e||[],t||[],nr)},Hn.zipObjectDeep=function(e,t){return mo(e||[],t||[],eo)},Hn.zipWith=ds,Hn.entries=ja,Hn.entriesIn=Ha,Hn.extend=Ea,Hn.extendWith=Sa,lu(Hn,Hn),Hn.add=wu,Hn.attempt=eu,Hn.camelCase=Ba,Hn.capitalize=Ua,Hn.ceil=Cu,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))===n?n:0),t!==i&&(t=(t=ma(t))===t?t:0),ur(ma(e),t,n)},Hn.clone=function(e){return lr(e,4)},Hn.cloneDeep=function(e){return lr(e,5)},Hn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||cr(e,t,La(t))},Hn.deburr=za,Hn.defaultTo=function(e,t){return null==e||e!==e?t:e},Hn.divide=bu,Hn.endsWith=function(e,t,n){e=Ca(e),t=co(t);var r=e.length,o=n=n===i?r:ur(va(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Hn.eq=Ws,Hn.escape=function(e){return(e=Ca(e))&&J.test(e)?e.replace($,sn):e},Hn.escapeRegExp=function(e){return(e=Ca(e))&&se.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=qs(e)?Dt:gr;return n&&bi(e,t,n)&&(t=i),r(e,ci(t,3))},Hn.find=ms,Hn.findIndex=zi,Hn.findKey=function(e,t){return jt(e,ci(t,3),br)},Hn.findLast=ws,Hn.findLastIndex=qi,Hn.findLastKey=function(e,t){return jt(e,ci(t,3),Er)},Hn.floor=Eu,Hn.forEach=Cs,Hn.forEachRight=bs,Hn.forIn=function(e,t){return null==e?e:wr(e,ci(t,3),xa)},Hn.forInRight=function(e,t){return null==e?e:Cr(e,ci(t,3),xa)},Hn.forOwn=function(e,t){return e&&br(e,ci(t,3))},Hn.forOwnRight=function(e,t){return e&&Er(e,ci(t,3))},Hn.get=Aa,Hn.gt=Bs,Hn.gte=Us,Hn.has=function(e,t){return null!=e&&yi(e,t,Ar)},Hn.hasIn=Pa,Hn.head=Yi,Hn.identity=iu,Hn.includes=function(e,t,n,r){e=Ys(e)?e:Wa(e),n=n&&!r?va(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),la(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Wt(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:va(n);return o<0&&(o=wn(r+o,0)),Wt(e,t,o)},Hn.inRange=function(e,t,n){return t=ga(t),n===i?(n=t,t=0):n=ga(n),function(e,t,n){return e>=Cn(t,n)&&e<wn(t,n)}(e=ma(e),t,n)},Hn.invoke=Na,Hn.isArguments=zs,Hn.isArray=qs,Hn.isArrayBuffer=Ks,Hn.isArrayLike=Ys,Hn.isArrayLikeObject=Qs,Hn.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Rr(e)==b},Hn.isBuffer=$s,Hn.isDate=Xs,Hn.isElement=function(e){return ra(e)&&1===e.nodeType&&!sa(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(qs(e)||"string"==typeof e||"function"==typeof e.splice||$s(e)||pa(e)||zs(e)))return!e.length;var t=vi(e);if(t==R||t==I)return!e.size;if(_i(e))return!kr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return Lr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Lr(e,t,i,n):!!r},Hn.isError=Js,Hn.isFinite=function(e){return"number"==typeof e&&wt(e)},Hn.isFunction=Zs,Hn.isInteger=ea,Hn.isLength=ta,Hn.isMap=oa,Hn.isMatch=function(e,t){return e===t||xr(e,t,hi(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,xr(e,t,hi(t),n)},Hn.isNaN=function(e){return ia(e)&&e!=+e},Hn.isNative=function(e){if(Oi(e))throw new o("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=ia,Hn.isObject=na,Hn.isObjectLike=ra,Hn.isPlainObject=sa,Hn.isRegExp=aa,Hn.isSafeInteger=function(e){return ea(e)&&e>=-9007199254740991&&e<=g},Hn.isSet=ua,Hn.isString=la,Hn.isSymbol=ca,Hn.isTypedArray=pa,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return ra(e)&&vi(e)==x},Hn.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Rr(e)},Hn.join=function(e,t){return null==e?"":Vt.call(e,t)},Hn.kebabCase=qa,Hn.last=Ji,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=va(n))<0?wn(r+o,0):Cn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ht(e,Ut,o,!0)},Hn.lowerCase=Ka,Hn.lowerFirst=Ya,Hn.lt=ha,Hn.lte=da,Hn.max=function(e){return e&&e.length?vr(e,iu,Tr):i},Hn.maxBy=function(e,t){return e&&e.length?vr(e,ci(t,2),Tr):i},Hn.mean=function(e){return zt(e,iu)},Hn.meanBy=function(e,t){return zt(e,ci(t,2))},Hn.min=function(e){return e&&e.length?vr(e,iu,Vr):i},Hn.minBy=function(e,t){return e&&e.length?vr(e,ci(t,2),Vr):i},Hn.stubArray=yu,Hn.stubFalse=mu,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Su,Hn.nth=function(e,t){return e&&e.length?Ur(e,va(t)):i},Hn.noConflict=function(){return ft._===this&&(ft._=je),this},Hn.noop=cu,Hn.now=As,Hn.pad=function(e,t,n){e=Ca(e);var r=(t=va(t))?fn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return qo(gt(o),n)+e+qo(dt(o),n)},Hn.padEnd=function(e,t,n){e=Ca(e);var r=(t=va(t))?fn(e):0;return t&&r<t?e+qo(t-r,n):e},Hn.padStart=function(e,t,n){e=Ca(e);var r=(t=va(t))?fn(e):0;return t&&r<t?qo(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(Ca(e).replace(ae,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ga(e),t===i?(t=e,e=0):t=ga(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return Cn(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return Qr(e,t)},Hn.reduce=function(e,t,n){var r=qs(e)?Mt:Yt,o=arguments.length<3;return r(e,ci(t,4),n,o,dr)},Hn.reduceRight=function(e,t,n){var r=qs(e)?kt:Yt,o=arguments.length<3;return r(e,ci(t,4),n,o,fr)},Hn.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===i)?1:va(t),$r(Ca(e),t)},Hn.replace=function(){var e=arguments,t=Ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,o=(t=bo(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Vi(t[r])];s===i&&(r=o,s=n),e=Zs(s)?s.call(e):s}return e},Hn.round=Ou,Hn.runInContext=e,Hn.sample=function(e){return(qs(e)?Jn:Jr)(e)},Hn.size=function(e){if(null==e)return 0;if(Ys(e))return la(e)?fn(e):e.length;var t=vi(e);return t==R||t==I?e.size:kr(e).length},Hn.snakeCase=Qa,Hn.some=function(e,t,n){var r=qs(e)?Gt:io;return n&&bi(e,t,n)&&(t=i),r(e,ci(t,3))},Hn.sortedIndex=function(e,t){return so(e,t)},Hn.sortedIndexBy=function(e,t,n){return ao(e,t,ci(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Ws(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return so(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return ao(e,t,ci(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=so(e,t,!0)-1;if(Ws(e[n],t))return n}return-1},Hn.startCase=$a,Hn.startsWith=function(e,t,n){return e=Ca(e),n=null==n?0:ur(va(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},Hn.subtract=_u,Hn.sum=function(e){return e&&e.length?Qt(e,iu):0},Hn.sumBy=function(e,t){return e&&e.length?Qt(e,ci(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&bi(e,t,n)&&(t=i),e=Ca(e),t=Sa({},t,r,ei);var s,a,u=Sa({},t.imports,r.imports,ei),l=La(u),c=Zt(u,l),p=0,h=t.interpolate||Se,d="__p += '",f=Te((t.escape||Se).source+"|"+h.source+"|"+(h===te?ge:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),g="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(f,(function(t,n,r,o,i,u){return r||(r=o),d+=e.slice(p,u).replace(Oe,an),n&&(s=!0,d+="' +\n__e("+n+") +\n'"),i&&(a=!0,d+="';\n"+i+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=u+t.length,t})),d+="';\n";var v=Fe.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new o("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(q,""):d).replace(K,"$1").replace(Y,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=eu((function(){return ue(l,g+"return "+d).apply(i,c)}));if(y.source=d,Js(y))throw y;return y},Hn.times=function(e,t){if((e=va(e))<1||e>g)return[];var n=y,r=Cn(e,y);t=ci(t),e-=y;for(var o=$t(r,t);++n<e;)t(n);return o},Hn.toFinite=ga,Hn.toInteger=va,Hn.toLength=ya,Hn.toLower=function(e){return Ca(e).toLowerCase()},Hn.toNumber=ma,Hn.toSafeInteger=function(e){return e?ur(va(e),-9007199254740991,g):0===e?e:0},Hn.toString=Ca,Hn.toUpper=function(e){return Ca(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=Ca(e))&&(n||t===i))return Xt(e);if(!e||!(t=co(t)))return e;var r=gn(e),o=gn(t);return So(r,tn(r,o),nn(r,o)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=Ca(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=co(t)))return e;var r=gn(e);return So(r,0,nn(r,gn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=Ca(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=co(t)))return e;var r=gn(e);return So(r,tn(r,gn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(na(t)){var o="separator"in t?t.separator:o;n="length"in t?va(t.length):n,r="omission"in t?co(t.omission):r}var s=(e=Ca(e)).length;if(un(e)){var a=gn(e);s=a.length}if(n>=s)return e;var u=n-fn(r);if(u<1)return r;var l=a?So(a,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(a&&(u+=l.length-u),aa(o)){if(e.slice(u).search(o)){var c,p=l;for(o.global||(o=Te(o.source,Ca(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(p);)var h=c.index;l=l.slice(0,h===i?u:h)}}else if(e.indexOf(co(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},Hn.unescape=function(e){return(e=Ca(e))&&X.test(e)?e.replace(Q,yn):e},Hn.uniqueId=function(e){var t=++Me;return Ca(e)+t},Hn.upperCase=Xa,Hn.upperFirst=Ja,Hn.each=Cs,Hn.eachRight=bs,Hn.first=Yi,lu(Hn,function(){var e={};return br(Hn,(function(t,n){Fe.call(Hn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Hn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),At(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===i?1:wn(va(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=Cn(n,r.__takeCount__):r.__views__.push({size:Cn(n,y),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(iu)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Ir(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(ks(ci(e)))},zn.prototype.slice=function(e,t){e=va(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=va(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(y)},br(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Hn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof zn,l=a[0],c=u||qs(t),p=function(e){var t=o.apply(Hn,Ft([e],a));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=s&&!h,g=u&&!d;if(!s&&c){t=g?t:new zn(this);var v=e.apply(t,a);return v.__actions__.push({func:gs,args:[p],thisArg:i}),new Un(v,h)}return f&&g?e.apply(this,a):(v=this.thru(p),f?r?v.value()[0]:v.value():v)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(qs(o)?o:[],e)}return this[n]((function(n){return t.apply(qs(n)?n:[],e)}))}})),br(zn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Fe.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Wo(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Io(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Cn(t,e+s);break;case"takeRight":e=wn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,p=c.length,h=0,d=Cn(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return vo(e,this.__actions__);var f=[];e:for(;u--&&h<d;){for(var g=-1,v=e[l+=t];++g<p;){var y=c[g],m=y.iteratee,w=y.type,C=m(v);if(2==w)v=C;else if(!C){if(1==w)continue e;break e}}f[h++]=v}return f},Hn.prototype.at=vs,Hn.prototype.chain=function(){return fs(this)},Hn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Hi(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:gs,args:[ns],thisArg:i}),new Un(t,this.__chain__)}return this.thru(ns)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,Xe&&(Hn.prototype[Xe]=function(){return this}),Hn}();ft._=mn,(o=function(){return mn}.call(t,n,t,r))===i||(r.exports=o)}).call(this)}).call(this,n(28),n(67)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(30);var o=n(34),i=n(22);function s(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function n(e){return null==e||""===e?null:e}function r(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)}function o(e){return!r(e)}function i(e){return null==e||0===e.length}function s(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function a(e){if(void 0!==e){if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function u(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"===typeof e?e:/true/i.test(e))}function l(e,t,n){void 0===n&&(n=!1);var r=null==e,o=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;function i(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return i(e,t);if(!n)return i(e,t);try{return e.localeCompare(t)}catch(s){return i(e,t)}}function c(e,t,n){if(null===e||void 0===e)return null;if(!Array.isArray(e))return c(p(e),t,n);for(var r=e,o=null,i=0;i<r.length;i++){var s=r[i];if("string"===typeof t){if(s[t]===n){o=s;break}}else if(t(s)){o=s;break}}return o}function p(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.keys(e).map((function(t){return e[t]}))}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.freeze({__proto__:null,makeNull:n,exists:r,missing:o,missingOrEmpty:i,toStringOrNull:s,attrToNumber:a,attrToBoolean:u,attrToString:function(e){if(null!=e&&""!==e)return e},referenceCompare:function(e,t){return null==e&&null==t||(null!=e||null==t)&&((null==e||null!=t)&&e===t)},jsonEquals:function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},defaultComparator:l,find:c,values:p}),d=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=s(e);for(var n=0;;){var r=void 0;if(e?(r=e,0!==n&&(r+="_"+n)):t?(r=t,0!==n&&(r+="_"+n)):r=""+n,!this.existingKeys[r])return this.existingKeys[r]=!0,r;n++}},e}();function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var o=e[n];if(r(o))return o}return null}function g(e){if(e&&e.length)return e[e.length-1]}function v(e,t,n){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&_(e,(function(e,r){return n?n(e,t[r]):t[r]===e}))}function y(e){return e.sort((function(e,t){return e-t}))}function m(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function w(e,t){T(t,(function(t){return m(e,t)}))}function C(e,t,n){e.splice(n,0,t)}function b(e,t,n){w(e,t),T(t.slice().reverse(),(function(t){return C(e,t,n)}))}function E(e,t){return e.indexOf(t)>-1}function S(e,t){null!=t&&null!=e&&T(t,(function(t){return e.push(t)}))}function O(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function _(e,t){if(null==e)return!0;for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function R(e,t){if(null==e)return!1;for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}function T(e,t){if(null!=e)for(var n=0;n<e.length;n++)t(e[n],n)}function A(e,t){if(null==e)return null;for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}function P(e,t){if(null==e)return null;for(var n=[],r=0;r<e.length;r++)t(e[r],r)&&n.push(e[r]);return n}var D=Object.freeze({__proto__:null,firstExistingValue:f,anyExists:function(e){return e&&null!=f(e)},existsAndNotEmpty:function(e){return null!=e&&e.length>0},last:g,areEqual:v,compareArrays:function(e,t){return v(e,t)},shallowCompare:function(e,t){return v(e,t)},sortNumerically:y,removeRepeatsFromArray:function(e,t){if(e)for(var n=e.length-2;n>=0;n--){var r=e[n]===t,o=e[n+1]===t;r&&o&&e.splice(n+1,1)}},removeFromArray:m,removeAllFromArray:w,insertIntoArray:C,insertArrayIntoArray:function(e,t,n){if(null!=e&&null!=t)for(var r=t.length-1;r>=0;r--){C(e,t[r],n)}},moveInArray:b,includes:E,flatten:function(e){return[].concat.apply([],e)},pushAll:S,toStrings:function(e){return A(e,s)},findIndex:O,every:_,some:R,forEach:T,forEachReverse:function(e,t){if(null!=e)for(var n=e.length-1;n>=0;n--)t(e[n],n)},map:A,filter:P,reduce:function(e,t,n){if(null==e||null==n)return null;for(var r=n,o=0;o<e.length;o++)r=t(r,e[o],o);return r},forEachSnapshotFirst:function(e,t){e&&e.slice(0).forEach(t)}});function I(e,t){null!=e&&(Array.isArray(e)?T(e,(function(e,n){return t(""+n,e)})):T(Object.keys(e),(function(n){return t(n,e[n])})))}function N(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r],i=e[o];t[o]=i}return t}function L(e,t){if(e){var n=e,r={};return Object.keys(n).forEach((function(e){if(!(t&&t.indexOf(e)>=0)){var o=n[e],i=B(o)&&o.constructor===Object;r[e]=i?L(o):o}})),r}}function x(e,t){return e[t]}function F(e,t,n){e[t]=n}function M(e,t,n,r){var o=x(e,n);void 0!==o&&F(t,n,r?r(o):o)}function k(e){var t={};return e.filter((function(e){return null!=e})).forEach((function(e){T(Object.keys(e),(function(e){return t[e]=null}))})),Object.keys(t)}function G(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),r(t)&&I(t,(function(t,r){var i=e[t];if(i!==r){if(o)if(null==i&&null!=r)"object"===typeof r&&r.constructor===Object&&(i={},e[t]=i);B(r)&&B(i)&&!Array.isArray(i)?G(i,r,n,o):(n||void 0!==r)&&(e[t]=r)}}))}function V(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return T(t,(function(t){return I(t,(function(t,n){return e[t]=n}))})),e}function j(e,t,n){if(null==e)return n;for(var r=t.split("."),o=e;r.length>1;)if(null==(o=o[r.shift()]))return n;var i=o[r[0]];return null!=i?i:n}function H(e,t,n){if(t&&e){if(!n)return e[t];for(var r=t.split("."),o=e,i=0;i<r.length;i++){if(null==o)return;o=o[r[i]]}return o}}function W(e,t){Object.keys(e).forEach((function(t){"object"===typeof e[t]&&(e[t]=void 0)}));var n=Object.getPrototypeOf(e),r={};Object.keys(n).forEach((function(e){if("function"===typeof n[e]){r[e]={value:function(){console.warn("AG Grid: "+t+" function "+e+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0}}})),Object.defineProperties(e,r)}function B(e){return"object"===typeof e&&null!==e}var U=Object.freeze({__proto__:null,iterateObject:I,cloneObject:N,deepCloneObject:function(e){return JSON.parse(JSON.stringify(e))},deepCloneDefinition:L,getProperty:x,setProperty:F,copyPropertiesIfPresent:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];T(n,(function(n){return M(e,t,n)}))},copyPropertyIfPresent:M,getAllKeysInObjects:k,getAllValuesInObject:function(e){if(!e)return[];if("function"===typeof Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&t.push(e[n]);return t},mergeDeep:G,assign:V,missingOrEmptyObject:function(e){return o(e)||0===Object.keys(e).length},get:j,set:function(e,t,n){if(null!=e){for(var r=t.split("."),o=e;r.length>1;)if(null==(o=o[r.shift()]))return;o[r[0]]=n}},deepFreeze:function e(t){return Object.freeze(t),T(p(t),(function(t){(B(t)||"function"===typeof t)&&e(t)})),t},getValueUsingField:H,removeAllReferences:W,isNonNullObject:B}),z=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,q=/([^\s,]+)/g,K={};function Y(e,t){K[t]||(e(),K[t]=!0)}function Q(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function $(e){return!!(e&&e.constructor&&e.call&&e.apply)}function X(e){Z(e,400)}function J(e){Z(e,0)}function Z(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}function ee(e,t,n){var r;return void 0===n&&(n=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=this,a=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||e.apply(s,o)}),t),a&&e.apply(s,o)}}function te(e){e&&e()}var ne=Object.freeze({__proto__:null,doOnce:Y,getFunctionName:Q,getFunctionParameters:function(e){var t=e.toString().replace(z,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(q)||[]},isFunction:$,executeInAWhile:X,executeNextVMTurn:J,executeAfter:Z,debounce:ee,compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}},callIfPresent:te}),re=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return p(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),r(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),I(this.beanWrappers,(function(t,n){var r;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o=e.getBeansForParameters(r,n.bean.name),i=function(e,t){var n=[null].concat(t);return new(e.bind.apply(e,n))}(n.bean,o);n.beanInstance=i}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;return n=e.prototype.constructor?Q(e.prototype.constructor):""+e,void console.error("Context item "+n+" is not a bean")}var r={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=r},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(n,r){var o=n.agClassAttributes;o&&o.forEach((function(n){var o=t.lookupBeanInstance(r,n.beanName,n.optional);e[n.attributeName]=o}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(n,r){I(n.autowireMethods,(function(n,o){if("agConstructor"!==n){var i=t.getBeansForParameters(o,r);e[n].apply(e,i)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);null!=n;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData"))t(r.__agBeanMetaData,this.getBeanName(r));n=Object.getPrototypeOf(n)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var n=this,r=[];return e&&I(e,(function(e,o){var i=n.lookupBeanInstance(t,o);r[Number(e)]=i})),r},e.prototype.lookupBeanInstance=function(e,t,n){if(void 0===n&&(n=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var r=this.beanWrappers[t];return r?r.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach((function(e){return n.callLifeCycleMethodsOnBean(e,t)}))},e.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var r={};this.forEachMetaDataInHierarchy(e,(function(e){var o=e[t];o&&o.forEach((function(e){e!=n&&(r[e]=!0)}))})),Object.keys(r).forEach((function(t){return e[t]()}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach((function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");var n=e;"function"===typeof n.destroy&&n.destroy()})),[]):[]},e}();function oe(e,t,n){var r=he(e.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function ie(e,t,n){var r=he(e.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function se(e,t,n){var r=he(e.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function ae(e){return function(t){he(t).beanName=e}}function ue(e){return function(t,n,r){ce(t,e,!1,t,n,null)}}function le(e){return function(t,n,r){ce(t,e,!0,t,n,null)}}function ce(e,t,n,r,o,i){if(null!==t)if("number"!==typeof i){var s=he(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:t,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function pe(e){return function(t,n,r){var o,i="function"==typeof t?t:t.constructor;if("number"===typeof r){var s=void 0;n?(o=he(i),s=n):(o=he(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][r]=e}}}function he(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var de,fe=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ge=function(e,t){return function(n,r){t(n,r,e)}},ve=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,n,r){if(void 0===r&&(r=null),this.logger=e.create("EventService"),this.frameworkOverrides=n,r){var o=t.useAsyncEvents();this.addGlobalListener(r,o)}},e.prototype.getListeners=function(e,t){var n=t?this.allAsyncListeners:this.allSyncListeners,r=n.get(e);return r||(r=new Set,n.set(e,r)),r},e.prototype.addEventListener=function(e,t,n){void 0===n&&(n=!1),this.getListeners(e,n).add(t)},e.prototype.removeEventListener=function(e,t,n){void 0===n&&(n=!1),this.getListeners(e,n).delete(t)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var n=this,r=e.type;this.getListeners(r,t).forEach((function(r){t?n.dispatchAsync((function(){return r(e)})):r(e)})),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){t?n.dispatchAsync((function(){return n.frameworkOverrides.dispatchEvent(r,(function(){return o(r,e)}))})):n.frameworkOverrides.dispatchEvent(r,(function(){return o(r,e)}))}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},fe([ge(0,pe("loggerFactory")),ge(1,pe("gridOptionsWrapper")),ge(2,pe("frameworkOverrides")),ge(3,pe("globalEventListener"))],e.prototype,"setBeans",null),e=fe([ae("eventService")],e)}(),ye=function(){function e(){}return e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e.INPUT_SELECTOR="input, select, button, textarea",e.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",e.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",e}();(de=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",de.CommunityAllModules="@ag-grid-community/all",de.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",de.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",de.CsvExportModule="@ag-grid-community/csv-export",de.EnterpriseCoreModule="@ag-grid-enterprise/core",de.EnterpriseAllModules="@ag-grid-enterprise/all",de.RowGroupingModule="@ag-grid-enterprise/row-grouping",de.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",de.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",de.MenuModule="@ag-grid-enterprise/menu",de.SetFilterModule="@ag-grid-enterprise/set-filter",de.MultiFilterModule="@ag-grid-enterprise/multi-filter",de.StatusBarModule="@ag-grid-enterprise/status-bar",de.SideBarModule="@ag-grid-enterprise/side-bar",de.RangeSelectionModule="@ag-grid-enterprise/range-selection",de.MasterDetailModule="@ag-grid-enterprise/master-detail",de.RichSelectModule="@ag-grid-enterprise/rich-select",de.GridChartsModule="@ag-grid-enterprise/charts",de.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",de.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",de.ExcelExportModule="@ag-grid-enterprise/excel-export",de.ClipboardModule="@ag-grid-enterprise/clipboard",de.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",de.AngularModule="@ag-grid-community/angular",de.ReactModule="@ag-grid-community/react",de.VueModule="@ag-grid-community/vue",de.PolymerModule="@ag-grid-community/polymer";var me=function(){function e(){}return e.register=function(t,n){void 0===n&&(n=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=n:e.moduleBased!==n&&Y((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/documentation/javascript/packages-modules/ for more information.")}),"ModulePackageCheck")},e.registerModules=function(t,n){void 0===n&&(n=!0),t&&t.forEach((function(t){return e.register(t,n)}))},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var n="AG Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/documentation/javascript/modules/";return Y((function(){console.warn(n)}),t+e),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return p(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),we=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ce=function(){function e(e,t,n,r){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new ve,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.setState(e)}return e.prototype.setState=function(e){void 0!==e.sort?e.sort!==ye.SORT_ASC&&e.sort!==ye.SORT_DESC||(this.sort=e.sort):e.initialSort!==ye.SORT_ASC&&e.initialSort!==ye.SORT_DESC||(this.sort=e.initialSort);var t=a(e.sortIndex),n=a(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==n&&(this.sortIndex=n);var r=u(e.hide),o=u(e.initialHide);this.visible=void 0!==r?!r:!o,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var i=a(e.flex),s=a(e.initialFlex);void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();null!=this.colDef.minWidth?this.minWidth=Math.max(this.colDef.minWidth,1):this.minWidth=e,null!=this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=t,this.resetActualWidth("gridInitializing");var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=r(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=r(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){if(o(this.colDef)||o(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===e;return t||n},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter||!!this.colDef.filterFramework;return this.primary&&e},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function n(e,t,n){Y((function(){n?console.warn(e,n):Y((function(){return console.warn(e)}),t)}),t)}if(!me.isRegistered(t.ModuleNames.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(o){r(e[o])&&(me.isPackageBased()?n("AG Grid: "+o+" is only valid in ag-grid-enterprise, your column definition should not have "+o,"ColumnRowGroupingMissing"+o):n("AG Grid: "+o+" is only valid with AG Grid Enterprise Module "+t.ModuleNames.RowGroupingModule+" - your column definition should not have "+o,"ColumnRowGroupingMissing"+o))}))}if(me.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(me.isPackageBased()?n("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):n("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),me.isRegistered(t.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(me.isPackageBased()?n("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):n("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+t.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(t){r(e[t])&&n("AG Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")}))}r(this.colDef.width)&&"number"!==typeof this.colDef.width&&n("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"===typeof t?t:"function"===typeof t&&t(this.createColumnFunctionCallbackParams(e))},e.prototype.setMoving=function(t,n){void 0===n&&(n="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,n))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,n){void 0===n&&(n="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,n)))},e.prototype.setMenuVisible=function(t,n){void 0===n&&(n="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,n)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===ye.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===ye.SORT_DESC},e.prototype.isSortNone=function(){return o(this.sort)},e.prototype.isSorting=function(){return r(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,n)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,n,r){void 0===n&&(n="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(e.EVENT_FILTER_CHANGED,n);r&&G(o,r),this.eventService.dispatchEvent(o)},e.prototype.setPinned=function(e){!0===e||e===ye.PINNED_LEFT?this.pinned=ye.PINNED_LEFT:e===ye.PINNED_RIGHT?this.pinned=ye.PINNED_RIGHT:this.pinned=null},e.prototype.setFirstRightPinned=function(t,n){void 0===n&&(n="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},e.prototype.setLastLeftPinned=function(t,n){void 0===n&&(n="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===ye.PINNED_LEFT||this.pinned===ye.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===ye.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===ye.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,n){void 0===n&&(n="api");var r=!0===t;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,n)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(o(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},e.prototype.getRowSpan=function(e){if(o(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},e.prototype.setActualWidth=function(e,t,n){void 0===t&&(t="api"),void 0===n&&(n=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,t))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),r(this.minWidth)&&this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,n){void 0===n&&(n="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,n)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,n){void 0===n&&(n="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,n)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,n){void 0===n&&(n="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,n)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",we([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),we([ue("columnUtils")],e.prototype,"columnUtils",void 0),we([ue("columnApi")],e.prototype,"columnApi",void 0),we([ue("gridApi")],e.prototype,"gridApi",void 0),we([ue("context")],e.prototype,"context",void 0),we([ie],e.prototype,"initialise",null),e}(),be=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ee=function(){function e(e,t,n,r){this.displayedChildren=[],this.localEventService=new ve,this.groupId=t,this.instanceId=n,this.originalColumnGroup=e,this.pinned=r}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=g(this.displayedChildren).getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var n=!1;return this.children.forEach((function(r){t===r&&(n=!0),r instanceof e&&r.isChildInThisGroupDeepSearch(t)&&(n=!0)})),n},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()||0})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(n){n instanceof Ce?t.push(n):n instanceof e&&n.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(n){n instanceof Ce?t.push(n):n instanceof e&&n.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();!!n&&n.originalColumnGroup.isExpandable()?(this.children.forEach((function(r){if(!(r instanceof e&&(!r.displayedChildren||!r.displayedChildren.length)))switch(r.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&t.displayedChildren.push(r);break;case e.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||t.displayedChildren.push(r);break;default:t.displayedChildren.push(r)}})),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))):this.displayedChildren=this.children},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",be([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Se=function(){function e(e,t,n,r){this.localEventService=new ve,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=r}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t;var n={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(n){n instanceof Ce?t.push(n):n instanceof e&&n.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach((function(t){return t.addEventListener(Ce.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))}))},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,n=!1,r=!1,o=this.findChildrenRemovingPadding(),i=0,s=o.length;i<s;i++){var a=o[i];if(a.isVisible()){var u=a.getColumnGroupShow();u===Ee.HEADER_GROUP_SHOW_OPEN?(t=!0,r=!0):u===Ee.HEADER_GROUP_SHOW_CLOSED?(n=!0,r=!0):(t=!0,n=!0)}}var l=t&&n&&r;if(this.expandable!==l){this.expandable=l;var c={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},e.prototype.findChildrenRemovingPadding=function(){var t=[];return function n(r){r.forEach((function(r){r instanceof e&&r.isPadding()?n(r.children):t.push(r)}))}(this.children),t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),Oe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},_e="__ag_Grid_Stop_Propagation",Re=["touchstart","touchend","touchmove","touchcancel"],Te={};function Ae(e){e[_e]=!0}function Pe(e){return!0===e[_e]}var De=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t){if("boolean"===typeof Te[t])return Te[t];var n=document.createElement(e[t]||"div"),r=(t="on"+t)in n;return r||(n.setAttribute(t,"return;"),r="function"==typeof n[t]),Te[t]=r}}();function Ie(e,t,n){for(var r=Ne(t);r;){var o=e.getDomData(r,n);if(o)return o;r=r.parentElement}return null}function Ne(e){var t=e;return t.target||t.srcElement}function Le(e,t){return!(!t||!e)&&Fe(t).indexOf(e)>=0}function xe(e){for(var t=[],n=Ne(e);n;)t.push(n),n=n.parentElement;return t}function Fe(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:xe(e)}function Me(e,t,n,r){var o=E(Re,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,n,r,o)}var ke=Object.freeze({__proto__:null,stopPropagationForAgGrid:Ae,isStopPropagationForAgGrid:Pe,isEventSupported:De,getComponentForEvent:Ie,addChangeListener:function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},getTarget:Ne,isElementInEventPath:Le,createEventPath:xe,addAgGridEventPath:function(e){e.__agGridEventPath=Fe(e)},getEventPath:Fe,addSafePassiveEventListener:Me}),Ge=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ve=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new ve),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,n){var r=this;if(!this.destroyed){e instanceof HTMLElement?Me(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function o(){return e.removeEventListener(t,n),r.destroyFunctions=r.destroyFunctions.filter((function(e){return e!==o})),null};return this.destroyFunctions.push(o),o}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},e.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var n=this;return e&&T(e,(function(e){return n.destroyBean(e,t)})),[]},e.EVENT_DESTROYED="destroyed",Ge([ue("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ge([ue("context")],e.prototype,"context",void 0),Ge([ue("eventService")],e.prototype,"eventService",void 0),Ge([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ge([se],e.prototype,"destroy",null),e}(),je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},We=function(e,t){return function(n,r){t(n,r,e)}},Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,n){var r=new d,o=this.extractExistingTreeData(n),i=o.existingCols,s=o.existingGroups,a=o.existingColKeys;r.addExistingKeys(a);var u=this.recursivelyCreateColumns(e,0,t,i,r,s),l=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+l);var c=this.balanceColumnTree(u,0,l,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,(function(e,t){e instanceof Se&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:c,treeDept:l}},t.prototype.extractExistingTreeData=function(e){var t=[],n=[],r=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){if(e instanceof Se){var o=e;n.push(o)}else{var i=e;r.push(i.getId()),t.push(i)}})),{existingCols:t,existingGroups:n,existingColKeys:r}},t.prototype.createForAutoGroups=function(e,t){var n=this,r=[];return e.forEach((function(e){var o=n.createAutoGroupTreeItem(t,e);r.push(o)})),r},t.prototype.createAutoGroupTreeItem=function(e,t){for(var n=t,r=this.findDepth(e)-1;r>=0;r--){var o=new Se(null,"FAKE_PATH_"+t.getId()+"}_"+r,!0,r);this.context.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},t.prototype.findDepth=function(e){for(var t=0,n=e;n&&n[0]&&n[0]instanceof Se;)t++,n=n[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,n,r){for(var o=[],i=0;i<e.length;i++){var s=e[i];if(s instanceof Se){var a=s,u=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(u),o.push(a)}else{for(var l=void 0,c=void 0,p=n-1;p>=t;p--){var h=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new Se(d,h,!0,t);this.context.createBean(f),c&&c.setChildren([f]),c=f,l||(l=c)}if(l&&c){if(o.push(l),e.some((function(e){return e instanceof Se}))){c.setChildren([s]);continue}c.setChildren(e);break}o.push(s)}}return o},t.prototype.findMaxDept=function(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o instanceof Se){var i=o,s=this.findMaxDept(i.getChildren(),t+1);n<s&&(n=s)}}return n},t.prototype.recursivelyCreateColumns=function(e,t,n,r,o,i){var s=this,a=[];return e?(e.forEach((function(e){var u;u=s.isColumnGroup(e)?s.createColumnGroup(n,e,t,r,o,i):s.createColumn(n,e,r,o),a.push(u)})),a):a},t.prototype.createColumnGroup=function(e,t,n,r,o,i){var s=this.createMergedColGroupDef(t),a=o.getUniqueKey(s.groupId||null,null),u=new Se(s,a,!1,n);this.context.createBean(u);var l=this.findExistingGroup(t,i);l&&l.isExpanded()&&u.setExpanded(!0);var c=this.recursivelyCreateColumns(s.children,n+1,e,r,o,i);return u.setChildren(c),u},t.prototype.createMergedColGroupDef=function(e){var t={};return V(t,this.gridOptionsWrapper.getDefaultColGroupDef()),V(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,n,r){var o=this.mergeColDefs(t);this.checkForDeprecatedItems(o);var i=this.findExistingColumn(t,n);if(i)i.setColDef(o,t),this.applyColumnState(i,o);else{var s=r.getUniqueKey(o.colId,o.field);i=new Ce(o,t,s,e),this.context.createBean(i)}return i},t.prototype.applyColumnState=function(e,t){var n=a(t.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){var r=a(t.width);null!=r&&e.setActualWidth(r)}void 0!==t.sort&&(t.sort==ye.SORT_ASC||t.sort==ye.SORT_DESC?e.setSort(t.sort):e.setSort(void 0));var o=a(t.sortIndex);void 0!==o&&e.setSortIndex(o);var i=u(t.hide);void 0!==i&&e.setVisible(!i),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){var n=c(t,(function(t){var n=t.getUserProvidedColDef();if(!n)return!1;var r=null!=e.colId,o=null!=e.field;return r?t.getId()===e.colId:o?n.field===e.field:n===e}));return t&&n&&m(t,n),n},t.prototype.findExistingGroup=function(e,t){var n=c(t,(function(t){return!!t.getColGroupDef()&&(!(null==e.groupId)&&t.getId()===e.groupId)}));return n&&m(t,n),n},t.prototype.mergeColDefs=function(e){var t={},n=this.gridOptionsWrapper.getDefaultColDef();G(t,n,!0,!0);var r=e.type;return r||(r=n&&n.type),r&&this.assignColumnTypes(r,t),G(t,e,!0,!0),t},t.prototype.assignColumnTypes=function(e,t){var n=[];if(e instanceof Array){e.some((function(e){return"string"!==typeof e}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=e}else{if("string"!==typeof e)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=e.split(",")}var r=V({},Oe);I(this.gridOptionsWrapper.getColumnTypes()||{},(function(e,t){e in r?console.warn("AG Grid: the column type '"+e+"' is a default column type and cannot be overridden."):r[e]=t})),n.forEach((function(e){var n=r[e.trim()];n?G(t,n,!0,!0):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},He([ue("columnUtils")],t.prototype,"columnUtils",void 0),He([We(0,pe("loggerFactory"))],t.prototype,"setBeans",null),t=He([ae("columnFactory")],t)}(Ve),Ue=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e.EVENT_STORE_UPDATED="storeUpdated",e}(),ze=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,n=this.existingIds[e];return t="number"!==typeof n?0:n+1,this.existingIds[e]=t,t},e}(),qe=/[&<>"']/g,Ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ye(e){return null===e||void 0===e?null:e.replace(/([A-Z])/g,(function(e){return"-"+e[0].toLowerCase()}))}function Qe(e){return null===e||void 0===e?null:e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}function $e(e){return null!=e&&e.replace?e.replace(qe,(function(e){return Ke[e]})):e}function Xe(e){if(!e||null==e)return null;return e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" ")}function Je(e,t){return e===t||null!=e&&e.slice(0,t.length)===t}var Ze=Object.freeze({__proto__:null,utf8_encode:function(e){var t=String.fromCharCode;function n(e,n){return t(e>>n&63|128)}function r(e){if(0==(4294967168&e))return t(e);var r="";return 0==(4294965248&e)?r=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),r=t(e>>12&15|224),r+=n(e,6)):0==(4292870144&e)&&(r=t(e>>18&7|240),r+=n(e,12),r+=n(e,6)),r+=t(63&e|128)}for(var o=function(e){var t=[];if(!e)return[];for(var n,r,o=e.length,i=0;i<o;)(n=e.charCodeAt(i++))>=55296&&n<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?t.push(((1023&n)<<10)+(1023&r)+65536):(t.push(n),i--):t.push(n);return t}(e),i=o.length,s=-1,a="";++s<i;)a+=r(o[s]);return a},camelCaseToHyphen:Ye,hyphenToCamelCase:Qe,capitalise:function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},escapeString:$e,camelCaseToHumanText:Xe,startsWith:Je}),et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},nt=function(e,t){return function(n,r){t(n,r,e)}},rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsCenter=[],t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.colDefVersion=0,t.flexColsCalculatedAtLestOnce=!1,t}return et(t,e),t.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,t){var n=this;void 0===t&&(t="api");var r=!!this.columnDefs;this.colDefVersion++;var o=this.compareColumnStatesAndRaiseEvents(t);this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var i=this.primaryColumns,s=this.primaryColumnTree,a=this.columnFactory.createColumnTree(e,!0,s);this.primaryColumnTree=a.columnTree,this.primaryHeaderRowCount=a.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(e){return n.primaryColumnsMap[e.getId()]=e})),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0,this.updateGridColumns(),r&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns(),this.dispatchEverythingChanged(t),o(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){var e={type:Ue.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api");var t={type:Ue.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(t)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this;this.gridColumns.sort((function(t,n){var r=e.primaryColumns.indexOf(t),o=e.primaryColumns.indexOf(n),i=r>=0,s=o>=0;return i&&s?r-o:i?1:s?-1:e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)}))},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,n=[];null!=t;)n.push(t),t=this.getDisplayedColAfter(t);return n},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.viewportColumns.map((function(e){return e.getId()})).join("#");if(this.extractViewport(),e!==this.viewportColumns.map((function(e){return e.getId()})).join("#")){var t={type:Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}}},t.prototype.setViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){if(void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);var n={type:Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},t.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var n=this.getPrimaryColumn(t),r=null;return this.secondaryColumns.forEach((function(t){var o=t.getColDef().pivotKeys,i=t.getColDef().pivotValueColumn;v(o,e)&&i===n&&(r=t)})),r},t.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,n;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?g(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?g(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(r){r.setLastLeftPinned(r===t,e),r.setFirstRightPinned(r===n,e)}))},t.prototype.autoSizeColumns=function(e,t,n){var r=this;void 0===n&&(n="api"),this.animationFrameService.flushAllFrames();var o=[],i=-1;for(null==t&&(t=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==i;)i=0,this.actionOnGridColumns(e,(function(e){if(o.indexOf(e)>=0)return!1;var s=r.autoWidthCalculator.getPreferredWidthForColumn(e,t);if(s>0){var a=r.normaliseColumnWidth(e,s);e.setActualWidth(a,n),o.push(e),i++}return!0}),n);this.fireColumnResizedEvent(o,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,t,n,r){if(void 0===r&&(r=null),e&&e.length){var o={type:Ue.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:r,finished:t,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)}},t.prototype.autoSizeColumn=function(e,t,n){void 0===n&&(n="api"),e&&this.autoSizeColumns([e],t,n)},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns(n,e,t)},t.prototype.getColumnsFromTree=function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof Ce?t.push(o):o instanceof Se&&e(o.getChildren())}}(e),t},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,t,n,r){for(var o,i=[],s=null,a=function(a){var u,l=t[a],c=t.length-a,p=Math.min(l.getColSpan(e),c),h=[l];if(p>1){for(var d=p-1,f=1;f<=d;f++)h.push(t[a+f]);a+=d}if(n?(u=!1,h.forEach((function(e){n(e)&&(u=!0)}))):u=!0,u){if(0===i.length&&s)!!r&&r(l)&&i.push(s);i.push(l)}s=l,o=a},u=0;u<t.length;u++)a(u),u=o;return i},t.prototype.getViewportCenterColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,n,(function(e){var n=e.getLeft();return r(n)&&n>t.viewportLeft}))},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){var t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,o=this.viewportRight+200;return!(t<r&&n<r)&&!(t>o&&n>o)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,t,n,r,o,s){var a=this;if(void 0===s&&(s="api"),e&&!i(e)){var u=!1;if(e.forEach((function(e){var o=a.getPrimaryColumn(e);if(o){if(n){if(t.indexOf(o)>=0)return;t.push(o)}else{if(t.indexOf(o)<0)return;m(t,o)}r(o),u=!0}})),u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var l={type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:s};this.eventService.dispatchEvent(l)}}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,n))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),Ue.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,Ue.EVENT_COLUMN_PIVOT_CHANGED,(function(e,n){n.setPivotActive(e,t)}),t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),Ue.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,n,o,i){var s=this;t.length=0,r(e)&&e.forEach((function(e){var n=s.getPrimaryColumn(e);n&&t.push(n)})),this.primaryColumns.forEach((function(e){var n=t.indexOf(e)>=0;o(n,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var a={type:n,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(a)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,Ue.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(r)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Ue.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Ue.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){var n=e.getMinWidth();r(n)&&t<n&&(t=n);var o=e.getMaxWidth();return r(o)&&e.isGreaterThanMax(t)&&(t=o),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,n,r){var o=this;void 0===r&&(r="api");var i=[];e.forEach((function(e){var n=o.getPrimaryOrGridColumn(e.key);if(n&&(i.push({width:e.newWidth,ratios:[1],columns:[n]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var r=o.getDisplayedColAfter(n);if(!r)return;var s=n.getActualWidth()-e.newWidth,a=r.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[r]})}})),0!==i.length&&this.resizeColumnSets(i,n,r)},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.columns,n=e.width,o=0,i=0,s=!0;return t.forEach((function(e){var t=e.getMinWidth();o+=t||0;var n=e.getMaxWidth();r(n)&&n>0?i+=n:s=!1})),n>=o&&(!s||n<=i)},t.prototype.resizeColumnSets=function(e,t,n){if(!e||e.every(this.checkMinAndMaxWidthsForSet.bind(this))){var o=[],i=[];e.forEach((function(e){var t=e.width,s=e.columns,a=e.ratios,u={},l={};s.forEach((function(e){return i.push(e)}));for(var c=!0,p=0,h=function(){if(++p>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";c=!1;var e=[],n=0,o=t;s.forEach((function(t,r){if(l[t.getId()])o-=u[t.getId()];else{e.push(t);var i=a[r];n+=i}}));var i=1/n;e.forEach((function(n,s){var p;s===e.length-1?p=o:(p=Math.round(a[s]*t*i),o-=p);var h=n.getMinWidth(),d=n.getMaxWidth();r(h)&&p<h?(p=h,l[n.getId()]=!0,c=!0):r(d)&&d>0&&p>d&&(p=d,l[n.getId()]=!0,c=!0),u[n.getId()]=p}))};c;){if("break"===h())break}s.forEach((function(e){var t=u[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),o.push(e))}))}));var s=o.length>0,a=this.refreshFlexedColumns({resizingCols:i,skipSetLeft:!0});s&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());var u=i.concat(a);(s||t)&&this.fireColumnResizedEvent(u,t,n,a)}else if(t){var l=e&&e.length>0?e[0].columns:null;this.fireColumnResizedEvent(l,t,n)}},t.prototype.setColumnAggFunc=function(e,t,n){if(void 0===n&&(n="api"),e){var r=this.getPrimaryColumn(e);if(r){r.setAggFunc(t);var o={type:Ue.EVENT_COLUMN_VALUE_CHANGED,columns:[r],column:r,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)}}},t.prototype.moveRowGroupColumn=function(e,t,n){void 0===n&&(n="api");var r=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,r);var o={type:Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)},t.prototype.moveColumns=function(e,t,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(e);if(!!this.doesMovePassRules(r,t)){b(this.gridColumns,r,t),this.updateDisplayedColumns(n);var o={type:Ue.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o),this.columnAnimationService.finish()}},t.prototype.doesMovePassRules=function(e,t){var n=this.gridColumns.slice();return b(n,e,t),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;!e||e.length<=1||(e.filter((function(e){return t.gridColumns.indexOf(e)<0})).length>0||e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})))},t.prototype.doesMovePassLockedPositions=function(e){var t=!1,n=!0;return e.forEach((function(e){e.getColDef().lockPosition?t&&(n=!1):t=!0})),n},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof Se){var r=n,o=r.getColGroupDef();if(o&&o.marryChildren){var i=[];r.getLeafColumns().forEach((function(t){var n=e.indexOf(t);i.push(n)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>r.getLeafColumns().length-1&&(t=!1)}}})),t},t.prototype.moveColumn=function(e,t,n){void 0===n&&(n="api"),this.moveColumns([e],t,n)},t.prototype.moveColumnByIndex=function(e,t,n){void 0===n&&(n="api");var r=this.gridColumns[e];this.moveColumn(r,t,n)},t.prototype.getColumnDefs=function(){var e=this,t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&t.sort((function(t,n){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case ye.PINNED_LEFT:return this.leftWidth;case ye.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n;var r={type:Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case ye.PINNED_LEFT:return this.getDisplayedLeftColumns();case ye.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return i(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return i(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,n){void 0===n&&(n="api"),this.setColumnsVisible([e],t,n)},t.prototype.setColumnsVisible=function(e,t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,(function(e){return e.isVisible()!==t&&(e.setVisible(t,n),!0)}),n,(function(){return{type:Ue.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}})),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,n){void 0===n&&(n="api"),e&&this.setColumnsPinned([e],t,n)},t.prototype.setColumnsPinned=function(e,t,n){var r,o=this;(void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),r=!0===t||t===ye.PINNED_LEFT?ye.PINNED_LEFT:t===ye.PINNED_RIGHT?ye.PINNED_RIGHT:null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==r&&(e.setPinned(r),!0)}),n,(function(){return{type:Ue.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,n,o){var s=this;if(!i(e)){var a=[];if(e.forEach((function(e){var n=s.getGridColumn(e);n&&(!1!==t(n)&&a.push(n))})),a.length&&(this.updateDisplayedColumns(n),r(o)&&o)){var u=o();u.columns=a,u.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(u)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n>0?t[n-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var n=e.getOriginalColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),o="After"===t?g(r):r[0],i="getDisplayedCol"+t;;){var s=this[i](o);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var n=e.getParent();;){if(n.getOriginalColumnGroup().getLevel()+n.getPaddingLevel()<=t)break;n=n.getParent()}return n},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&r(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(t){return e.push(t)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(t){return e.push(t)})),e},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,o=null!=e.getSort()?e.getSort():null,i=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:i,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:s}},t.prototype.getColumnState=function(){if(o(this.primaryColumns)||!this.isAlive())return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=new Map(this.gridColumns.map((function(e,t){return[e.getColId(),t]})));e.sort((function(e,n){return(t.has(e.colId)?t.get(e.colId):-1)-(t.has(n.colId)?t.get(n.colId):-1)}))},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var t=this.getColumnsFromTree(this.primaryColumnTree),n=[],r=1e3,i=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),t&&(s=s.concat(t)),s.forEach((function(e){var t=e.getColDef(),s=null!=t.sort?t.sort:null,a=t.sortIndex,u=!!t.hide,l=t.pinned?t.pinned:null,c=t.width,p=null!=t.flex?t.flex:null,h=t.rowGroupIndex,d=t.rowGroup;null!=h||null!=d&&0!=d||(h=null,d=null);var f=t.pivotIndex,g=t.pivot;null!=f||null!=g&&0!=g||(f=null,g=null);var v=null!=t.aggFunc?t.aggFunc:null,y={colId:e.getColId(),sort:s,sortIndex:a,hide:u,pinned:l,width:c,flex:p,rowGroup:d,rowGroupIndex:h,pivot:g,pivotIndex:f,aggFunc:v};o(h)&&d&&(y.rowGroupIndex=r++),o(f)&&g&&(y.pivotIndex=i++),n.push(y)})),this.applyColumnState({state:n,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,t){var n=this;if(void 0===t&&(t="api"),i(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var r=this.compareColumnStatesAndRaiseEvents(t);this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns.slice(),s=!0,a={},u={},l=[],c=this.rowGroupColumns.slice(),p=this.pivotColumns.slice();e.state&&e.state.forEach((function(r){var i=ye.GROUP_AUTO_COLUMN_ID,c=r.colId||"";if(Je(c,i))l.push(r);else{var p=n.getPrimaryColumn(c);p?(n.syncColumnWithStateItem(p,r,e.defaultState,a,u,!1,t),m(o,p)):s=!1}})),o.forEach((function(r){n.syncColumnWithStateItem(r,null,e.defaultState,a,u,!1,t)}));var h=function(e,t,n,r){var o=e[n.getId()],i=e[r.getId()],s=null!=o,a=null!=i;if(s&&a)return o-i;if(s)return-1;if(a)return 1;var u=t.indexOf(n),l=t.indexOf(r),c=u>=0;return c&&l>=0?u-l:c?-1:1};return this.rowGroupColumns.sort(h.bind(this,a,c)),this.pivotColumns.sort(h.bind(this,u,p)),this.updateGridColumns(),l.forEach((function(r){var o=n.getAutoColumn(r.colId);n.syncColumnWithStateItem(o,r,e.defaultState,null,null,!0,t)})),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),r(),this.columnAnimationService.finish(),s},t.prototype.applyOrderAfterApplyState=function(e){var t=this;if(this.gridColsArePrimary&&e.applyOrder&&e.state){var n=[],r={};e.state.forEach((function(e){if(e.colId&&!r[e.colId]){var o=t.primaryColumnsMap[e.colId];o&&(n.push(o),r[e.colId]=!0)}})),this.gridColumns.forEach((function(e){r[e.getColId()]||n.push(e)})),n=this.putFixedColumnsFirst(n),this.doesMovePassMarryChildren(n)?this.gridColumns=n:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var t=this;if(!!!this.columnDefs)return function(){};var n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),o={};return r.forEach((function(e){o[e.colId]=e})),function(){if(!t.gridOptionsWrapper.isSuppressColumnStateEvents()){var i=function(n,r,o,i){if(!v(r.map(i).sort(),o.map(i).sort())){var s={type:n,columns:o,column:1===o.length?o[0]:null,api:t.gridApi,columnApi:t.columnApi,source:e};t.eventService.dispatchEvent(s)}},s=function(e){var n=[];return t.gridColumns.forEach((function(t){var r=o[t.getColId()];r&&e(r,t)&&n.push(t)})),n},a=function(e){return e.getColId()};i(Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,t.rowGroupColumns,a),i(Ue.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,t.pivotColumns,a),i(Ue.EVENT_COLUMN_VALUE_CHANGED,n.valueColumns,t.valueColumns,a);t.fireColumnResizedEvent(s((function(e,t){return e.width!=t.getActualWidth()})),!0,e);t.raiseColumnPinnedEvent(s((function(e,t){return e.pinned!=t.getPinned()})),e);t.raiseColumnVisibleEvent(s((function(e,t){return e.hide==t.isVisible()})),e);s((function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()})).length>0&&t.sortController.dispatchSortChangedEvents(),t.raiseColumnMovedEvent(r,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,t){if(e.length){var n={type:Ue.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(n)}},t.prototype.raiseColumnVisibleEvent=function(e,t){if(e.length){var n={type:Ue.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(n)}},t.prototype.raiseColumnMovedEvent=function(e,t){var n=this,r=this.getColumnState(),o={};r.forEach((function(e){return o[e.colId]=e}));var i={};e.forEach((function(e){o[e.colId]&&(i[e.colId]=!0)}));var s=P(e,(function(e){return i[e.colId]})),a=P(r,(function(e){return i[e.colId]})),u=[];if(a.forEach((function(e,t){var r=s&&s[t];if(r&&r.colId!==e.colId){var o=n.getGridColumn(r.colId);o&&u.push(o)}})),u.length){var l={type:Ue.EVENT_COLUMN_MOVED,columns:u,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(l)}},t.prototype.syncColumnWithStateItem=function(e,t,n,o,i,s,a){if(e){var u=function(e,o){var i=t,s=n,a={value1:void 0,value2:void 0},u=!1;return i&&(void 0!==i[e]&&(a.value1=i[e],u=!0),r(o)&&void 0!==i[o]&&(a.value2=i[o],u=!0)),!u&&s&&(void 0!==s[e]&&(a.value1=s[e]),r(o)&&void 0!==s[o]&&(a.value2=s[o])),a},l=u("hide").value1;void 0!==l&&e.setVisible(!l,a);var c=u("pinned").value1;void 0!==c&&e.setPinned(c);var p=this.gridOptionsWrapper.getMinColWidth(),h=u("flex").value1;if(void 0!==h&&e.setFlex(h),e.getFlex()<=0){var d=u("width").value1;null!=d&&p&&d>=p&&e.setActualWidth(d,a)}var f=u("sort").value1;void 0!==f&&(f===ye.SORT_DESC||f===ye.SORT_ASC?e.setSort(f):e.setSort(void 0));var g=u("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!s){var v=u("aggFunc").value1;void 0!==v&&("string"===typeof v?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(r(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.isValueActive()&&(e.setValueActive(!1,a),m(this.valueColumns,e))));var y=u("rowGroup","rowGroupIndex"),w=y.value1,C=y.value2;void 0===w&&void 0===C||("number"===typeof C||w?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),o&&"number"===typeof C&&(o[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),m(this.rowGroupColumns,e)));var b=u("pivot","pivotIndex"),E=b.value1,S=b.value2;void 0===E&&void 0===S||("number"===typeof S||E?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),i&&"number"===typeof S&&(i[e.getId()]=S)):e.isPivotActive()&&(e.setPivotActive(!1,a),m(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var n=[];return e&&e.forEach((function(e){var r=t(e);r&&n.push(r)})),n},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns,this.primaryColumnsMap)},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getColumn=function(e,t,n){if(!e)return null;if("string"==typeof e&&n[e])return n[e];for(var r=0;r<t.length;r++)if(this.columnsMatch(t[r],e))return t[r];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&r(this.groupAutoColumns)&&!o(this.groupAutoColumns)?c(this.groupAutoColumns,(function(n){return t.columnsMatch(n,e)})):null},t.prototype.columnsMatch=function(e,t){var n=e===t,r=e.getColDef()===t,o=e.getColId()==t;return n||r||o},t.prototype.getDisplayNameForColumn=function(e,t,n){if(void 0===n&&(n=!1),!e)return null;var r=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,r):r},t.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,n){var r=t?t.getColGroupDef():null;return r?this.getHeaderName(r,null,e,t,n):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,n,r,o){var i=e.headerValueGetter;if(i){var s={colDef:e,column:t,columnGroup:n,originalColumnGroup:r,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof i?i(s):"string"===typeof i?this.expressionService.evaluate(i,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Xe(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var n,o=e.getColDef().pivotValueColumn,i=null;if(r(o))i=o?o.getAggFunc():null,n=!0;else{var s=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();s&&a?(i=e.getAggFunc(),n=!0):n=!1}if(n){var u="string"===typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(u,u)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof Ee)return e;var n=this.getAllDisplayedTrees(),r="number"===typeof t,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof Ee){var i=n;(r?e===i.getGroupId()&&t===i.getInstanceId():e===i.getGroupId())&&(o=i)}})),o},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,n){return t.setValueActive(n,e)}),(function(){}),(function(){}),(function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc})),this.valueColumns.forEach((function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,n){return t.setRowGroupActive(n,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.initialRowGroupIndex}),(function(e){return e.rowGroup}),(function(e){return e.initialRowGroup}))},t.prototype.extractColumns=function(e,t,n,r,o,i,s){void 0===e&&(e=[]),void 0===t&&(t=[]);var l=[],c=[];this.primaryColumns.forEach((function(n){var p,h=e.indexOf(n)<0,d=n.getColDef(),f=u(i(d)),g=u(s(d)),v=a(r(d)),y=a(o(d));h?p=void 0!==f||void 0!==v?void 0!==f?f:v>=0:g||y>=0:p=void 0!==f?f:void 0!==v?null!==v&&v>=0:t.indexOf(n)>=0;p&&((h?null!=v||null!=y:null!=v)?l.push(n):c.push(n))}));var p=function(e){var t=r(e.getColDef()),n=o(e.getColDef());return null!=t?t:n};l.sort((function(e,t){var n=p(e),r=p(t);return n===r?0:n<r?-1:1}));var h=[].concat(l);return t.forEach((function(e){c.indexOf(e)>=0&&h.push(e)})),c.forEach((function(e){h.indexOf(e)<0&&h.push(e)})),t.forEach((function(e){h.indexOf(e)<0&&n(e,!1)})),h.forEach((function(e){t.indexOf(e)<0&&n(e,!0)})),h},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,n){return t.setPivotActive(n,e)}),(function(e){return e.pivotIndex}),(function(e){return e.initialPivotIndex}),(function(e){return e.pivot}),(function(e){return e.initialPivot}))},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof Se){var n=e.getColGroupDef(),r={groupId:e.getGroupId(),open:n?n.openByDefault:void 0};t.push(r)}})),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){if(t instanceof Se){var n=t;e.push({groupId:n.getGroupId(),open:n.isExpanded()})}})),e},t.prototype.setColumnGroupState=function(e,t){var n=this;void 0===t&&(t="api"),this.columnAnimationService.start();var r=[];e.forEach((function(e){var t=e.groupId,o=e.open,i=n.getOriginalColumnGroup(t);i&&i.isExpanded()!==o&&(n.logger.log("columnGroupOpened("+i.getGroupId()+","+o+")"),i.setExpanded(o),r.push(i))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),r.forEach((function(e){var t={type:Ue.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:n.gridApi,columnApi:n.columnApi};n.eventService.dispatchEvent(t)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,n){var r;void 0===n&&(n="api"),r=e instanceof Se?e.getId():e||"",this.setColumnGroupState([{groupId:r,open:t}],n)},t.prototype.getOriginalColumnGroup=function(e){if(e instanceof Se)return e;"string"!==typeof e&&console.error("AG Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof Se){var r=n;r.getId()===e&&(t=r)}})),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&!this.secondaryColumnsPresent?this.gridColumns.filter((function(t){var n=e.groupAutoColumns&&E(e.groupAutoColumns,t),r=e.valueColumns&&E(e.valueColumns,t);return n||r})):this.gridColumns.filter((function(t){return e.groupAutoColumns&&E(e.groupAutoColumns,t)||t.isVisible()}))},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){r(e.getColDef().colSpan)&&(t=!0)})),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var n=t.getColDef();n&&r(n.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var n=e&&e.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(e);var r=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||n){e&&function e(o){o.forEach((function(o){if(r(o.children)){var i=o;n&&n(i),e(i.children)}else t&&t(o)}))}(e)}},t.prototype.updateGridColumns=function(){var e=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(e){return e.getColDef().autoHeight})),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t}));var t={type:Ue.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.orderGridColsLikeLastPrimary=function(){if(!o(this.lastPrimaryOrder)){var e=new Map(this.lastPrimaryOrder.map((function(e,t){return[e,t]}))),t=!0;if(this.gridColumns.forEach((function(n){e.has(n)&&(t=!1)})),!t){var n=new Map(this.gridColumns.map((function(e){return[e,!0]}))),r=this.lastPrimaryOrder.filter((function(e){return n.has(e)})),i=new Map(r.map((function(e){return[e,!0]}))),s=this.gridColumns.filter((function(e){return!i.has(e)})),a=r.slice();s.forEach((function(e){var t=e.getOriginalParent();if(t){for(var n=[];!n.length&&t;){t.getLeafColumns().forEach((function(e){var t=a.indexOf(e)>=0,r=n.indexOf(e)<0;t&&r&&n.push(e)})),t=t.getOriginalParent()}if(n.length){var r=n.map((function(e){return a.indexOf(e)})),o=Math.max.apply(Math,r);C(a,e,o+1)}else a.push(e)}else a.push(e)})),this.gridColumns=a}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=this.primaryColumns.concat(this.groupAutoColumns):this.columnsForQuickFilter=this.primaryColumns},t.prototype.putFixedColumnsFirst=function(e){var t=e.filter((function(e){return e.getColDef().lockPosition})),n=e.filter((function(e){return!e.getColDef().lockPosition}));return t.concat(n)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!o(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var t={type:Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e)},t.prototype.joinDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this,n=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(o){if(r){var i=t.getWidthOfColsInList(o);o.forEach((function(t){i-=t.getActualWidth(),t.setLeft(i,e)}))}else{var s=0;o.forEach((function(t){t.setLeft(s,e),s+=t.getActualWidth()}))}w(n,o)})),n.forEach((function(t){t.setLeft(null,e)}))},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(e){e.forEach((function(e){e instanceof Ee&&e.checkLeft()}))}))},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof Ce&&t.push(e)}))},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?this.viewportColumnsCenter=this.displayedColumnsCenter:this.viewportColumnsCenter=this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,t){var n;switch(e){case ye.PINNED_LEFT:n=this.viewportRowLeft[t];break;case ye.PINNED_RIGHT:n=this.viewportRowRight[t];break;default:n=this.viewportRowCenter[t]}return o(n)&&(n=[]),n},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach((function(t){return e[t.getId()]=!0}));var t=function t(n,r,o){for(var i=!1,s=0;s<n.length;s++){var a=n[s],u=!1;if(a instanceof Ce)u=!0===e[a.getId()];else{var l=a.getDisplayedChildren();l&&(u=t(l,r,o+1))}u&&(i=!0,r[o]||(r[o]=[]),r[o].push(a))}return i};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var n=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;e.resizingCols&&e.resizingCols.forEach((function(e){var n=t.displayedColumnsCenter.indexOf(e);o<n&&(o=n)}));var i=function(e){var n=t.displayedColumnsCenter.indexOf(e)>o;return e.getFlex()&&n},s=this.displayedColumnsCenter.filter((function(e){return!i(e)})),a=this.displayedColumnsCenter.filter((function(e){return i(e)})),u=[];if(!a.length)return[];var l,c=[];e:for(;;){var p=a.reduce((function(e,t){return e+t.getFlex()}),0);l=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var h=0;h<a.length;h++){var d=a[h],f=l*d.getFlex()/p,g=0,v=d.getMinWidth(),y=d.getMaxWidth();if(r(v)&&f<v?g=v:r(y)&&f>y&&(g=y),g){d.setActualWidth(g,n),m(a,d),u.push(d),s.push(d);continue e}c[h]=Math.round(f)}break}var w=l;return a.forEach((function(e,t){e.setActualWidth(Math.min(c[t],w),n),u.push(e),w-=c[t]})),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(u,!0,n,a),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),a},t.prototype.sizeColumnsToFit=function(e,t,n){void 0===t&&(t="sizeColumnsToFit");var o=this.getAllDisplayedColumns();if(!(e<=0)&&o.length){var i=[],s=[];o.forEach((function(e){!0===e.getColDef().suppressSizeToFit?s.push(e):i.push(e)}));var a=i.slice(0),u=!1,l=function(e){m(i,e),s.push(e)};for(i.forEach((function(e){return e.resetActualWidth(t)}));!u;){u=!0;var c=e-this.getWidthOfColsInList(s);if(c<=0)i.forEach((function(e){e.setMinimum(t)}));else for(var p=c/this.getWidthOfColsInList(i),h=c,d=i.length-1;d>=0;d--){var f=i[d],g=f.getMinWidth(),v=f.getMaxWidth(),y=Math.round(f.getActualWidth()*p);r(g)&&y<g?(y=g,l(f),u=!1):r(v)&&f.isGreaterThanMax(y)?(y=v,l(f),u=!1):0===d&&(y=h),f.setActualWidth(y,t,!0),h-=y}}a.forEach((function(e){e.fireColumnWidthChangedEvent(t)})),this.setLeftValues(t),this.updateBodyWidths(),n||this.fireColumnResizedEvent(a,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],n=[],r=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":n.push(e);break;default:r.push(e)}}));var o=new ze;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,o,ye.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,ye.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,o,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var t=function(t){e.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){e instanceof Ee&&e.calculateDisplayedColumns()}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!t&&!e){var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}else this.groupAutoColumns=null}},t.prototype.autoColsEqual=function(e,t){return v(e,t,(function(e,t){return e.getColId()===t.getColId()}))},t.prototype.getWidthOfColsInList=function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){var e=this.gridOptionsWrapper.getDefaultColDef();return null!=e&&!0===e.floatingFilter||null!=this.columnDefs&&this.columnDefs.some((function(e){return!0===e.floatingFilter}))},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var n=0;n<t.length;n++){var r=this[t[n]]();if(r.length)return e?g(r):r[0]}return null},tt([ue("expressionService")],t.prototype,"expressionService",void 0),tt([ue("columnFactory")],t.prototype,"columnFactory",void 0),tt([ue("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),tt([ue("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),tt([ue("columnUtils")],t.prototype,"columnUtils",void 0),tt([ue("columnAnimationService")],t.prototype,"columnAnimationService",void 0),tt([ue("autoGroupColService")],t.prototype,"autoGroupColService",void 0),tt([le("aggFuncService")],t.prototype,"aggFuncService",void 0),tt([le("valueCache")],t.prototype,"valueCache",void 0),tt([le("animationFrameService")],t.prototype,"animationFrameService",void 0),tt([ue("rowModel")],t.prototype,"rowModel",void 0),tt([ue("columnApi")],t.prototype,"columnApi",void 0),tt([ue("gridApi")],t.prototype,"gridApi",void 0),tt([ue("sortController")],t.prototype,"sortController",void 0),tt([ue("columnDefFactory")],t.prototype,"columnDefFactory",void 0),tt([ie],t.prototype,"init",null),tt([nt(0,pe("loggerFactory"))],t.prototype,"setBeans",null),t=tt([ae("columnController")],t)}(Ve);function ot(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}function it(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}function st(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function at(){return Number.MAX_SAFE_INTEGER||9007199254740991}function ut(e){return"number"!==typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var lt=Object.freeze({__proto__:null,padStart:ot,createArrayOfNumbers:it,isNumeric:st,getMaxSafeInteger:at,cleanNumber:function(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null},decToHex:function(e,t){for(var n="",r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(e){return"number"!==typeof e?"":ut(Math.round(100*e)/100)},formatNumberCommas:ut,sum:function(e){return null==e?null:e.reduce((function(e,t){return e+t}),0)}}),ct=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ct(t,e),t.prototype.calculateColInitialWidth=function(e){var t,n=this.gridOptionsWrapper,r=null!=e.minWidth?e.minWidth:n.getMinColWidth(),o=null!=e.maxWidth?e.maxWidth:n.getMaxColWidth()||at(),i=a(e.width),s=a(e.initialWidth);return t=null!=i?i:null!=s?s:n.getColWidth(),Math.max(Math.min(t,o),r)},t.prototype.getOriginalPathForColumn=function(e,t){var n=[],r=!1;return function t(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];if(a instanceof Se)t(a.getChildren(),i+1),n[i]=a;else a===e&&(r=!0)}}(t,0),r?n:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,n){var r=this;t&&t.forEach((function(t){t instanceof Se&&r.depthFirstOriginalTreeSearch(t,t.getChildren(),n),n(t,e)}))},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var n=this;e&&e.forEach((function(e){e instanceof Ee&&n.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var n=this;e&&e.forEach((function(e){e instanceof Ee&&n.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},t=pt([ae("columnUtils")],t)}(Ve),dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dt(t,e),t.prototype.createDisplayedGroups=function(e,t,n,r,o){var i,s,a=this,u=[],l=this.mapOldGroupsById(o);return e.forEach((function(e){for(var o=a.getOriginalPathForColumn(t,e),c=[],p=!s,h=0;h<o.length;h++)if(p||o[h]!==s[h]){var d=a.createColumnGroup(o[h],n,l,r);c[h]=d,0==h?u.push(d):c[h-1].addChild(d)}else c[h]=i[h];0===c.length?u.push(e):g(c).addChild(e);i=c,s=o})),this.setupParentsIntoColumns(u,null),u},t.prototype.createColumnGroup=function(e,t,n,o){var i=e.getGroupId(),s=t.getInstanceIdForKey(i),a=n[Ee.createUniqueId(i,s)];return a&&a.getOriginalColumnGroup()!==e&&(a=null),r(a)?a.reset():(a=new Ee(e,i,s,o),this.context.createBean(a)),a},t.prototype.mapOldGroupsById=function(e){var t={};return e&&function e(n){n.forEach((function(n){if(n instanceof Ee){var r=n;t[n.getUniqueId()]=r,e(r.getChildren())}}))}(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var n=this;e.forEach((function(e){if(e.setParent(t),e instanceof Ee){var r=e;n.setupParentsIntoColumns(r.getChildren(),r)}}))},t.prototype.getOriginalPathForColumn=function(e,t){var n=[],r=!1;return function e(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];if(a instanceof Se)e(a.getChildren(),i+1),n[i]=a;else a===t&&(r=!0)}}(e,0),r?n:(console.warn("could not get path"),null)},ft([ue("columnUtils")],t.prototype,"columnUtils",void 0),t=ft([ae("displayedGroupCreator")],t)}(Ve),vt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},yt=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],e.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction"],e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault"],e.ALL_PROPERTIES=vt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),mt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},wt=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)}))),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,n,r){"object"!==typeof t&&(t={});var o=t,i=function(e){return"undefined"!==typeof n[e]};return mt(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(i).forEach((function(e){return o[e]=n[e]})),e.BOOLEAN_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toBoolean(n[t])})),e.NUMBER_PROPERTIES.filter(i).forEach((function(t){return o[t]=e.toNumber(n[t])})),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,n,r,o){if(t){var i=n,s=function(e){return t[e]};mt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach((function(e){return i[e]=t[e].currentValue})),e.BOOLEAN_PROPERTIES.filter(s).forEach((function(n){return i[n]=e.toBoolean(t[n].currentValue)})),e.NUMBER_PROPERTIES.filter(s).forEach((function(n){return i[n]=e.toNumber(t[n].currentValue)})),t.enableCellTextSelection&&r.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.quickFilterText&&r.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&r.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&r.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&r.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.autoGroupColumnDef&&r.setAutoGroupColumnDef(t.autoGroupColumnDef.currentValue,"gridOptionsChanged"),t.columnDefs&&r.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&r.setDatasource(t.datasource.currentValue),t.headerHeight&&r.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&r.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&o.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&r.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&r.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.suppressMoveWhenRowDragging&&r.setSuppressMoveWhenRowDragging(e.toBoolean(t.suppressMoveWhenRowDragging.currentValue)),t.suppressRowClickSelection&&r.setSuppressRowClickSelection(e.toBoolean(t.suppressRowClickSelection.currentValue)),t.suppressClipboardPaste&&r.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&r.setSideBar(t.sideBar.currentValue);var a={type:Ue.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};I(t,(function(e,t){a[e]=t})),r.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"===typeof e?e:"string"===typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=yt.STRING_PROPERTIES,e.OBJECT_PROPERTIES=yt.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=yt.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=yt.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=yt.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=yt.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=yt.ALL_PROPERTIES,e}();wt.EVENTS=p(Ue);var Ct=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},bt=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.ALL_PROPERTIES=Ct(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),Et=function(){function e(e,t,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var n=e.nameToHex[t];if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var n=t.match(e.hexRe);if(n)return new e((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=t.match(e.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new e((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var n=t.match(e.rgbRe);if(n)return new e(+n[1]/255,+n[2]/255,+n[3]/255);if(n=t.match(e.rgbaRe))return new e(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,n,r,o){void 0===o&&(o=1);var i=e.HSBtoRGB(t,n,r);return new e(i[0],i[1],i[2],o)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=NaN;if(r!==o){var s=o-r,a=(o-e)/s,u=(o-t)/s,l=(o-n)/s;i=e===o?l-u:t===o?2+a-l:4+u-a,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},e.HSBtoRGB=function(e,t,n){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var r=0,o=0,i=0;if(0===t)r=o=i=n;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),u=n*(1-t),l=n*(1-t*a),c=n*(1-t*(1-a));switch(s>>0){case 0:r=n,o=c,i=u;break;case 1:r=l,o=n,i=u;break;case 2:r=u,o=n,i=c;break;case 3:r=u,o=l,i=n;break;case 4:r=c,o=u,i=n;break;case 5:r=n,o=u,i=l}}return[r,o,i]},e.prototype.derive=function(t,n,r,o){var i=e.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&r>1&&(s=.05);var a=((i[0]+t)%360+360)%360,u=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var l=Math.max(Math.min(this.a*o,1),0),c=e.HSBtoRGB(a,u,s);return c.push(l),e.fromArray(c)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function St(e,t){void 0===t&&(t=",");var n=[],r=function(e){return"\r"===e||"\n"===e},o=!1;if(""===e)return[[""]];for(var i,s,a,u=function(u,l,c){var p=e[c-1],h=e[c],d=e[c+1],f=function(){n[u]||(n[u]=[]),n[u][l]||(n[u][l]="")};if(f(),'"'===h){if(o)return'"'===d?(n[u][l]+='"',c++):o=!1,i=u,s=l,a=c,"continue";if(void 0===p||p===t||r(p))return o=!0,i=u,s=l,a=c,"continue"}if(!o){if(h===t)return l++,f(),i=u,s=l,a=c,"continue";if(r(h))return l=0,u++,f(),"\r"===h&&"\n"===d&&c++,i=u,s=l,a=c,"continue"}n[u][l]+=h,i=u,s=l,a=c},l=0,c=0,p=0;p<e.length;p++)u(l,c,p),l=i,c=s,p=a;return n}var Ot,_t,Rt,Tt,At,Pt,Dt=Object.freeze({__proto__:null,stringToArray:St});function It(){return void 0===_t&&(_t=!!document.documentMode),_t}function Nt(){return void 0===Rt&&(Rt=!It()&&!!window.StyleMedia),Rt}function Lt(){return void 0===Ot&&(Ot=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Ot}function xt(){if(void 0===Tt){var e=window;Tt=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Tt}function Ft(){if(void 0===At){var e=window;At="undefined"!==typeof e.InstallTrigger}return At}function Mt(){return void 0===Pt&&(Pt=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Pt}function kt(e){if(!e)return null;var t=e.tabIndex,n=e.getAttribute("tabIndex");if(It()&&0===t&&null===n){return!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[e.nodeName.toLowerCase()]?"0":null}return-1!==t||null!==n&&(""!==n||Ft())?t.toString():null}function Gt(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var r=2*e;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),e}function Vt(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return 0===n&&0===t.clientWidth?null:(t.parentNode&&t.parentNode.removeChild(t),n)}function jt(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Ht(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Wt,Bt=Object.freeze({__proto__:null,isBrowserIE:It,isBrowserEdge:Nt,isBrowserSafari:Lt,isBrowserChrome:xt,isBrowserFirefox:Ft,isIOSUserAgent:Mt,getTabIndex:kt,getMaxDivHeight:Gt,getScrollbarWidth:Vt,hasOverflowScrolling:function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map((function(e){return"-"+e+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(t);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var o=0,i=e;o<i.length;o++)if("touch"===r[i[o]+"OverflowScrolling"]){n=!0;break}return t.parentNode&&t.parentNode.removeChild(t),n},getBodyWidth:jt,getBodyHeight:Ht});function Ut(e,t){if(e&&t&&0!==t.length){if(!(t.indexOf(" ")>=0)){if(e.classList)e.classList.add(t);else if(e.className&&e.className.length>0){var n=e.className.split(" ");n.indexOf(t)<0&&(n.push(t),e.setAttribute("class",n.join(" ")))}else e.setAttribute("class",t);return e}t.split(" ").forEach((function(t){return Ut(e,t)}))}}function zt(e,t){if(e&&t&&0!==t.length)if(t.indexOf(" ")>=0)t.split(" ").forEach((function(t){return zt(e,t)}));else if(e.classList)e.classList.remove(t);else if(e.className&&e.className.length>0){var n=e.className.split(" ").filter((function(e){return e!==t})).join(" ");e.setAttribute("class",n)}}function qt(e,t,n){n?Ut(e,t):zt(e,t)}function Kt(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var n=e.className===t,r=e.className.indexOf(" "+t+" ")>=0,o=0===e.className.indexOf(t+" "),i=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return n||r||o||i}return!1}function Yt(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,ye.INPUT_SELECTOR),r=t.call(e,ye.FOCUSABLE_EXCLUDE),o=cn(e);return n&&!r&&o}function Qt(e,t){qt(e,"ag-hidden",!t)}function $t(e,t){qt(e,"ag-invisible",!t)}function Xt(e,t){var n="disabled",r=t?function(e){return e.setAttribute(n,"")}:function(e){return e.removeAttribute(n)};r(e),In(e.querySelectorAll("input"),(function(e){return r(e)}))}function Jt(e,t,n){for(var r=0;e;){if(Kt(e,t))return!0;if(e=e.parentElement,n&&++r>n)break}return!1}function Zt(e){var t=window.getComputedStyle(e),n=t.height,r=t.width,o=t.paddingTop,i=t.paddingRight,s=t.paddingBottom,a=t.paddingLeft,u=t.marginTop,l=t.marginRight,c=t.marginBottom,p=t.marginLeft,h=t.boxSizing;return{height:parseFloat(n),width:parseFloat(r),paddingTop:parseFloat(o),paddingRight:parseFloat(i),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(u),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(p),boxSizing:h}}function en(e){var t=Zt(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function tn(e){var t=Zt(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function nn(e){var t=Zt(e),n=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+n)}function rn(e){var t=Zt(e),n=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+n)}function on(){if("boolean"===typeof Wt)return Wt;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Wt=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Wt}function sn(e,t){var n=e.scrollLeft;return t&&(n=Math.abs(n),xt()&&!on()&&(n=e.scrollWidth-e.clientWidth-n)),n}function an(e,t,n){n&&(on()?t*=-1:(Lt()||xt())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function un(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ln(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function cn(e){return null!==e.offsetParent}function pn(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function hn(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function dn(e){return e&&e.clientHeight?e.clientHeight:0}function fn(e){return e&&e.clientWidth?e.clientWidth:0}function gn(e,t,n){n&&n.nextSibling===t||(n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=e.children[n];o!==r&&e.insertBefore(r,o)}}function yn(e,t,n){var r;return n?(n.insertAdjacentHTML("afterend",t),r=n.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,r=e.firstChild),r}function mn(e,t){t&&Object.keys(t).forEach((function(n){var r=Qe(n);r&&(e.style[r]=t[n])}))}function wn(e){return e.clientWidth<e.scrollWidth}function Cn(e){return e.clientHeight<e.scrollHeight}function bn(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):En(e,t)}function En(e,t){t=On(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Sn(e,t){t=On(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function On(e){return"number"===typeof e?e+"px":e}function _n(e){return"function"===typeof Node?e instanceof Node:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName}function Rn(e){return"function"===typeof HTMLElement?e instanceof HTMLElement:e&&B(e)&&1===e.nodeType&&"string"===typeof e.nodeName}function Tn(e){return _n(e)||Rn(e)}function An(e){if(null==e)return[];var t=[];return In(e,(function(e){return t.push(e)})),t}function Pn(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];t(r.name,r.value)}}function Dn(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n.toString())}function In(e,t){if(null!=e)for(var n=0;n<e.length;n++)t(e[n])}var Nn=Object.freeze({__proto__:null,addCssClass:Ut,removeCssClass:zt,addOrRemoveCssClass:qt,radioCssClass:function(e,t,n){for(var r=e.parentElement,o=r&&r.firstChild;o;)t&&qt(o,t,o===e),n&&qt(o,n,o!==e),o=o.nextSibling},containsClass:Kt,isFocusableFormField:Yt,setDisplayed:Qt,setVisible:$t,setDisabled:Xt,isElementChildOfClass:Jt,getElementSize:Zt,getInnerHeight:en,getInnerWidth:tn,getAbsoluteHeight:nn,getAbsoluteWidth:rn,isRtlNegativeScroll:on,getScrollLeft:sn,setScrollLeft:an,clearElement:un,removeElement:function(e,t){ln(e.querySelector(t))},removeFromParent:ln,isVisible:cn,loadTemplate:pn,appendHtml:hn,getElementAttribute:function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},offsetHeight:dn,offsetWidth:fn,ensureDomOrder:gn,setDomChildOrder:vn,insertTemplateWithDomOrder:yn,prependDC:function(e,t){r(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},addStylesToElement:mn,isHorizontalScrollShowing:wn,isVerticalScrollShowing:Cn,setElementWidth:bn,setFixedWidth:En,setElementHeight:function(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):Sn(e,t)},setFixedHeight:Sn,formatSize:On,isNode:_n,isElement:Rn,isNodeOrElement:Tn,copyNodeList:An,iterateNamedNodeMap:Pn,setCheckboxState:function(e,t){"boolean"===typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},addOrRemoveAttribute:Dn,nodeListForEach:In});function Ln(e){if(!e)return"";var t=[];return I(e,(function(e,n){var r=Ye(e);t.push(r+": "+n+";")})),t.join(" ")}function xn(e,t){e.then((function(e){var n=e.getGui();null!=n&&("object"===typeof n?t.appendChild(n):t.innerHTML=n)}))}var Fn=Object.freeze({__proto__:null,getNameOfClass:function(e){var t=e.toString(),n=/function (.{1,})\(/.exec(t);return n&&n.length>1?n[1]:""},findLineByLeastSquares:function(e){var t=e.length,n=0;if(t<=1)return e;for(var r=0;r<e.length;r++){var o=e[r];Math.floor(o)!==o&&(n=Math.max(n,o.toString().split(".")[1].length))}for(var i=0,s=0,a=0,u=0,l=0,c=0;c<t;c++)i+=c,s+=l=e[c],u+=c*c,a+=c*l;var p=(t*a-i*s)/(t*u-i*i),h=s/t-p*i/t,d=[];for(c=0;c<=t;c++)d.push(parseFloat((c*p+h).toFixed(n)));return d},cssStyleObjectToMarkup:Ln,message:function(e){var t=document.createElement("div"),n=document.querySelector("#__ag__message");if(t.innerHTML=e,!n){n=pn('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)}n.insertBefore(t,n.children[0])},bindCellRendererToHtmlElement:xn});function Mn(e,t,n){e.setAttribute(Gn(t),n.toString())}function kn(e,t){e.removeAttribute(Gn(t))}function Gn(e){return"aria-"+e}function Vn(e){return e.isSortAscending()?"ascending":e.isSortDescending()?"descending":"none"}function jn(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Hn(e){return e.getAttribute("aria-describedby")||""}function Wn(e,t){Mn(e,"label",t)}function Bn(e,t){Mn(e,"labelledby",t)}function Un(e,t){Mn(e,"describedby",t)}function zn(e,t){Mn(e,"disabled",t)}function qn(e,t){Mn(e,"expanded",t)}function Kn(e){kn(e,"expanded")}function Yn(e,t){Mn(e,"setsize",t)}function Qn(e,t){Mn(e,"posinset",t)}function $n(e,t){Mn(e,"multiselectable",t)}function Xn(e,t){Mn(e,"rowcount",t)}function Jn(e,t){Mn(e,"rowindex",t)}function Zn(e,t){Mn(e,"colcount",t)}function er(e,t){Mn(e,"colindex",t)}function tr(e,t){Mn(e,"colspan",t)}function nr(e,t){Mn(e,"sort",t)}function rr(e){kn(e,"sort")}function or(e,t){var n="selected";t?Mn(e,n,t):kn(e,n)}function ir(e,t){Mn(e,"checked",void 0===t?"mixed":t)}var sr=Object.freeze({__proto__:null,getAriaSortState:Vn,getAriaLevel:function(e){return parseInt(e.getAttribute("aria-level"),10)},getAriaPosInSet:jn,getAriaDescribedBy:Hn,setAriaLabel:Wn,setAriaLabelledBy:Bn,setAriaDescribedBy:Un,setAriaLevel:function(e,t){Mn(e,"level",t)},setAriaDisabled:zn,setAriaExpanded:qn,removeAriaExpanded:Kn,setAriaSetSize:Yn,setAriaPosInSet:Qn,setAriaMultiSelectable:$n,setAriaRowCount:Xn,setAriaRowIndex:Jn,setAriaColCount:Zn,setAriaColIndex:er,setAriaColSpan:tr,setAriaSort:nr,removeAriaSort:rr,setAriaSelected:or,setAriaChecked:ir});function ar(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n="-"),!e)return null;var r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return ot(e,2)})).join(n);return t&&(r+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return ot(e,2)})).join(":")),r}function ur(e){if(!e)return null;var t=e.split(" "),n=t[0],r=t[1];if(!n)return null;var o=n.split("-").map((function(e){return parseInt(e,10)}));if(3!==o.filter((function(e){return!isNaN(e)})).length)return null;var i=o[0],s=o[1],a=o[2],u=new Date(i,s-1,a);if(u.getFullYear()!==i||u.getMonth()!==s-1||u.getDate()!==a)return null;if(!r||"00:00:00"===r)return u;var l=r.split(":").map((function(e){return parseInt(e,10)})),c=l[0],p=l[1],h=l[2];return c>=0&&c<24&&u.setHours(c),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var lr=Object.freeze({__proto__:null,serialiseDate:ar,parseDateTimeFromString:ur});function cr(e,t,n){var r={},o=e.filter((function(e){return!t.some((function(t){return t===e}))}));return o.length>0&&o.forEach((function(e){return r[e]=pr(e,n)})),r}function pr(e,t,n,r){var o=r?fr:dr,i=t.map((function(t){return{value:t,relevance:o(e.toLowerCase(),t.toLocaleLowerCase())}}));return i.sort((function(e,t){return t.relevance-e.relevance})),n&&(i=i.filter((function(e){return 0!==e.relevance}))),i.map((function(e){return e.value}))}function hr(e){var t,n,r,o=e.toLowerCase(),i=new Array(o.length-1);for(t=n=0,r=i.length;n<=r;t=n+=1)i[t]=o.slice(t,t+2);return i}function dr(e,t){if(0===e.length&&0===t.length)return 0;var n,r,o=hr(e),i=hr(t),s=o.length+i.length,a=0;for(n=0,r=o.length;n<r;n++){var u,l=o[n],c=void 0;for(c=0,u=i.length;c<u;c++){l===i[c]&&a++}}return a>0?2*a/s:0}function fr(e,t){for(var n=e.replace(/\s/g,""),r=t.replace(/\s/g,""),o=0,i=0,s=0;s<n.length;s++){var a=r.indexOf(n[s]);-1!==a&&(i=a,o+=100*(r.length-i)/r.length,o*=o)}return o}var gr=Object.freeze({__proto__:null,fuzzyCheckStrings:cr,fuzzySuggestions:pr,get_bigrams:hr,string_distances:dr,string_weighted_distances:fr}),vr={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function yr(e,t,n){var r=mr(e,t,n);if(r&&r.className.indexOf("ag-icon")>-1)return r;var o=document.createElement("span");return o.appendChild(r),o}function mr(e,t,n,r){var o=null,i=n&&n.getColDef().icons;if(i&&(o=i[e]),t&&!o){var s=t.getIcons();s&&(o=s[e])}if(!o){var a=document.createElement("span"),u=vr[e];return u||(r?u=e:(console.warn("AG Grid: Did not find icon "+e),u="")),a.setAttribute("class","ag-icon ag-icon-"+u),a.setAttribute("unselectable","on"),a.setAttribute("role","presentation"),a}var l=void 0;if("function"===typeof o)l=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");l=o}return"string"===typeof l?pn(l):Tn(l)?l:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var wr=Object.freeze({__proto__:null,iconNameClassMap:vr,createIcon:yr,createIconNoSpan:mr});function Cr(e,t){return(e.which||e.keyCode)===t}function br(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length,n=function(e){return(Nt()||It())&&"Del"===e.key&&46===e.charCode}(e);return t||n}function Er(e,t,n,r,o){var i=e.getSuppressKeyboardEventFunc(),s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!i&&!s)return!1;var a={event:t,editing:o,column:r,api:e.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};if(s&&s(a))return!0;return!!i&&i(a)}function Sr(e,t,n,o){var i=o.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;return!!r(s)&&!!s({api:e.getApi(),columnApi:e.getColumnApi(),context:e.getContext(),colDef:i,column:o,headerRowIndex:n,event:t})}var Or=Object.freeze({__proto__:null,isKeyPressed:Cr,isEventFromPrintableCharacter:br,isUserSuppressingKeyboardEvent:Er,isUserSuppressingHeaderKeyboardEvent:Sr});var _r=Object.freeze({__proto__:null,keys:function(e){var t=[];return e.forEach((function(e,n){return t.push(n)})),t}});function Rr(e,t,n){if(0===n)return!1;var r=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(r,o)<=n}var Tr=Object.freeze({__proto__:null,normalizeWheel:function(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}},isLeftClick:function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},areEventsNear:Rr});var Ar=Object.freeze({__proto__:null,sortRowNodesByOrder:function(e,t){if(e){for(var n=function(e,n){var r=t[e.id],o=t[n.id],i=void 0!==r,s=void 0!==o;return i&&s?r-o:!i&&!s?e.__objectId-n.__objectId:i?1:-1},r=!1,o=0;o<e.length-1;o++)if(n(e[o],e[o+1])>0){r=!0;break}r&&e.sort(n)}},traverseNodesWithKey:function(e,t){var n=[];!function e(r){if(!r)return;r.forEach((function(r){if(r.group||r.hasChildren()){n.push(r.key);var o=n.join("|");t(r,o),e(r.childrenAfterGroup),n.pop()}}))}(e)}});function Pr(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),t}var Dr,Ir=Object.freeze({__proto__:null,convertToSet:Pr}),Nr=function(){return(Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lr=Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr({},Fn),sr),D),Bt),Dt),lr),Nn),ke),ne),gr),h),wr),Or),_r),Tr),lt),U),Ar),Ir),Ze),xr=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(Dr=t.AgPromiseStatus||(t.AgPromiseStatus={}))[Dr.IN_PROGRESS=0]="IN_PROGRESS",Dr[Dr.RESOLVED=1]="RESOLVED";var Fr,Mr=function(){function e(e){var n=this;this.status=t.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e((function(e){return n.onDone(e)}),(function(e){return n.onReject(e)}))}return e.all=function(t){return new e((function(e){var n=t.length,r=new Array(n);T(t,(function(t,o){t.then((function(t){r[o]=t,0===--n&&e(r)}))}))}))},e.resolve=function(t){return void 0===t&&(t=null),new e((function(e){return e(t)}))},e.prototype.then=function(n){var r=this;return new e((function(e){r.status===t.AgPromiseStatus.RESOLVED?e(n(r.resolution)):r.waiters.push((function(t){return e(n(t))}))}))},e.prototype.resolveNow=function(e,n){return this.status===t.AgPromiseStatus.RESOLVED?n(this.resolution):e},e.prototype.onDone=function(e){this.status=t.AgPromiseStatus.RESOLVED,this.resolution=e,T(this.waiters,(function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),kr=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}(),Gr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=function(){return(Vr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(Fr||(Fr={}));var Hr=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=Fr.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=t,n}return Gr(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(this.state==Fr.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Fr.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Fr.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Fr.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Fr.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Fr.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;Ut(this.tooltipComp.getGui(),"ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout((function(){t(),e.getContext().destroyBean(n)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Vr({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(r(e.value)){this.state=Fr.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(e).then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==Fr.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var n=t.getGui();this.tooltipComp=t,Kt(n,"ag-tooltip")||Ut(n,"ag-tooltip-custom");var r=this.popupService.addPopup({eChild:n});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},jr([ue("popupService")],t.prototype,"popupService",void 0),jr([ue("userComponentFactory")],t.prototype,"userComponentFactory",void 0),jr([ue("columnApi")],t.prototype,"columnApi",void 0),jr([ue("gridApi")],t.prototype,"gridApi",void 0),jr([ie],t.prototype,"postConstruct",null),t}(Ve),Wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Br=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ur=new xr,zr=function(e){function t(t){var n=e.call(this)||this;return n.annotatedGuiListeners=[],n.displayed=!0,n.visible=!0,n.compId=Ur.next(),n.cssClassStates={},t&&n.setTemplate(t),n}return Wr(t,e),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var t=this;this.tooltipText!=e&&(this.tooltipText&&(t.usingBrowserTooltips?t.getGui().removeAttribute("title"):t.tooltipFeature=t.destroyBean(t.tooltipFeature)),this.tooltipText=e,this.tooltipText&&(t.usingBrowserTooltips?t.getGui().setAttribute("title",t.tooltipText):t.tooltipFeature=t.createBean(new Hr(t))))},t.prototype.createChildComponentsFromTags=function(e,t){var n=this;T(An(e.childNodes),(function(r){if(r instanceof HTMLElement){var o=n.createComponentFromElement(r,(function(e){n.copyAttributesFromNode(r,e.getGui())}),t);if(o){if(o.addItems&&r.children.length){n.createChildComponentsFromTags(r,t);var i=Array.prototype.slice.call(r.children);o.addItems(i)}n.swapComponentForNode(o,e,r)}else r.childNodes&&n.createChildComponentsFromTags(r,t)}}))},t.prototype.createComponentFromElement=function(e,t,n){var r=e.nodeName,o=n?n[e.getAttribute("ref")]:void 0,i=this.agStackComponentsRegistry.getComponentClass(r);if(i){var s=new i(o);return this.createBean(s,null,t),s}return null},t.prototype.copyAttributesFromNode=function(e,t){Pn(e.attributes,(function(e,n){return t.setAttribute(e,n)}))},t.prototype.swapComponentForNode=function(e,t,n){var r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var n=this;this.iterateOverQuerySelectors((function(r){n[r.attributeName]===t&&(n[r.attributeName]=e)}))},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var n=t.__agComponentMetaData,r=Q(t.constructor);n&&n[r]&&n[r].querySelectors&&T(n[r].querySelectors,(function(t){return e(t)})),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var n=pn(e);this.setTemplateFromElement(n,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors((function(n){var r=e.eGui.querySelector(n.querySelector);r&&(t[n.attributeName]=r.__agComponent||r)}))}},t.prototype.addAnnotatedGuiEventListeners=function(){var e=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var t=this.getAgComponentMetaData("guiListenerMethods");t&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),t.forEach((function(t){var n=e.getRefElement(t.ref);if(n){var r=e[t.methodName].bind(e);n.addEventListener(t.eventName,r),e.annotatedGuiListeners.push({eventName:t.eventName,listener:r,element:n})}})))}},t.prototype.addAnnotatedGridEventListeners=function(){var e=this,t=this.getAgComponentMetaData("gridListenerMethods");t&&t.forEach((function(t){var n=e[t.methodName].bind(e);e.addManagedListener(e.eventService,t.eventName,n)}))},t.prototype.getAgComponentMetaData=function(e){for(var t=[],n=Object.getPrototypeOf(this);null!=n;){var r=n.__agComponentMetaData,o=Q(n.constructor);r&&r[o]&&r[o][e]&&(t=t.concat(r[o][e])),n=Object.getPrototypeOf(n)}return t},t.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(T(this.annotatedGuiListeners,(function(e){e.element.removeEventListener(e.eventName,e.listener)})),this.annotatedGuiListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),null!=e)if(Tn(e))t.appendChild(e);else{var n=e;t.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,$t(this.eGui,e))},t.prototype.setDisplayed=function(e){if(e!==this.displayed){this.displayed=e,Qt(this.eGui,e);var n={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}},t.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var n=this;this.eGui.addEventListener(e,t),this.addDestroyFunc((function(){return n.eGui.removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){!0!==this.cssClassStates[e]&&(Ut(this.eGui,e),this.cssClassStates[e]=!0)},t.prototype.removeCssClass=function(e){!1!==this.cssClassStates[e]&&(zt(this.eGui,e),this.cssClassStates[e]=!1)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassStates[e]!==t&&(qt(this.eGui,e,t),this.cssClassStates[e]=t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Br([ue("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Br([oe],t.prototype,"preConstructOnComponent",null),Br([oe],t.prototype,"createChildComponentsPreConstruct",null),Br([ie],t.prototype,"addAnnotatedGridEventListeners",null),t}(Ve),qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qr(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){Ut(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&zt(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(zr);function Yr(e){return Qr.bind(this,"[ref="+e+"]")}function Qr(e,t,n,r){null!==e?"number"!==typeof r?Jr(t,"querySelectors",{attributeName:n,querySelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}function $r(e,t,n){null!=e?Jr(t,"gridListenerMethods",{methodName:n,eventName:e}):console.error("AG Grid: GridListener eventName is missing")}function Xr(e,t,n,r){null!=t?Jr(n,"guiListenerMethods",{methodName:r,eventName:t,ref:e}):console.error("AG Grid: GuiListener eventName is missing")}function Jr(e,t,n){var r=function(e,t){e.__agComponentMetaData||(e.__agComponentMetaData={});e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={});return e.__agComponentMetaData[t]}(e,Q(e.constructor));r[t]||(r[t]=[]),r[t].push(n)}var Zr,eo=function(){function e(){}return e.BACKSPACE=8,e.TAB=9,e.ENTER=13,e.SHIFT=16,e.ESCAPE=27,e.SPACE=32,e.LEFT=37,e.UP=38,e.RIGHT=39,e.DOWN=40,e.DELETE=46,e.A=65,e.C=67,e.V=86,e.D=68,e.Z=90,e.Y=89,e.F2=113,e.PAGE_UP=33,e.PAGE_DOWN=34,e.PAGE_HOME=36,e.PAGE_END=35,e}(),to=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ro=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return to(t,e),t.prototype.init=function(e){this.params=e;var t,n=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===eo.BACKSPACE||e.keyPress===eo.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==eo.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),r(t)&&n.setValue(t,!0),this.addManagedListener(n.getGui(),"keydown",(function(e){var t=e.keyCode;t!==eo.PAGE_UP&&t!==eo.PAGE_DOWN||e.preventDefault()}))},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Lt()||t.getFocusableElement().focus();var n=t.getInputElement();if(this.highlightAllOnFocus)n.select();else{var o=t.getValue(),i=r(o)&&o.length||0;i&&n.setSelectionRange(i,i)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()},t.prototype.focusOut=function(){var e=this.eInput.getInputElement();It()&&e.setSelectionRange(0,0)},t.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',no([Yr("eInput")],t.prototype,"eInput",void 0),t}(Kr),oo=function(){function e(e,t,n,r){var o=this;this.alive=!0,this.context=e,t.newDateComponent(n).then((function(t){o.alive?(o.dateComp=t,t&&(r.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),o.tempValue&&t.setDate(o.tempValue))):e.destroyBean(t)}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e.prototype.afterGuiAttached=function(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)},e}(),io=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){_(["displayKey","displayName","test"],(function(e){return!!t[e]||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain a '"+e+"'"),!1)}))&&(e.customFilterOptions[t.displayKey]=t)}}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),so={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},ao=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},lo=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t)||this;return r.isFocusableContainer=n,r.skipTabGuardFocus=!1,r}return ao(t,e),t.prototype.postConstruct=function(){var e=this,n=this.getFocusableElement();n&&(Ut(n,t.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))}))),this.addKeyDownListeners(n),this.addManagedListener(n,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(n,"focusout",this.onFocusOut.bind(this)))},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.onTabKeyDown=function(e){var t=this;if(!e.defaultPrevented){var n=this.tabGuardsAreActive();this.isFocusableContainer&&n&&this.deactivateTabGuards();var r=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);this.isFocusableContainer&&n&&setTimeout((function(){return t.activateTabGuards()}),0),r&&(r.focus(),e.preventDefault())}},t.prototype.onFocusIn=function(e){this.isFocusableContainer&&this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.isFocusableContainer&&!this.getFocusableElement().contains(e.relatedTarget)&&this.activateTabGuards()},t.prototype.forceFocusOutOfContainer=function(e){if(void 0===e&&(e=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var t=e?this.topTabGuard:this.bottomTabGuard;t&&t.focus()}},t.prototype.appendChild=function(t,n){if(this.isFocusableContainer){Tn(t)||(t=t.getGui());var r=this.bottomTabGuard;r?r.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,n)}else e.prototype.appendChild.call(this,t,n)},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard"),t.classList.add("ag-tab-guard-"+e),t.setAttribute("role","presentation"),t},t.prototype.addTabGuards=function(){var e=this.getFocusableElement();e.insertAdjacentElement("afterbegin",this.topTabGuard),e.insertAdjacentElement("beforeend",this.bottomTabGuard)},t.prototype.forEachTabGuard=function(e){this.topTabGuard&&e(this.topTabGuard),this.bottomTabGuard&&e(this.bottomTabGuard)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",(function(e){e.defaultPrevented||Pe(e)||(t.shouldStopEventPropagation(e)?Ae(e):e.keyCode===eo.TAB?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e))}))},t.prototype.shouldStopEventPropagation=function(e){return!1},t.prototype.onFocus=function(e){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard)},t.prototype.activateTabGuards=function(){this.forEachTabGuard((function(e){return e.setAttribute("tabIndex","0")}))},t.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(e){return e.removeAttribute("tabIndex")}))},t.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},t.prototype.clearGui=function(){var e=this.tabGuardsAreActive();un(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),e&&this.activateTabGuards())},t.FOCUS_MANAGED_CLASS="ag-focus-managed",uo([ue("focusController")],t.prototype,"focusController",void 0),uo([ie],t.prototype,"postConstruct",null),t}(zr),co=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),po=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ho=function(e){function t(t){var n=e.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return co(t,e),t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.onFilterChanged=function(){console.warn("AG Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){this.resetTemplate(),e.prototype.postConstruct.call(this)},t.prototype.resetTemplate=function(e){var t='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(t,e)},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))},t.prototype.setParams=function(e){if(t.checkForDeprecatedParams(e),this.providedFilterParams=e,"keep"===e.newRowsAction)this.newRowsActionKeep=!0;else if("clear"===e.newRowsAction)this.newRowsActionKeep=!1;else{var n=[ye.ROW_MODEL_TYPE_SERVER_SIDE,ye.ROW_MODEL_TYPE_INFINITE];this.newRowsActionKeep=n.indexOf(this.rowModel.getType())>=0}this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(t&&!(t.length<1)){var n=document.createElement("div");Ut(n,"ag-filter-apply-panel");Pr(t).forEach((function(t){return function(t){var r,o;switch(t){case"apply":r=e.translate("applyFilter"),o=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":r=e.translate("clearFilter"),o=function(){return e.onBtClear()};break;case"reset":r=e.translate("resetFilter"),o=function(){return e.onBtReset()};break;case"cancel":r=e.translate("cancelFilter"),o=function(t){e.onBtCancel(t)};break;default:return void console.warn("Unknown button type specified")}var i=pn('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+r+"\n                </button>");n.appendChild(i),e.addManagedListener(i,"click",o)}(t)})),this.getGui().appendChild(n)}},t.checkForDeprecatedParams=function(e){var t=e.buttons||[];if(!(t.length>0)){var n=e.applyButton,r=e.resetButton;e.clearButton&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),t.push("clear")),r&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),t.push("reset")),n&&(console.warn("AG Grid: as of AG Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.apply&&(console.warn("AG Grid: as of AG Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.buttons=t}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=ee(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){var t=this;return(e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((function(){t.updateUiVisibility(),t.applyModel()}))},t.prototype.onBtCancel=function(e){var t=this;this.setModelIntoUi(this.getModel()).then((function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)}))},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!t&&this.close(n)},t.prototype.onNewRowsLoaded=function(){var e=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return e.appliedModel=null}))},t.prototype.close=function(e){if(this.hidePopup){var t,n=e,r=n&&n.key;"Enter"!==r&&"Space"!==r||(t={keyboardEvent:n}),this.hidePopup(t),this.hidePopup=null}},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var n=this.isModelValid(this.getModelFromUi());Xt(this.getRefElement("applyFilterButton"),!n)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return t.checkForDeprecatedParams(e),!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,so[e])},po([ue("rowModel")],t.prototype,"rowModel",void 0),po([ie],t.prototype,"postConstruct",null),t}(lo),fo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),go=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(Zr||(Zr={}));var vo,yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fo(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Zr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Zr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Zr.One),condition2:this.createCondition(Zr.Two)}:this.createCondition(Zr.One):null},t.prototype.getCondition1Type=function(){return this.eType1.getValue()},t.prototype.getCondition2Type=function(){return this.eType2.getValue()},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,r=!e.operator,o=!t.operator;if(!r&&o||r&&!o)return!1;if(r){var i=e,s=t;n=this.areSimpleModelsEqual(i,s)}else{var a=e,u=t;n=a.operator===u.operator&&this.areSimpleModelsEqual(a.condition1,u.condition1)&&this.areSimpleModelsEqual(a.condition2,u.condition2)}return n},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,n="OR"===t.operator;this.eJoinOperatorAnd.setValue(!n),this.eJoinOperatorOr.setValue(n),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,Zr.One),this.setConditionIntoUi(t.condition2,Zr.Two)}else{var r=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(r.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(r,Zr.One),this.setConditionIntoUi(null,Zr.Two)}return Mr.resolve()},t.prototype.doesFilterPass=function(e){var t=this,n=this.getModel();if(null==n)return!0;var r=n.operator,o=[];if(r){var i=n;o.push(i.condition1,i.condition2)}else o.push(n);return(r&&"OR"===r?R:_)(o,(function(n){return t.individualConditionPasses(e,n)}))},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new io,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return E(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();T(t,(function(t){var n,r;if("string"===typeof t)n=t,r=e.translate(n);else{n=t.displayKey;var o=e.optionsFactory.getCustomOption(n);r=o?e.gridOptionsWrapper.getLocaleTextFunc()(o.displayKey,o.displayName):e.translate(n)}var i=function(){return{value:n,text:r}};e.eType1.addOption(i()),e.eType2.addOption(i())}));var n=t.length<=1;this.eType1.setDisabled(n),this.eType2.setDisabled(n)},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Zr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Zr.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!e),this.eJoinOperatorOr.setDisabled(!e),this.eType2.setDisabled(!e),Xt(this.eCondition2Body,!e)):(Qt(this.eJoinOperatorPanel,e),Qt(this.eType2.getGui(),e),Qt(this.eCondition2Body,e))},t.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(Zr.One)},t.prototype.resetUiToDefaults=function(e){var t=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),n="ag-simple-filter-and-or-"+this.getCompId(),r=this.optionsFactory.getDefaultOption();return this.eType1.setValue(r,e).setAriaLabel(t),this.eType2.setValue(r,e).setAriaLabel(t),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(n).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(n).setLabel(this.translate("orCondition")),Mr.resolve()},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",go([Yr("eOptions1")],t.prototype,"eType1",void 0),go([Yr("eOptions2")],t.prototype,"eType2",void 0),go([Yr("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),go([Yr("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),go([Yr("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),go([Yr("eCondition1Body")],t.prototype,"eCondition1Body",void 0),go([Yr("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(ho),mo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mo(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("AG Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.individualConditionPasses=function(e,n){var r=this.scalarFilterParams.valueGetter(e.node),o=this.mapRangeFromModel(n),i=o.from,s=o.to,a=n.type,u=this.optionsFactory.getCustomOption(a);if(u&&(null!=i||u.hideFilterInput))return u.test(i,r);if(null==r){switch(a){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var l=this.comparator(),c=l(i,r);switch(a){case t.EQUALS:return 0===c;case t.NOT_EQUAL:return 0!==c;case t.GREATER_THAN:return c>0;case t.GREATER_THAN_OR_EQUAL:return c>=0;case t.LESS_THAN:return c<0;case t.LESS_THAN_OR_EQUAL:return c<=0;case t.IN_RANGE:var p=l(s,r);return this.scalarFilterParams.inRangeInclusive?c>=0&&p<=0:c>0&&p<0;default:throw new Error("Unexpected type of filter: "+a)}},t}(yo),Co=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Eo=function(e){function t(){return e.call(this,"dateFilter")||this}return Co(t,e),t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},t.prototype.mapRangeFromModel=function(e){return{from:ur(e.dateFrom),to:ur(e.dateTo)}},t.prototype.setValueFromFloatingFilter=function(e){this.dateCondition1FromComp.setDate(null==e?null:ur(e)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var n=e?[ur(e.dateFrom),ur(e.dateTo)]:[null,null],r=n[0],o=n[1],i=this.getFromToComponents(t),s=i[0],a=i[1];s.setDate(r),a.setDate(o)},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){n.dateCondition1FromComp.setDate(null),n.dateCondition1ToComp.setDate(null),n.dateCondition2FromComp.setDate(null),n.dateCondition2ToComp.setDate(null)}))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t=function(t){return new oo(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},t)};this.dateCondition1FromComp=t(this.eCondition1PanelFrom),this.dateCondition1ToComp=t(this.eCondition1PanelTo),this.dateCondition2FromComp=t(this.eCondition2PanelFrom),this.dateCondition2ToComp=t(this.eCondition2PanelTo),this.addDestroyFunc((function(){e.dateCondition1FromComp.destroy(),e.dateCondition1ToComp.destroy(),e.dateCondition2FromComp.destroy(),e.dateCondition2ToComp.destroy()}))},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Zr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===Zr.One?this.getCondition1Type():this.getCondition2Type();if(t===yo.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(t))return!0;var n=this.getFromToComponents(e),r=n[0],o=n[1],i=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,s=function(e){return null!=e&&e.getUTCFullYear()>i};return s(r.getDate())&&(!this.showValueTo(t)||s(o.getDate()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=e===Zr.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(e),r=n[0],o=n[1];return{dateFrom:ar(r.getDate()),dateTo:ar(o.getDate()),type:t,filterType:this.getFilterType()}},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.dateCondition1FromComp.setInputPlaceholder(t),this.dateCondition1FromComp.setInputAriaLabel(n),this.dateCondition1ToComp.setInputPlaceholder(t),this.dateCondition1ToComp.setInputAriaLabel(n),this.dateCondition2FromComp.setInputPlaceholder(t),this.dateCondition2FromComp.setInputAriaLabel(n),this.dateCondition2ToComp.setInputPlaceholder(t),this.dateCondition2ToComp.setInputAriaLabel(n)},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type();Qt(this.eCondition1PanelFrom,this.showValueFrom(t)),Qt(this.eCondition1PanelTo,this.showValueTo(t));var n=this.getCondition2Type();Qt(this.eCondition2PanelFrom,this.showValueFrom(n)),Qt(this.eCondition2PanelTo,this.showValueTo(n))},t.prototype.getFromToComponents=function(e){return e===Zr.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},t.DEFAULT_FILTER_OPTIONS=[wo.EQUALS,wo.GREATER_THAN,wo.LESS_THAN,wo.NOT_EQUAL,wo.IN_RANGE],bo([Yr("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),bo([Yr("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),bo([Yr("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),bo([Yr("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),bo([ue("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(wo),So=function(){function e(e,t){var n=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ve,this.eElement=e,this.preventMouseClick=t;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var n=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout((function(){var o=n.touchStart===r;if(n.touching&&o&&!n.moved){n.moved=!0;var i={type:e.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:t};n.eventService.dispatchEvent(i)}}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t)!Rr(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var n={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&t.preventDefault(),this.touching=!1}},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>e.DOUBLE_TAP_MILLIS){var n={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),Oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_o=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ro=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return Oo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)))},t.prototype.workOutTemplate=function(){var e=f(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=$e(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,n){if(null!=t){var r=mr(e,this.gridOptionsWrapper,n);r&&t.appendChild(r)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var n=new So(this.getGui(),!0),o=t.isSuppressMenuHide(),i=o&&r(this.eMenu),s=i?new So(this.eMenu,!0):n;if(this.params.enableMenu){var a=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,So[a],(function(n){t.getApi().showColumnMenuAfterMouseClick(e.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(n,So.EVENT_TAP,(function(t){var n=t.touchStart.target;o&&e.eMenu.contains(n)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),i&&this.addDestroyFunc((function(){return s.destroy()}))}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),t=Mt()&&e;return this.params.enableMenu&&!t},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),qt(this.eMenu,"ag-header-menu-always-show",t)}else ln(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){ln(this.eSortAsc),ln(this.eSortDesc),ln(this.eSortNone),ln(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Ce.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(n){var r=e.params.column.isMoving(),o=(new Date).getTime()-e.lastMovingChanged<50;if(!(r||o)){var i=t?n.ctrlKey||n.metaKey:n.shiftKey;e.params.progressSort(i)}})),this.addManagedListener(this.params.column,Ce.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(qt(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),qt(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),qt(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&qt(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&qt(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();qt(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),n=t.indexOf(e),r=t.length>1,o=e.isSorting()&&r;Qt(this.eSortOrder,o),n>=0?this.eSortOrder.innerHTML=(n+1).toString():un(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Ce.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();qt(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',_o([ue("sortController")],t.prototype,"sortController",void 0),_o([ue("menuFactory")],t.prototype,"menuFactory",void 0),_o([Yr("eFilter")],t.prototype,"eFilter",void 0),_o([Yr("eSortAsc")],t.prototype,"eSortAsc",void 0),_o([Yr("eSortDesc")],t.prototype,"eSortDesc",void 0),_o([Yr("eSortNone")],t.prototype,"eSortNone",void 0),_o([Yr("eSortOrder")],t.prototype,"eSortOrder",void 0),_o([Yr("eMenu")],t.prototype,"eMenu",void 0),_o([Yr("eLabel")],t.prototype,"eLabel",void 0),_o([Yr("eText")],t.prototype,"eText",void 0),t}(zr),To=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ao=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Po=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return To(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!Pe(t)){var n=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var n=function(e){Ae(e)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var r=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(r,Se.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,Se.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var n=new So(e,!0);this.addManagedListener(n,So.EVENT_TAP,t),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();Qt(this.eOpenIcon,e),Qt(this.eCloseIcon,!e)}else Qt(this.eOpenIcon,!1),Qt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var n=mr(e,this.gridOptionsWrapper,null);n&&this.getRefElement(t).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Qt(this.eOpenIcon,!1),void Qt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(r(e)){var t=$e(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ao([ue("columnController")],t.prototype,"columnController",void 0),Ao([Yr("agOpened")],t.prototype,"eOpenIcon",void 0),Ao([Yr("agClosed")],t.prototype,"eCloseIcon",void 0),t}(zr),Do=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Io=function(){function e(){this.rowIndex=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return e.prototype.setData=function(e){this.setDataCommon(e,!1)},e.prototype.updateData=function(e){this.setDataCommon(e,!0)},e.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var r=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(r)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,n,r){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:n,newData:t,update:r}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.getRowIndexString=function(){return this.rowPinned===ye.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ye.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.createBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var n=r(this.id)?this.createDaemonNode():null,o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var i=this.createDataChangedEvent(e,o,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&r(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var n=this.gridOptionsWrapper.getRowNodeIdFunc();n?this.data?(this.id=n(this.data),this.id&&this.id.startsWith&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row ID's cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature.")):this.id=void 0:this.id=t},e.prototype.isPixelInRange=function(e){return!(!r(this.rowTop)||!r(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},e.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=this.rowTop,this.setRowTop(null),this.setRowIndex(null)},e.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setRowHeight=function(t,n){void 0===n&&(n=!1),this.rowHeight=t,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var n=V({},this.createGlobalRowEvent(Ue.EVENT_ROW_GROUP_OPENED),{expanded:t});this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.rowRenderer.refreshCells({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var n=this.columnController.getPrimaryColumn(e),r=this.valueService.getValue(n,this);this.valueService.setValue(this,n,t),this.dispatchCellChangedEvent(n,t,r)},e.prototype.setGroupValue=function(e,t){var n=this.columnController.getGridColumn(e);o(this.groupData)&&(this.groupData={});var r=n.getColId(),i=this.groupData[r];i!==t&&(this.groupData[r]=t,this.dispatchCellChangedEvent(n,t,i))},e.prototype.setAggData=function(e){var t=this,n=k([this.aggData,e]),r=this.aggData;this.aggData=e,this.eventService&&n.forEach((function(e){var n=t.columnController.getGridColumn(e),o=t.aggData?t.aggData[e]:void 0,i=r?r[e]:void 0;t.dispatchCellChangedEvent(n,o,i)}))},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&i(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,n,r){var o={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:n,oldValue:r};this.dispatchLocalEvent(o)},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,r=!1;if(this.childrenAfterGroup)for(var o=0;o<this.childrenAfterGroup.length;o++){var i=this.childrenAfterGroup[o];if(i.selectable)switch(i.isSelected()){case!0:t=!0;break;case!1:n=!0;break;default:r=!0}}e=r?void 0:!(!t||n)||!(!t&&n)&&void 0,this.selectThisNode(e)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:n,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===ye.PINNED_TOP||this.rowPinned===ye.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===e.newValue,r=!0===e.clearSelection,o=!0===e.suppressFinishActions,i=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(i&&this.selectionController.getLastSelectedNode()){var a=this.selectionController.getLastSelectedNode()!==this,u=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&u){var l=this.doRowRangeSelection(e.newValue);return this.selectionController.setLastSelectedNode(this),l}}var c=0;s&&this.group||this.selectThisNode(n)&&c++;if(t&&this.group&&(c+=this.selectChildNodes(n,s)),!o){if(n&&(r||!this.gridOptionsWrapper.isRowSelectionMulti())&&(c+=this.selectionController.clearOtherNodes(this)),c>0){this.selectionController.updateGroupsFromChildrenSelections();var p={type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.mainEventService.dispatchEvent(p)}n&&this.selectionController.setLastSelectedNode(this)}return c},e.prototype.doRowRangeSelection=function(e){var t=this;void 0===e&&(e=!0);var n=this.gridOptionsWrapper.isGroupSelectsChildren(),r=this.selectionController.getLastSelectedNode(),o=this.rowModel.getNodesInRangeForSelection(this,r),i=0;o.forEach((function(r){r.group&&n||!1===e&&t===r||r.selectThisNode(e)&&i++})),this.selectionController.updateGroupsFromChildrenSelections();var s={type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};return this.mainEventService.dispatchEvent(s),i},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){var n=!this.selectable&&t,r=this.selected===t;if(n||r)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(Ue.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(o),!0},e.prototype.selectChildNodes=function(e,t){var n=t?this.childrenAfterFilter:this.childrenAfterGroup;if(o(n))return 0;for(var r=0,i=0;i<n.length;i++)r+=n[i].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return r},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new ve),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,o=!1,i=null;n&&!o;){var s=t.parent;r(s)&&t.firstChild?s.rowGroupColumn===e&&(o=!0,i=s):n=!1,t=s}return o?i:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.prototype.getRoute=function(){if(null!=this.key){for(var e=[],t=this;null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_DISPLAYED_CHANGED="displayedChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",Do([ue("eventService")],e.prototype,"mainEventService",void 0),Do([ue("rowRenderer")],e.prototype,"rowRenderer",void 0),Do([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Do([ue("selectionController")],e.prototype,"selectionController",void 0),Do([ue("columnController")],e.prototype,"columnController",void 0),Do([ue("valueService")],e.prototype,"valueService",void 0),Do([ue("rowModel")],e.prototype,"rowModel",void 0),Do([ue("context")],e.prototype,"context",void 0),Do([ue("valueCache")],e.prototype,"valueCache",void 0),Do([ue("columnApi")],e.prototype,"columnApi",void 0),Do([ue("gridApi")],e.prototype,"gridApi",void 0),e}(),No=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xo=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return No(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),r=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(r+" ("+n+")")},t.prototype.onCheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(e){return Ae(e)})),this.addGuiEventListener("dblclick",(function(e){return Ae(e)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(e){var n=t.eCheckbox.getValue();void 0===t.eCheckbox.getPreviousValue()?0===t.onUncheckedClicked(e||{})&&t.onCheckedClicked(e):n?t.onCheckedClicked(e):t.onUncheckedClicked(e||{})})),this.addManagedListener(this.rowNode,Io.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&"function"===typeof e.checkboxSelection},Lo([Yr("eCheckbox")],t.prototype,"eCheckbox",void 0),Lo([ie],t.prototype,"postConstruct",null),t}(zr),Fo={propertyName:"dateComponent",isCellRenderer:function(){return!1}},Mo={propertyName:"headerComponent",isCellRenderer:function(){return!1}},ko={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Go={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},Vo={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},jo={propertyName:"cellEditor",isCellRenderer:function(){return!1}},Ho={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Wo={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},Bo={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},Uo={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},zo={propertyName:"filter",isCellRenderer:function(){return!1}},qo={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Ko={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Yo={propertyName:"statusPanel",isCellRenderer:function(){return!1}},Qo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$o=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED"}(vo||(vo={}));var Xo,Jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qo(t,e),t.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Fo,"agDateInput")},t.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,Mo,"agColumnHeader")},t.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,ko,"agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,e,Ho,null,!0)},t.prototype.newFullWidthCellRenderer=function(e,t,n){return this.createAndInitUserComponent(null,e,{propertyName:t,isCellRenderer:function(){return!0}},n)},t.prototype.newCellRenderer=function(e,t,n){return void 0===n&&(n=!1),this.createAndInitUserComponent(e,t,n?Vo:Go,null,!0)},t.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,jo,"agCellEditor")},t.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,Ho,null)},t.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Wo,"agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,Bo,"agNoRowsOverlay")},t.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,Uo,"agTooltipComponent")},t.prototype.newFilterComponent=function(e,t,n){return this.createAndInitUserComponent(e,t,zo,n,!1)},t.prototype.newSetFilterCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,Go,null,!0)},t.prototype.newFloatingFilterComponent=function(e,t,n){return this.createAndInitUserComponent(e,t,qo,n,!0)},t.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Ko)},t.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,Yo)},t.prototype.createAndInitUserComponent=function(e,t,n,r,o){void 0===o&&(o=!1),e||(e=this.gridOptions);var i=this.createComponentInstance(e,n,t,r,o);if(!i)return null;var s=i.componentInstance,a=this.createFinalParams(e,n.propertyName,t,i.paramsFromSelector);this.addReactHacks(a);var u=this.initComponent(s,a);return null==u?Mr.resolve(s):u.then((function(){return s}))},t.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=N(t));var n=this.context.getBean("frameworkComponentWrapper");n&&(e.frameworkComponentWrapper=n)},t.prototype.createUserComponentFromConcreteClass=function(e,t){var n=new e;return this.initComponent(n,t),n},t.prototype.lookupComponentClassDef=function(e,t,n,r){void 0===n&&(n=null);var o=null,i=null,s=null,a=null,u=null;if(null!=e){var l=e[t];null==l||!0===l||("string"===typeof l?o=l:"boolean"===typeof l||(this.agComponentUtils.doesImplementIComponent(l)?i=l:s=l)),a=e[t+"Framework"],u=e[t+"Selector"]}if(i&&a||o&&a||s&&a)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(a&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(u&&(o||i||s||a))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(a)return{componentFromFramework:!0,component:a,source:vo.HARDCODED,paramsFromSelector:null};if(i)return{componentFromFramework:!1,component:i,source:vo.HARDCODED,paramsFromSelector:null};if(s)return this.agComponentUtils.adaptFunction(t,s,!1,vo.HARDCODED);var c,p=u?u(n):null;if(!(c=p&&p.component?p.component:o||r))return null;var h=this.lookupFromRegisteredComponents(t,c);return h?{componentFromFramework:h.componentFromFramework,component:h.component,source:h.source,paramsFromSelector:p?p.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(e,t){var n=null!=t?t:e,r=this.userComponentRegistry.retrieve(n);return null==r?null:r.componentFromFramework?{component:r.component,componentFromFramework:!0,source:vo.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(r.component)?{component:r.component,componentFromFramework:!1,source:r.source==Xo.REGISTERED?vo.REGISTERED_BY_NAME:vo.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,r.component,r.componentFromFramework,r.source==Xo.REGISTERED?vo.REGISTERED_BY_NAME:vo.DEFAULT)},t.prototype.createFinalParams=function(e,t,n,r){void 0===r&&(r=null);var o={};G(o,n);var i=e?e[t+"Params"]:null;null!=i&&("function"===typeof i?G(o,i(n)):"object"===typeof i&&G(o,i));return G(o,r),o},t.prototype.createComponentInstance=function(e,t,n,r,o){var i,s=t.propertyName,a=this.lookupComponentClassDef(e,s,n,r);if(!a||!a.component){var u=e?e[s]:r,l=u||r;return o||console.error("Could not find component "+l+", did you forget to configure this component?"),null}if(a.componentFromFramework){var c=a.component,p=this.componentMetadataProvider.retrieve(s);i=this.frameworkComponentWrapper.wrap(c,p.mandatoryMethodList,p.optionalMethodList,t,r)}else i=new a.component;return{componentInstance:i,paramsFromSelector:a.paramsFromSelector}},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},$o([ue("gridOptions")],t.prototype,"gridOptions",void 0),$o([ue("agComponentUtils")],t.prototype,"agComponentUtils",void 0),$o([ue("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),$o([ue("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),$o([le("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=$o([ae("userComponentFactory")],t)}(Ve),Zo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ei=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ti=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Zo(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch(),n=null==e.value,r=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var o=e.node;if(o.footer)r=(e.colDef&&e.colDef.showRowGroup)!==(o.rowGroupColumn&&o.rowGroupColumn.getColId())}this.cellIsBlank=t||n||r,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===ye.PINNED_LEFT,t=this.params.pinned===ye.PINNED_RIGHT,n=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!n:this.columnController.isPinningLeft()?!e:!n},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node,n=!!!e.colDef||!0===e.colDef.showRowGroup?t.uiLevel:0;e.padding>=0?this.setPaddingDeprecatedWay(n,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+n,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){Y((function(){return console.warn("AG Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var n=e*t,r=this.getGui(),o=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";r.style[o]=n+"px"},t.prototype.setupIndent=function(){var e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Io.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){this.displayedGroup.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addFooterValue=function(){var e,t=this.params.footerValueGetter;if(t){var n=N(this.params);n.value=this.params.value,"function"===typeof t?e=t(n):"string"===typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.addGroupValue=function(){var e,t=this,n=this.params,r=this.displayedGroup.rowGroupColumn,o=r||n.column,i=this.params.value,s=o?this.valueFormatterService.formatValue(o,n.node,n.scope,i):null;n.valueFormatted=s,(e=n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,o.getColDef(),n))&&e.then((function(e){t.innerCellRenderer=e}))},t.prototype.useInnerRenderer=function(e,t,n){var r=this,o=null,i=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(i&&null!=i.component&&i.source!=vo.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(e,n);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");o=s&&s.source!=vo.DEFAULT?this.userComponentFactory.newCellRenderer(t,n):s&&s.source==vo.DEFAULT&&j(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=o?o.then((function(e){null!=e?xn(o,r.eValue):r.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value})):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,o},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?xn(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,Io.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount,t=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"("+e+")":"";this.eChildCount.innerHTML=t},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"===typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroup,n=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(n){var r=new xo;this.getContext().createBean(r),r.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc((function(){return e.getContext().destroyBean(r)}))}qt(this.eCheckbox,"ag-invisible",!n)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,n=mr("groupExpanded",this.gridOptionsWrapper,null),r=mr("groupContracted",this.gridOptionsWrapper,null);qn(t,!!e.node.expanded),n&&this.eExpanded.appendChild(n),r&&this.eContracted.appendChild(r),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Io.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,Io.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroup,Io.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroup,Io.EVENT_HAS_CHILDREN_CHANGED,o),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){Cr(e,eo.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var n=t.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!e.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var r=t.parent;!o(r);){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroup=r;break}r=r.parent}o(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){Pe(e)||(Ae(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){Pe(e)||(Le(this.eExpanded,e)||Le(this.eContracted,e)||this.onExpandOrContract())},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup,t=this.params,n=!e.expanded;e.setExpanded(n),qn(t.eGridCell,n)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroup.rowGroupColumn;if(!e)return!1;var t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())},t.prototype.isExpandable=function(){if(this.draggedFromHideOpenParents)return!0;var e=this.displayedGroup,t=this.columnController.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;var n=this.params.column;return null==n||"string"!==typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.eContracted,n=e.eExpanded,r=e.params,o=e.displayedGroup,i=e.columnController,s=r.eGridCell,a=r.node,u=this.isExpandable();if(u){var l=!!this.draggedFromHideOpenParents||a.expanded;Qt(t,!l),Qt(n,l)}else Kn(s),Qt(n,!1),Qt(t,!1);var c=i.isPivotMode(),p=c&&o.leafGroup,h=u&&!p,d=a.footer&&-1===a.level;this.addOrRemoveCssClass("ag-cell-expandable",h),this.addOrRemoveCssClass("ag-row-group",h),c?this.addOrRemoveCssClass("ag-pivot-leaf-group",p):d||this.addOrRemoveCssClass("ag-row-group-leaf-indent",!h)},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',ei([ue("expressionService")],t.prototype,"expressionService",void 0),ei([ue("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ei([ue("columnController")],t.prototype,"columnController",void 0),ei([ue("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ei([Yr("eExpanded")],t.prototype,"eExpanded",void 0),ei([Yr("eContracted")],t.prototype,"eContracted",void 0),ei([Yr("eCheckbox")],t.prototype,"eCheckbox",void 0),ei([Yr("eValue")],t.prototype,"eValue",void 0),ei([Yr("eChildCount")],t.prototype,"eChildCount",void 0),t}(zr),ni=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ri=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},oi=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n}return ni(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var n=Math.abs(t),o=e.formatValue(n),i=r(o)?o:n,s=t>=0;this.eDelta.innerHTML=s?"\u2191"+i:"\u2193"+i,qt(this.eDelta,"ag-value-change-delta-up",s),qt(this.eDelta,"ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){zt(this.eValue,"ag-value-change-value-highlight"),un(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t===this.lastValue)return!1;if(r(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:r(e.value)?this.eValue.innerHTML=t:un(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof t&&"number"===typeof this.lastValue){var n=t-this.lastValue;this.showDelta(e,n)}return this.lastValue&&Ut(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',ri([ue("filterManager")],t.prototype,"filterManager",void 0),t}(zr),ii=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),si=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ai=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return ii(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=pn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&Ut(e.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;return o(t)&&(t=""),t!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=t,r(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:r(e.value)?this.eCurrent.innerHTML=t:un(this.eCurrent),!0))},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',si([ue("filterManager")],t.prototype,"filterManager",void 0),t}(zr),ui=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),li=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ci=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ui(t,e),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=mr("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',li([Yr("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),li([Yr("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(zr),pi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},di=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return pi(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,o(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=e.keyPress===eo.ENTER;var n=!1;e.values.forEach((function(r){var o={value:r},i=t.valueFormatterService.formatValue(e.column,null,null,r),s=null!==i&&void 0!==i;o.text=s?i:r,t.eSelect.addOption(o),n=n||e.value===r})),n?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return e.stopEditing()}))}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},hi([ue("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hi([Yr("eSelect")],t.prototype,"eSelect",void 0),t}(Kr),fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fi(t,e),t.prototype.isPopup=function(){return!0},t}(ro),vi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vi(t,e),t.prototype.isPopup=function(){return!0},t}(di),mi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ci=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return mi(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),r(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t===eo.LEFT||t===eo.UP||t===eo.RIGHT||t===eo.DOWN||e.shiftKey&&t===eo.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',wi([Yr("eTextArea")],t.prototype,"eTextArea",void 0),t}(Kr),bi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ei=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Si=function(e){function t(){return e.call(this,"numberFilter")||this}return bi(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){[n.eValueFrom1,n.eValueFrom2,n.eValueTo1,n.eValueTo2].forEach((function(e){return e.setValue(null,t)})),n.resetPlaceholder()}))},t.prototype.setConditionIntoUi=function(e,t){var n=t===Zr.One,r=n?this.eValueFrom1:this.eValueFrom2,o=n?this.eValueTo1:this.eValueTo2;r.setValue(e?""+e.filter:null),o.setValue(e?""+e.filterTo:null)},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.setValue(e),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var n=this.getAllowedCharPattern();if(n){var r={allowedCharPattern:n};this.resetTemplate({eValueFrom1:r,eValueTo1:r,eValueFrom2:r,eValueTo2:r})}e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValueFrom1.onValueChange(t),this.eValueTo1.onValueChange(t),this.eValueFrom2.onValueChange(t),this.eValueTo2.onValueChange(t)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.showValueTo(this.getCondition1Type()),n=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(t?e("ariaFilterFromValue","Filter from value"):e("ariaFilterValue","Filter Value")),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel(e("ariaFilterToValue","Filter to Value")),this.eValueFrom2.setInputPlaceholder(this.translate(n?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(n?e("ariaFilterFromValue","Filter from value"):e("ariaFilterValue","Filter Value")),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel(e("ariaFilterToValue","Filter to Value"))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValueFrom1.getInputElement().focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Zr.One?"1":"2",n=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+n+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+t+'"></'+n+">\n                <"+n+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+t+'"></'+n+">\n            </div>"},t.prototype.isConditionUiComplete=function(e){var t=e===Zr.One,n=t?this.getCondition1Type():this.getCondition2Type();if(n===yo.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(n))return!0;var r=t?this.eValueFrom1:this.eValueFrom2,o=t?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat(r.getValue())&&(!this.showValueTo(n)||null!=this.stringToFloat(o.getValue()))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"===typeof e)return e;var t=n(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=e===Zr.One,n=t?this.getCondition1Type():this.getCondition2Type(),r=t?this.eValueFrom1:this.eValueFrom2,o=this.stringToFloat(r.getValue()),i={filterType:this.getFilterType(),type:n};if(!this.doesFilterHaveHiddenInput(n)&&(i.filter=o,this.showValueTo(n))){var s=t?this.eValueTo1:this.eValueTo2,a=this.stringToFloat(s.getValue());i.filterTo=a}return i},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type(),n=this.getCondition2Type();Qt(this.eValueFrom1.getGui(),this.showValueFrom(t)),Qt(this.eValueTo1.getGui(),this.showValueTo(t)),Qt(this.eValueFrom2.getGui(),this.showValueFrom(n)),Qt(this.eValueTo2.getGui(),this.showValueTo(n))},t.prototype.getAllowedCharPattern=function(){var e=(this.numberFilterParams||{}).allowedCharPattern;return e||(xt()||Nt()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[wo.EQUALS,wo.NOT_EQUAL,wo.LESS_THAN,wo.LESS_THAN_OR_EQUAL,wo.GREATER_THAN,wo.GREATER_THAN_OR_EQUAL,wo.IN_RANGE],Ei([Yr("eValueFrom1")],t.prototype,"eValueFrom1",void 0),Ei([Yr("eValueTo1")],t.prototype,"eValueTo1",void 0),Ei([Yr("eValueFrom2")],t.prototype,"eValueFrom2",void 0),Ei([Yr("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(wo),Oi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_i=function(e){function t(){return e.call(this)||this}return Oi(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(zr),Ri=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ti=function(e){function t(){return e.call(this)||this}return Ri(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(zr),Ai=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return Ai(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(Kr),Di=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ni=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Di(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(It()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11; reverting to text date picker"):t.type="date"),this.addManagedListener(t,"mousedown",(function(){return t.focus()})),this.addManagedListener(this.eDateInput.getInputElement(),"input",(function(t){t.target===document.activeElement&&e.onDateChanged()}))},t.prototype.getDate=function(){return ur(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(ar(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.afterGuiAttached=function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:xt()||Ft()},Ii([Yr("eDateInput")],t.prototype,"eDateInput",void 0),t}(zr),Li=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Li(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,n=this.conditionToString(t.condition1),r=this.conditionToString(t.condition2);return n+" "+t.operator+" "+r}var o=e,i=this.optionsFactory.getCustomOption(o.type);return i?(this.gridOptionsWrapper.getLocaleTextFunc()(i.displayKey,i.displayName),i.displayName):this.conditionToString(o)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){if(e){var t;if(e.operator)t=e.condition1;else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;var t=e;return this.isTypeEditable(t.type)},t.prototype.init=function(e){this.optionsFactory=new io,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!!e&&!this.doesFilterHaveHiddenInput(e)&&e!==yo.IN_RANGE&&e!==yo.EMPTY},t}(zr),Fi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ki=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Fi(t,e),t.prototype.getDefaultFilterOptions=function(){return Eo.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){var t=e.type,n=ur(e.dateFrom);if(t===yo.IN_RANGE){var r=ur(e.dateTo);return ar(n,!1)+"-"+ar(r,!1)}return null==n?""+t:""+ar(n,!1)},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent();var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){Qt(this.eDateWrapper,e),Qt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,n){if(!this.isEventFromFloatingFilter(n)){e.prototype.setLastTypeFromModel.call(this,t);var r=this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(r),r){if(t){var o=t;this.dateComp.setDate(ur(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,t=ar(this.dateComp.getDate());this.params.parentFilterInstance((function(n){n&&n.onFloatingFilterChanged(e.getLastType(),t)}))},t.prototype.createDateComponent=function(){var e=this,t=ho.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:ee(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new oo(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){return e.dateComp.destroy()}))},Mi([ue("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Mi([Yr("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),Mi([Yr("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(xi),Gi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ji=function(e){function t(){return e.call(this,"textFilter")||this}return Gi(t,e),t.trimInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getCleanValue=function(e){var r=n(e.getValue());return this.textFilterParams.trimInput?t.trimInput(r):r},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValue1.onValueChange(t),this.eValue2.onValueChange(t)},t.prototype.setParams=function(n){e.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator||t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===Zr.One?this.eValue1:this.eValue2).setValue(e?e.filter:null)},t.prototype.createCondition=function(e){var t=e===Zr.One,n=t?this.getCondition1Type():this.getCondition2Type(),r=t?this.eValue1:this.eValue2,o=this.getCleanValue(r);r.setValue(o,!0);var i={filterType:this.getFilterType(),type:n};return this.doesFilterHaveHiddenInput(n)||(i.filter=o),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(t){var n=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){n.forEachInput((function(e){return e.setValue(null,t)})),n.resetPlaceholder()}))},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.translate("filterOoo");this.forEachInput((function(n){n.setInputPlaceholder(t),n.setInputAriaLabel(e("ariaFilterValue","Filter Value"))}))},t.prototype.forEachInput=function(e){T([this.eValue1,this.eValue2],e)},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.setValue(e),this.eValue2.setValue(null)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===Zr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),Qt(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),Qt(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),t&&t.suppressFocus||this.eValue1.getInputElement().focus()},t.prototype.isConditionUiComplete=function(e){var t=e===Zr.One,n=t?this.getCondition1Type():this.getCondition2Type();return n!==yo.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||null!=this.getCleanValue(t?this.eValue1:this.eValue2))},t.prototype.individualConditionPasses=function(e,t){var n=t.filter,r=t.type,o=this.textFilterParams.valueGetter(e.node),i=this.formatter(o),s=this.optionsFactory.getCustomOption(r);if(s&&(null!=n||s.hideFilterInput))return s.test(n,i);if(null==o)return r===yo.NOT_EQUAL||r===yo.NOT_CONTAINS;var a=this.formatter(n);return this.comparator(r,i,a)},t.DEFAULT_FILTER_OPTIONS=[yo.CONTAINS,yo.NOT_CONTAINS,yo.EQUALS,yo.NOT_EQUAL,yo.STARTS_WITH,yo.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,n,r){switch(e){case t.CONTAINS:return n.indexOf(r)>=0;case t.NOT_CONTAINS:return n.indexOf(r)<0;case t.EQUALS:return n===r;case t.NOT_EQUAL:return n!=r;case t.STARTS_WITH:return 0===n.indexOf(r);case t.ENDS_WITH:var o=n.lastIndexOf(r);return o>=0&&o===n.length-r.length;default:return console.warn("invalid filter type "+e),!1}},Vi([Yr("eValue1")],t.prototype,"eValue1",void 0),Vi([Yr("eValue2")],t.prototype,"eValue2",void 0),t}(yo),Hi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hi(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=ho.isUseApplyButton(this.params.filterParams);var n=ho.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=ee(this.syncUpWithParentFilter.bind(this),n),o=this.eFloatingFilterInput.getGui();this.addManagedListener(o,"input",r),this.addManagedListener(o,"keypress",r),this.addManagedListener(o,"keydown",r);var i=t.column.getDefinition();i.filterParams&&i.filterParams.filterOptions&&1===i.filterParams.filterOptions.length&&"inRange"===i.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(t.column,"header",!0),a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(s+" "+a("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var t=this,n=Cr(e,eo.ENTER);if(!this.applyActive||n){var r=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(r=ji.trimInput(r),this.eFloatingFilterInput.setValue(r,!0)),this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType(),r)}))}},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},Wi([ue("columnController")],t.prototype,"columnController",void 0),Wi([Yr("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),Wi([ie],t.prototype,"postConstruct",null),t}(xi),Ui=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ui(t,e),t.prototype.getDefaultFilterOptions=function(){return Si.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==yo.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Bi),qi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qi(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return ji.DEFAULT_FILTER_OPTIONS},t}(Bi),Yi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(Xo||(Xo={}));var $i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:Ni,agColumnHeader:Ro,agColumnGroupHeader:Po,agTextColumnFloatingFilter:Ki,agNumberColumnFloatingFilter:zi,agDateColumnFloatingFilter:ki,agAnimateShowChangeCellRenderer:oi,agAnimateSlideCellRenderer:ai,agGroupCellRenderer:ti,agGroupRowRenderer:ti,agLoadingCellRenderer:ci,agCellEditor:ro,agTextCellEditor:ro,agSelectCellEditor:di,agPopupTextCellEditor:gi,agPopupSelectCellEditor:yi,agLargeTextCellEditor:Ci,agTextColumnFilter:ji,agNumberColumnFilter:Si,agDateColumnFilter:Eo,agLoadingOverlay:_i,agNoRowsOverlay:Ti,agTooltipComponent:Pi},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComponents={},t.frameworkComponents={},t}return Yi(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&I(this.gridOptions.components,(function(t,n){return e.registerComponent(t,n)})),null!=this.gridOptions.frameworkComponents&&I(this.gridOptions.frameworkComponents,(function(t,n){return e.registerFwComponent(t,n)}))},t.prototype.registerDefaultComponent=function(e,t){var n=this.translateIfDeprecated(e);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=t},t.prototype.registerComponent=function(e,t){var n=this.translateIfDeprecated(e);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=t},t.prototype.registerFwComponent=function(e,t){var n=this.translateIfDeprecated(e);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e),n=this.frameworkComponents[t];if(n)return{componentFromFramework:!0,component:n,source:Xo.REGISTERED};var r=this.jsComponents[t];if(r)return{componentFromFramework:!1,component:r,source:Xo.REGISTERED};var o=this.agGridDefaults[t];return o?{componentFromFramework:!1,component:o,source:Xo.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("AG Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(Y((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)}),"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},Qi([ue("gridOptions")],t.prototype,"gridOptions",void 0),Qi([ie],t.prototype,"init",null),t=Qi([ae("userComponentRegistry")],t)}(Ve),Xi=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof t)return e.parse([t]);if(Array.isArray(t)){var n=[];return t.forEach((function(t){var r=e.DEFAULT_BY_KEY[t];r?n.push(r):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))})),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var n=[];return t?(t.forEach((function(t){var r=null;if("string"===typeof t){var o=e.DEFAULT_BY_KEY[t];if(!o)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));r=o}else r=t;n.push(r)})),n):n},e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP,filters:e.DEFAULT_FILTER_COMP},e}(),Ji=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Zi=function(e,t){return function(n,r){t(n,r,e)}},es=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};function ts(e){return!0===e||"true"===e}function ns(e,t){var n=parseInt(e,10);return st(n)&&n>0?n:t}var rs,os,is=function(){function e(){this.propertyEventService=new ve,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var n;return n=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Xi.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(e){return"AG Grid: '"+e+"' is not supported on the Server-Side Row Model"};r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&me.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var s=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};s("radioButtonOff"),s("radioButtonOn"),s("checkboxChecked"),s("checkboxUnchecked"),s("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){var n=Object.getOwnPropertyNames(t),r=es(bt.ALL_PROPERTIES,bt.FRAMEWORK_PROPERTIES);e.checkProperties(n,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=es(yt.ALL_PROPERTIES,yt.FRAMEWORK_PROPERTIES,p(Ue).map((function(e){return wt.getCallbackForEvent(e)}))),n=es(t,["api","columnApi"]);this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,n,r,o){var i=cr(e,t,n);I(i,(function(e,t){console.warn("ag-grid: invalid "+r+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))})),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+r+" properties please check: "+o)},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var n=e[this.getDomDataKey()];return n?n[t]:void 0},e.prototype.setDomData=function(e,t,n){var r=this.getDomDataKey(),i=e[r];o(i)&&(i={},e[r]=i),i[t]=n},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isSuppressRowDeselection=function(){return ts(this.gridOptions.suppressRowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return ts(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return ts(this.gridOptions.pivotMode)},e.prototype.isSuppressExpandablePivotGroups=function(){return ts(this.gridOptions.suppressExpandablePivotGroups)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return o(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ye.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return ts(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return ts(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return ts(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return ts(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return ts(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return ts(this.gridOptions.suppressTouch)},e.prototype.isApplyColumnDefOrder=function(){return ts(this.gridOptions.applyColumnDefOrder)},e.prototype.isSuppressRowTransform=function(){return ts(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressColumnStateEvents=function(){return ts(this.gridOptions.suppressColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return ts(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!ts(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return ts(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){var e=ts(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return ts(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return ts(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return ts(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return ts(this.gridOptions.groupMultiAutoColumn)||ts(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return ts(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return ts(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return ts(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return ts(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return ts(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return ts(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return ts(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return ts(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return ts(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isPivotSuppressAutoColumn=function(){return ts(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return ts(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return ts(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return ts(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return ts(this.gridOptions.suppressRowDrag)},e.prototype.isSuppressMoveWhenRowDragging=function(){return ts(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isEnableMultiRowDragging=function(){return ts(this.gridOptions.enableMultiRowDragging)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ye.DOM_LAYOUT_NORMAL;return-1===[ye.DOM_LAYOUT_PRINT,ye.DOM_LAYOUT_AUTO_HEIGHT,ye.DOM_LAYOUT_NORMAL].indexOf(e)?(Y((function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+ye.DOM_LAYOUT_NORMAL+", "+ye.DOM_LAYOUT_AUTO_HEIGHT+" and "+ye.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),ye.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return ts(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return ts(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ts(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowHorizontalScroll=function(){return ts(this.gridOptions.alwaysShowHorizontalScroll)},e.prototype.isAlwaysShowVerticalScroll=function(){return ts(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isDebounceVerticalScrollbar=function(){return ts(this.gridOptions.debounceVerticalScrollbar)},e.prototype.isSuppressLoadingOverlay=function(){return ts(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return ts(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return ts(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return ts(this.gridOptions.functionsPassive)},e.prototype.isSuppressChangeDetection=function(){return ts(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return ts(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return ts(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return ts(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return ts(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return ts(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return ts(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return ts(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},e.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return ts(this.gridOptions.embedFullWidthRows)||ts(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.isDetailRowAutoHeight=function(){return ts(this.gridOptions.detailRowAutoHeight)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isImmutableData=function(){return ts(this.gridOptions.immutableData)},e.prototype.isEnsureDomOrder=function(){return ts(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!ts(this.gridOptions.enableCharts)&&me.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return ts(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return ts(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return ts(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return"number"==typeof(e=this.gridOptions.paginationPageSize)?e:"string"==typeof e?parseInt(e,10):void 0;var e},e.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ts(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return ns(this.gridOptions.cacheBlockSize)},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return ts(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return ts(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&ts(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return ts(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return ts(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return ts(this.gridOptions.angularCompileFilters)},e.prototype.isDebug=function(){return ts(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return ts(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return ts(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return ts(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return ts(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return ts(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return ts(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ts(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return ts(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return ts(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return ts(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return ts(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return ts(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return ts(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return ts(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return ts(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ts(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getAsyncTransactionWaitMillis=function(){return r(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ye.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return ts(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ts(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return ts(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return ts(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return ts(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isSuppressAggFilteredOnly=function(){return ts(this.gridOptions.suppressAggFilteredOnly)},e.prototype.isShowOpenedGroup=function(){return ts(this.gridOptions.showOpenedGroup)},e.prototype.isEnableRangeSelection=function(){return me.isRegistered(t.ModuleNames.RangeSelectionModule)&&ts(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return ts(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return ts(this.gridOptions.enableFillHandle)},e.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(Y((function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):e:"xy"},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return ts(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return ts(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return ts(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!ts(this.gridOptions.masterDetail)&&me.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return ts(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return r(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return ts(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return ts(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return ts(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isSuppressClipboardApi=function(){return ts(this.gridOptions.suppressClipboardApi)},e.prototype.isFunctionsReadOnly=function(){return ts(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return ts(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return ts(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return ts(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return ts(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return ts(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ts(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},e.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!ts(this.gridOptions.treeData)&&me.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return ts(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return ts(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return ts(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return ts(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return ns(this.gridOptions.viewportRowModelPageSize,5)},e.prototype.getViewportRowModelBufferSize=function(){return e=this.gridOptions.viewportRowModelBufferSize,t=5,e>=0?e:t;var e,t},e.prototype.isServerSideSortingAlwaysResets=function(){return ts(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.isServerSideFilteringAlwaysResets=function(){return ts(this.gridOptions.serverSideFilteringAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},e.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},e.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return r(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t,n){void 0===n&&(n=!1);var r=this.gridOptions,o=r[e];if(n||o!==t){r[e]=t;var i={type:e,currentValue:t,previousValue:o};this.propertyEventService.dispatchEvent(i)}},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===ye.DOM_LAYOUT_AUTO_HEIGHT,n=e===ye.DOM_LAYOUT_PRINT,r=e===ye.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(e){qt(e,"ag-layout-auto-height",t),qt(e,"ag-layout-normal",r),qt(e,"ag-layout-print",n)}))},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},e.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipShowDelay=function(){var e=this.gridOptions.tooltipShowDelay;return r(e)?(e<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,e)):null},e.prototype.isTooltipMouseTrack=function(){return ts(this.gridOptions.tooltipMouseTrack)},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ts(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&r(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&r(e)?e:document},e.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(r(e)&&e>n.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var t=this.getFromTheme(null,"headerCellMinWidth");return r(t)?Math.max(t,n.MIN_COL_WIDTH):n.MIN_COL_WIDTH},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>n.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<n.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"===typeof e?e<0&&(Y((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ye.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Vt();null!=e&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:Ue.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.enableOldSetFilterModel&&console.warn("AG Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),e.floatingFilter&&(console.warn("AG Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),e.defaultColDef||(e.defaultColDef={}),null==e.defaultColDef.floatingFilter&&(e.defaultColDef.floatingFilter=!0)),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var t=function(t,n,r){null!=e[t]&&(console.warn("ag-grid: since version "+r+", '"+t+"' is deprecated / renamed, please use the new property name '"+n+"' instead."),null==e[n]&&(e[n]=e[t]))};if(t("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),t("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),t("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var n=e.groupRowRendererParams;e.groupRowInnerRenderer&&(n.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(n.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(n.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&(console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.detailRowAutoHeight=!0)},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&o(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(o(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),o(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(t,n){return e&&e[t]?e[t]:n}},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var n=wt.getCallbackForEvent(e);"function"===typeof this.gridOptions[n]&&this.gridOptions[n](t)}},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||o(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"===typeof this.gridOptions.getRowHeight){if(t)return{height:this.getDefaultRowHeight(),estimated:!0};var n={node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context},o=this.gridOptions.getRowHeight(n);if(this.isNumeric(o))return 0===o&&Y((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,o),estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var i=this.getDefaultRowHeight(),s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,a=r(s)?Math.min(i,s):i;if(this.columnController.isAutoRowHeightActive()){if(t)return{height:s,estimated:!0};var u=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(u,a),estimated:!1}}return{height:s,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)},e.prototype.getFromTheme=function(e,t){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",e.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",Ji([ue("gridOptions")],e.prototype,"gridOptions",void 0),Ji([ue("columnController")],e.prototype,"columnController",void 0),Ji([ue("eventService")],e.prototype,"eventService",void 0),Ji([ue("environment")],e.prototype,"environment",void 0),Ji([ue("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),Ji([Zi(0,pe("gridApi")),Zi(1,pe("columnApi"))],e.prototype,"agWire",null),Ji([se],e.prototype,"destroy",null),Ji([ie],e.prototype,"init",null),e=n=Ji([ae("gridOptionsWrapper")],e)}(),ss=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var o=e.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,n):n&&t(o)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n},e.prototype.populateColumnsMap=function(e,t){var n=this;if(this.keepingColumns&&t)for(var r=e;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach((function(e){return n.nodeIdsToColumns[r.id][e.getId()]=!0})),r=r.parent},e.prototype.linkPathItems=function(e,t){for(var n=e,r=0;r<t;r++){var o=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(o),n=n.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return n[e.getId()]}))},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id];return t.filter((function(e){return!n[e.getId()]}))},e}(),as=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),us=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ls=function(e,t){return function(n,r){t(n,r,e)}},cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return as(t,e),t.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Ue.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return I(this.selectedNodes,(function(t,n){n&&e.push(n)})),e},t.prototype.getSelectedRows=function(){var e=[];return I(this.selectedNodes,(function(t,n){n&&n.data&&e.push(n.data)})),e},t.prototype.removeGroupsFromSelection=function(){var e=this;I(this.selectedNodes,(function(t,n){n&&n.group&&(e.selectedNodes[n.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new ss(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst((function(e){e!==t&&e.calculateSelectedFromChildren()}))}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,n={},r=0;return I(this.selectedNodes,(function(o,i){if(i&&i.id!==e.id){var s=t.selectedNodes[i.id];r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&i.parent&&(n[i.parent.id]=i.parent)}})),I(n,(function(e,t){t.calculateSelectedFromChildren()})),r},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:this.selectedNodes[t.id]=void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){r(t)&&e.id!==t.id&&t&&(r(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t))},t.prototype.syncInNewRowNode=function(e){r(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];i.isSelected()?t.push(i):i.group&&i.children&&e(i.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return I(this.selectedNodes,(function(t,n){n&&e++})),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},n=this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!n)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else I(this.selectedNodes,(function(e,n){n&&t(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ye.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,n=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(n):t.forEachNode(n),this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var n=this.rowModel.getRow(e);this.selectNode(n,t)},us([ue("rowModel")],t.prototype,"rowModel",void 0),us([ue("columnApi")],t.prototype,"columnApi",void 0),us([ue("gridApi")],t.prototype,"gridApi",void 0),us([ls(0,pe("loggerFactory"))],t.prototype,"setBeans",null),us([ie],t.prototype,"init",null),t=us([ae("selectionController")],t)}(Ve),ps=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},hs=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){"undefined"===typeof e&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.applyColumnState=function(e){return this.columnController.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState("api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getViewportColumns()},e.prototype.moveColumn=function(e,t){"number"===typeof e?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,n){void 0===n&&(n=!0),this.columnController.setColumnWidths([{key:e,newWidth:t}],!1,n)},e.prototype.setColumnWidths=function(e,t){void 0===t&&(t=!0),this.columnController.setColumnWidths(e,!1,t)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeLeft()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeCentre()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getDisplayedTreeRight()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedTrees()},e.prototype.autoSizeColumn=function(e,t){return this.columnController.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){return this.columnController.autoSizeColumns(e,t,"api")},e.prototype.autoSizeAllColumns=function(e){this.columnController.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Lr.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.columnGroupOpened=function(e,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},e.prototype.setColumnState=function(e){return this.columnController.applyColumnState({state:e,applyOrder:!0},"api")},ps([ue("columnController")],e.prototype,"columnController",void 0),ps([se],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=ps([ae("columnApi")],e)}();(rs=t.SelectionHandleType||(t.SelectionHandleType={}))[rs.FILL=0]="FILL",rs[rs.RANGE=1]="RANGE",(os=t.CellRangeType||(t.CellRangeType={}))[os.VALUE=0]="VALUE",os[os.DIMENSION=1]="DIMENSION";var ds,fs,gs,vs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ys=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};(ds=t.DragSourceType||(t.DragSourceType={}))[ds.ToolPanel=0]="ToolPanel",ds[ds.HeaderCell=1]="HeaderCell",ds[ds.RowDrag=2]="RowDrag",ds[ds.ChartPanel=3]="ChartPanel",(fs=t.VerticalDirection||(t.VerticalDirection={}))[fs.Up=0]="Up",fs[fs.Down=1]="Down",(gs=t.HorizontalDirection||(t.HorizontalDirection={}))[gs.Left=0]="Left",gs[gs.Right=1]="Right";var ms,ws=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var r;return vs(n,e),r=n,n.prototype.init=function(){this.ePinnedIcon=yr("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=yr("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=yr("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=yr("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=yr("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=yr("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=yr("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=yr("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=yr("dropNotAllowed",this.gridOptionsWrapper,null)},n.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n,t)},n.prototype.removeDragSource=function(e){var t=c(this.dragSourceAndParamsList,(function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),m(this.dragSourceAndParamsList,t))},n.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0},n.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},n.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},n.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},n.prototype.onDragging=function(e,t){var n=this,r=this.getHorizontalDirection(e),o=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var i=this.dropTargets.filter((function(t){return n.isMouseOnDropTarget(e,t)})),s=i.length,a=null;if(s>0&&(a=1===s?i[0]:i.reduce((function(e,t){if(!e)return t;var n=e.getContainer(),r=t.getContainer();return n.contains(r)?t:e}))),a!==this.lastDropTarget)this.leaveLastTargetIfExists(e,r,o,t),this.enterDragTargetIfExists(a,e,r,o,t),this.lastDropTarget=a;else if(a&&a.onDragging){var u=this.createDropTargetEvent(a,e,r,o,t);a.onDragging(u)}},n.prototype.enterDragTargetIfExists=function(e,t,n,r,o){if(e){if(e.onDragEnter){var i=this.createDropTargetEvent(e,t,n,r,o);e.onDragEnter(i)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},n.prototype.leaveLastTargetIfExists=function(e,t,n,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,r);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},n.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],n=e.getSecondaryContainers?e.getSecondaryContainers():null;return n&&(t=t.concat(n)),t},n.prototype.isMouseOnDropTarget=function(e,t){var n=!1;return this.getAllContainersFromDropTarget(t).filter((function(e){return e})).forEach((function(t){var r=t.getBoundingClientRect();if(0!==r.width&&0!==r.height){var o=e.clientX>=r.left&&e.clientX<r.right,i=e.clientY>=r.top&&e.clientY<r.bottom;o&&i&&(n=!0)}})),n&&t.isInterestedIn(this.dragSource.type)},n.prototype.addDropTarget=function(e){this.dropTargets.push(e)},n.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))},n.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(e){return e.external}))},n.prototype.findExternalZone=function(e){return c(this.dropTargets.filter((function(e){return e.external})),(function(t){return t.getContainer()===e.getContainer()}))},n.prototype.getHorizontalDirection=function(e){var n=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return n===r?null:n>r?t.HorizontalDirection.Left:t.HorizontalDirection.Right},n.prototype.getVerticalDirection=function(e){var n=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return n===r?null:n>r?t.VerticalDirection.Up:t.VerticalDirection.Down},n.prototype.createDropTargetEvent=function(e,t,n,r,o){var i=e.getContainer(),s=i.getBoundingClientRect(),a=this,u=a.gridApi,l=a.columnApi,c=a.dragItem,p=a.dragSource;return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:r,hDirection:n,dragSource:p,fromNudge:o,dragItem:c,api:u,columnApi:l,dropZoneTarget:i}},n.prototype.positionGhost=function(e){var t=this.eGhost;if(t){var n=t.getBoundingClientRect().height,r=jt()-2,o=Ht()-2,i=e.pageY-n/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),u=window.pageYOffset||a.documentElement.scrollTop,l=window.pageXOffset||a.documentElement.scrollLeft;r>0&&s+t.clientWidth>r+l&&(s=r+l-t.clientWidth),s<0&&(s=0),o>0&&i+t.clientHeight>o+u&&(i=o+u-t.clientHeight),i<0&&(i=0),t.style.left=s+"px",t.style.top=i+"px"}},n.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},n.prototype.createGhost=function(){this.eGhost=pn(r.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&Ut(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),n=this.dragSource.dragItemName;$(n)&&(n=n()),t.innerHTML=$e(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument(),i=o.fullscreenElement||o.querySelector("body");this.eGhostParent=i,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},n.prototype.setGhostIcon=function(e,t){void 0===t&&(t=!1),un(this.eGhostIcon);var n=null;switch(e||(e=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),e){case r.ICON_PINNED:n=this.ePinnedIcon;break;case r.ICON_MOVE:n=this.eMoveIcon;break;case r.ICON_LEFT:n=this.eLeftIcon;break;case r.ICON_RIGHT:n=this.eRightIcon;break;case r.ICON_GROUP:n=this.eGroupIcon;break;case r.ICON_AGGREGATE:n=this.eAggregateIcon;break;case r.ICON_PIVOT:n=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:n=this.eHideIcon}qt(this.eGhostIcon,"ag-shake-left-to-right",t),n===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||n&&this.eGhostIcon.appendChild(n)},n.ICON_PINNED="pinned",n.ICON_MOVE="move",n.ICON_LEFT="left",n.ICON_RIGHT="right",n.ICON_GROUP="group",n.ICON_AGGREGATE="aggregate",n.ICON_PIVOT="pivot",n.ICON_NOT_ALLOWED="notAllowed",n.ICON_HIDE="hide",n.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ys([ue("dragService")],n.prototype,"dragService",void 0),ys([ue("environment")],n.prototype,"environment",void 0),ys([ue("columnApi")],n.prototype,"columnApi",void 0),ys([ue("gridApi")],n.prototype,"gridApi",void 0),ys([ie],n.prototype,"init",null),ys([se],n.prototype,"clearDragSourceParamsList",null),n=r=ys([ae("dragAndDropService")],n)}(Ve),Cs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Es=function(e){function n(t,n,r,o,i){var s=e.call(this)||this;return s.rowNode=t,s.column=n,s.cellValueFn=r,s.beans=o,s.customGui=i,s.isCustomGui=!1,s.dragSource=null,s}return Cs(n,e),n.prototype.postConstruct=function(){this.customGui?(this.isCustomGui=!0,this.setDragElement(this.customGui)):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(mr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource());this.checkCompatibility();var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new _s(this,this.beans,this.rowNode,this.column):new Os(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)},n.prototype.setDragElement=function(e){this.setTemplateFromElement(e),this.addDragSource()},n.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var e=this.beans.selectionController.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},n.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&Y((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},n.prototype.addDragSource=function(){var e=this;this.dragSource&&this.removeDragSource();var n={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},r=this.column.getColDef().rowDragText;this.dragSource={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var t=e.getSelectedCount();return r?r(n,t):1===t?e.cellValueFn():t+" rows"},getDragItem:function(){return n},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},n.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},bs([ie],n.prototype,"postConstruct",null),bs([se],n.prototype,"removeDragSource",null),n}(zr),Ss=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.column=r,o.rowNode=n,o}return Cs(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui;$(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):this.parent.setDisplayed(t)}},t}(Ve),Os=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.beans=n,i}return Cs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},bs([ie],t.prototype,"postConstruct",null),t}(Ss),_s=function(e){function t(t,n,r,o){var i=e.call(this,t,r,o)||this;return i.beans=n,i}return Cs(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Ue.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridPanel.getRowDragFeature(),t=e&&e.shouldPreventRowMove(),n=this.beans.gridOptionsWrapper.isSuppressRowDrag(),r=this.beans.dragAndDropService.hasExternalDropZones(),o=t&&!r||n;this.setDisplayedOrVisible(o)},bs([ie],t.prototype,"postConstruct",null),t}(Ss),Rs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ts=function(e){function t(t){var n=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=t,n}return Rs(t,e),t.prototype.onKeyDown=function(e){Er(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(n){var r=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return r.destroyBean(r.cellEditor)})),this.addManagedListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){return!!this.cellEditor.isCancelBeforeStart&&this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){return!!this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()},t.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",t}(Kr),As=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ps=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ds=function(e){function t(t,n,r,o,i){var s=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=n,s.cellValue=r,s.beans=o,s.eCell=i,s}return As(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(mr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,n=this.column.getColDef().dndSourceOnRowDrag,r=It();r||e.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:e}):function(){try{var n=JSON.stringify(t.rowNode.data);r?e.dataTransfer.setData("text",n):(e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n))}catch(o){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},Ps([ie],t.prototype,"postConstruct",null),t}(zr),Is=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ns=function(){return(Ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ls="ag-cell-value",xs="ag-cell-range-top",Fs="ag-cell-range-right",Ms="ag-cell-range-bottom",ks="ag-cell-range-left",Gs="ag-cell-focus",Vs="ag-cell-first-right-pinned",js="ag-cell-last-left-pinned",Hs="ag-cell-not-inline-editing",Ws="ag-cell-range-selected",Bs="ag-column-hover",Us="ag-cell-wrap-text",zs="ag-cell-range-chart",qs="ag-cell-range-single-cell",Ks="ag-cell-range-handle",Ys=function(e){function n(t,n,r,o,i,s,a){var u=e.call(this)||this;if(u.hasChartRange=!1,u.editingCell=!1,u.suppressRefreshCell=!1,u.tooltipFeatureEnabled=!1,u.scope=null,u.cellEditorVersion=0,u.cellRendererVersion=0,u.scope=t,u.beans=n,u.column=r,u.rowNode=o,u.rowComp=i,u.autoHeightCell=s,u.printLayout=a,u.createGridCellVo(),u.rangeSelectionEnabled=u.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),u.cellFocused=u.beans.focusController.isCellFocused(u.cellPosition),u.firstRightPinned=u.column.isFirstRightPinned(),u.lastLeftPinned=u.column.isLastLeftPinned(),u.rangeSelectionEnabled&&u.beans.rangeController){var l=u.beans.rangeController;u.rangeCount=l.getCellRangeCount(u.cellPosition),u.hasChartRange=u.getHasChartRange()}return u.getValueAndFormat(),u.setUsingWrapper(),u.chooseCellRenderer(),u.setupColSpan(),u.rowSpan=u.column.getRowSpan(u.rowNode),u}return Is(n,e),n.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":' unselectable="on"',t=[],n=this.column,o=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),s=this.getInitialValueToRender(),a=j(this.column,"colDef.template",null)?s:$e(s);this.tooltip=this.getToolTip();var u=$e(this.tooltip),l=$e(n.getId()),c=this.preProcessStylesFromColDef(),p=this.getInitialCssClasses(),h=this.getStylesForRowSpanning(),d=$e(this.beans.columnController.getAriaColumnIndex(this.column).toString());return t.push("<div"),t.push(' tabindex="-1"'),t.push(""+e),t.push(' role="gridcell"'),t.push(' aria-colindex="'+d+'"'),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+l+'"'),t.push(' class="'+$e(p.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&r(u)&&t.push(' title="'+u+'"'),this.rangeSelectionEnabled&&t.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),t.push(' style="width: '+Number(o)+"px; left: "+Number(i)+"px; "+$e(c)+" "+$e(h)+'">'),this.usingWrapper?t.push(this.getCellWrapperString(a)):null!=a&&t.push(a),t.push("</div>"),t.join("")},n.prototype.getCellWrapperString=function(e){return void 0===e&&(e=""),'<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n            <span ref="eCellValue" role="presentation" class="ag-cell-value"'+(this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":' unselectable="on"')+">\n                "+(null!=e?e:"")+"\n            </span>\n        </div>"},n.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},n.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),r(this.tooltip)&&this.createTooltipFeatureIfNeeded()},n.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new Hr(this),this.beans.context),this.tooltipFeatureEnabled=!0)},n.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass(Bs,e)},n.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},n.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.column).getLeft()},n.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()},n.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},n.prototype.setupColSpan=function(){o(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},n.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var n=this.column,r=this.column.getPinned(),i=0;n&&i<e&&(t.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!o(n))&&r===n.getPinned();i++);return t},n.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();v(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},n.prototype.refreshAriaIndex=function(){var e=this.beans.columnController.getAriaColumnIndex(this.column);er(this.getGui(),e)},n.prototype.getInitialCssClasses=function(){var e=["ag-cell",Hs];return this.autoHeightCell||e.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push(Gs),this.firstRightPinned&&e.push(Vs),this.lastLeftPinned&&e.push(js),this.beans.columnHoverService.isHovered(this.column)&&e.push(Bs),S(e,this.preProcessClassesFromColDef()),S(e,this.preProcessCellClassRules()),S(e,this.getInitialRangeClasses()),this.usingWrapper||e.push(Ls),this.wrapText=1==this.column.getColDef().wrapText,this.wrapText&&e.push(Us),e},n.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"===typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},n.prototype.getRenderedRow=function(){return this.rowComp},n.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},n.prototype.getCellRenderer=function(){return this.cellRenderer},n.prototype.getCellEditor=function(){return this.cellEditor},n.prototype.onNewColumnsLoaded=function(){this.postProcessWrapText(),this.postProcessCellClassRules()},n.prototype.postProcessWrapText=function(){var e=1==this.column.getColDef().wrapText;e!==this.wrapText&&(this.wrapText=e,this.addOrRemoveCssClass(Us,this.wrapText))},n.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),n=e&&e.newData,r=e&&e.suppressFlash||t.suppressCellFlash,o=e&&e.forceRefresh,i=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(i,this.value);if(o||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},n.prototype.flashCell=function(e){var t=e&&e.flashDelay,n=e&&e.fadeDelay;this.animateCell("data-changed",t,n)},n.prototype.animateCell=function(e,t,n){var o=this,i="ag-cell-"+e,s="ag-cell-"+e+"-animation",a=this.getGui(),u=this.beans.gridOptionsWrapper;t||(t=u.getCellFlashDelay()),r(n)||(n=u.getCellFadeDelay()),this.addCssClass(i),this.removeCssClass(s),window.setTimeout((function(){o.removeCssClass(i),o.addCssClass(s),a.style.transition="background-color "+n+"ms",window.setTimeout((function(){o.removeCssClass(s),a.style.removeProperty("transition")}),n)}),t)},n.prototype.replaceContentsAfterRefresh=function(){this.setUsingWrapper(),un(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},n.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=Ns({},this.rowNode.data),this.angular1Compile())},n.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc((function(){return t.remove()}))}}},n.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&mn(this.getGui(),e)},n.prototype.preProcessStylesFromColDef=function(){return Ln(this.processStylesFromColDef())},n.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"===typeof e.cellStyle){var n={column:this.column,value:this.value,colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};t=(0,e.cellStyle)(n)}else t=e.cellStyle;return t}},n.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef((function(t){return e.addCssClass(t)}))},n.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef((function(t){return e.push(t)})),e},n.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder(),n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processStaticCellClasses(t,n,e)},n.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eCellValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eCellValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eCellValue.innerHTML=$e(n)||"")}},n.prototype.attemptCellRendererRefresh=function(){if(o(this.cellRenderer)||!this.cellRenderer||o(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),n=this.cellRenderer.refresh(t);return!0===n||void 0===n},n.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){this.createTooltipFeatureIfNeeded();var t=r(e);t&&this.tooltip===e.toString()||(this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(t?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},n.prototype.valuesAreEqual=function(e,t){var n=this.getComponentHolder(),r=n?n.equals:null;return r?r(e,t):e===t},n.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&r(t))return H(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var n=e.tooltipValueGetter;return n?n(Ns(Ns({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},n.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},n.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?$e(this.tooltip):this.tooltip},n.prototype.processCellClassRules=function(e,t){var n=this.getComponentHolder(),r={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(n.cellClassRules,r,e,t)},n.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules((function(t){return e.addCssClass(t)}),(function(t){return e.removeCssClass(t)}))},n.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules((function(t){return e.push(t)}),(function(e){})),e},n.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"===typeof e.checkboxSelection,n="function"===typeof e.rowDrag,r="function"===typeof e.dndSource;this.includeSelectionComponent=t||!0===e.checkboxSelection,this.includeRowDraggingComponent=n||!0===e.rowDrag,this.includeDndSourceComponent=r||!0===e.dndSource;var o=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=o||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},n.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var t=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",t)?(this.cellRendererType=n.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",t)?(this.cellRendererType=n.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},n.prototype.createCellRendererInstance=function(e){var t=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var r=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(r||o||this.autoHeightCell)&&(e=!1);var i=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===n.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){t.createCellRendererFunc=null;var e=t.beans.userComponentFactory.newCellRenderer(t.getComponentHolder(),i,!a);e&&e.then(s)},e?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},n.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),o(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(t)},n.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,registerRowDragger:function(t){return e.addRowDragging(t)},addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,n){console.warn("AG Grid: since AG Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,n)}}},n.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},n.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},n.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},n.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),o=t&&n&&!r;return this.beans.valueService.getValue(this.column,this.rowNode,!1,o)},n.prototype.onMouseEvent=function(e,t){if(!Pe(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},n.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,Ue.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(n)}),0)},n.prototype.createEvent=function(e,t){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},n.prototype.onMouseOut=function(e){var t=this.createEvent(e,Ue.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},n.prototype.onMouseOver=function(e){var t=this.createEvent(e,Ue.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},n.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),n=this.createEvent(e,Ue.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},n.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},n.prototype.startEditingIfEnabled=function(e,t,n){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var r=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(e,t,n);this.createCellEditor(i).then(r),o(this.cellEditor)&&n&&this.focusCell(!0)}},n.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).then((function(n){var r=n;if(!(r.isPopup&&r.isPopup()))return r;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=new Ts(r);return t.beans.context.createBean(o),o.init(e),o}))},n.prototype.afterCellEditorCreated=function(e,t){if(e!==this.cellEditorVersion||!this.editingCell)this.beans.context.destroyBean(t);else{if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void(this.editingCell=!1);if(!t.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("AG Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(t),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var n=this.createEvent(null,Ue.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}},n.prototype.addInCellEditor=function(){var e=this.getGui();e.contains(document.activeElement)&&e.focus(),this.clearCellElement(),this.cellEditor&&e.appendChild(this.cellEditor.getGui()),this.angular1Compile()},n.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor&&this.cellEditor.getGui();if(t){var n=this.beans.popupService,r=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus(),o=this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over",i={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0},s="under"===o?n.positionPopupUnderComponent.bind(n,i):n.positionPopupOverComponent.bind(n,i),a=n.addPopup({modal:r,eChild:t,closeOnEsc:!0,closedCallback:function(){e.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:s});a&&(this.hideEditorPopup=a.hideFunc),this.angular1Compile()}},n.prototype.onPopupEditorClosed=function(){this.editingCell&&this.stopRowOrCellEdit()},n.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",e),this.addOrRemoveCssClass(Hs,!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t),qt(this.getGui().parentNode,"ag-row-inline-editing",e),qt(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},n.prototype.createCellEditorParams=function(e,t,n){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},n.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},n.prototype.parseValue=function(e){var t=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=t.valueParser;return r(o)?this.beans.expressionService.evaluate(o,n):e},n.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e)},n.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},n.prototype.isEditing=function(){return this.editingCell},n.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case eo.ENTER:this.onEnterKeyDown(e);break;case eo.F2:this.onF2KeyDown();break;case eo.ESCAPE:this.onEscapeKeyDown();break;case eo.TAB:this.onTabKeyDown(e);break;case eo.BACKSPACE:case eo.DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case eo.DOWN:case eo.UP:case eo.RIGHT:case eo.LEFT:this.onNavigationKeyPressed(e,t)}},n.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},n.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},n.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},n.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},n.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},n.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,eo.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(eo.ENTER),this.editingCell&&e.preventDefault())},n.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,eo.DOWN,this.cellPosition,!1)},n.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(eo.F2)},n.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},n.prototype.onKeyPress=function(e){if(!(Ne(e)!==this.getGui())&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):br(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},n.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.editingCell&&t.isRowSelection()){var n=this.rowNode.isSelected(),r=!n;if(r||!t.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:r,rangeSelect:e.shiftKey,groupSelectsFiltered:o});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o})}}e.preventDefault()},n.prototype.onMouseDown=function(e){var t=e.ctrlKey,n=e.metaKey,r=e.shiftKey,o=e.target,i=this.beans,s=i.eventService,a=i.rangeController;if(!this.isRightClickInExistingRange(e)){if(!r||a&&!a.getCellRanges().length){var u=(It()||Nt())&&!this.editingCell&&!Yt(o);this.focusCell(u)}else a&&e.preventDefault();if(!this.containsWidget(o)){if(a){var l=this.cellPosition;if(r)a.extendLatestRangeToCell(l);else{var c=t||n;a.setRangeToCell(l,c)}}s.dispatchEvent(this.createEvent(e,Ue.EVENT_CELL_MOUSE_DOWN))}}},n.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeController;if(t&&(t.isCellInAnyRange(this.getCellPosition())&&2===e.button))return!0;return!1},n.prototype.containsWidget=function(e){return Jt(e,"ag-selection-checkbox",3)},n.prototype.isDoubleClickOnIPad=function(){if(!Mt()||De("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},n.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,n=t.eventService,r=t.gridOptionsWrapper,o=this.createEvent(e,Ue.EVENT_CELL_CLICKED);n.dispatchEvent(o);var i=this.getComponentHolder();i.onCellClicked&&window.setTimeout((function(){return i.onCellClicked(o)}),0),(r.isSingleClickEdit()||i.singleClickEdit)&&!r.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},n.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},n.prototype.getCellPosition=function(){return this.cellPosition},n.prototype.getParentRow=function(){return this.eParentRow},n.prototype.setParentRow=function(e){this.eParentRow=e},n.prototype.getColumn=function(){return this.column},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},n.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),e.prototype.destroy.call(this)},n.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px",this.refreshAriaIndex()},n.prototype.modifyLeftForPrintLayout=function(e){if(!this.printLayout||this.column.getPinned()===ye.PINNED_LEFT)return e;var t=this.beans.columnController.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ye.PINNED_RIGHT?t+this.beans.columnController.getBodyContainerWidth()+(e||0):t+(e||0)},n.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},n.prototype.getRangeBorders=function(){var e,t,n=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,i=!1,s=!1,a=!1,u=this.cellPosition.column,l=this.beans,c=l.rangeController,p=l.columnController;r?(e=p.getDisplayedColAfter(u),t=p.getDisplayedColBefore(u)):(e=p.getDisplayedColBefore(u),t=p.getDisplayedColAfter(u));var h=c.getCellRanges().filter((function(e){return c.isCellInSpecificRange(n.cellPosition,e)}));e||(a=!0),t||(i=!0);for(var d=0;d<h.length&&!(o&&i&&s&&a);d++){var f=h[d],g=c.getRangeStartRow(f),v=c.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(v,this.cellPosition)&&(s=!0),!a&&e&&f.columns.indexOf(e)<0&&(a=!0),!i&&t&&f.columns.indexOf(t)<0&&(i=!0)}return{top:o,right:i,bottom:s,left:a}},n.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;e.push(Ws),this.hasChartRange&&e.push(zs);var t=Math.min(this.rangeCount,4);if(e.push(Ws+"-"+t),this.isSingleCell()&&e.push(qs),this.rangeCount>0){var n=this.getRangeBorders();n.top&&e.push(xs),n.right&&e.push(Fs),n.bottom&&e.push(Ms),n.left&&e.push(ks)}return this.selectionHandle&&e.push(Ks),e},n.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){var e=this.beans.rangeController;if(e){var t=this.cellPosition,n=this.rangeCount,r=e.getCellRangeCount(t),o=this.getGui();n!==r&&(this.addOrRemoveCssClass(Ws,0!==r),this.addOrRemoveCssClass(Ws+"-1",1===r),this.addOrRemoveCssClass(Ws+"-2",2===r),this.addOrRemoveCssClass(Ws+"-3",3===r),this.addOrRemoveCssClass(Ws+"-4",r>=4),this.rangeCount=r),or(o,this.rangeCount>0);var i=this.getHasChartRange();i!==this.hasChartRange&&(this.hasChartRange=i,this.addOrRemoveCssClass(zs,this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass(qs,this.isSingleCell()),this.refreshHandle()}},n.prototype.getHasChartRange=function(){var e=this.beans.rangeController;if(!this.rangeCount||!e)return!1;var n=e.getCellRanges();return n.length>0&&n.every((function(e){return E([t.CellRangeType.DIMENSION,t.CellRangeType.VALUE],e.type)}))},n.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,n=e.gridOptionsWrapper,r=e.rangeController,o=r.getCellRanges(),i=o.length;if(this.rangeCount<1||i<1)return!1;var s=g(o),a=this.getCellPosition(),u=1===i&&(n.isEnableFillHandle()||n.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var l=o[0].type===t.CellRangeType.DIMENSION&&r.isCellInSpecificRange(a,o[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",l),u=s.type===t.CellRangeType.VALUE}return u&&null!=s.endRow&&r.isContiguousRange(s)&&r.isBottomRightCell(s,a)},n.prototype.addSelectionHandle=function(){var e=this.beans,n=e.gridOptionsWrapper,r=g(e.rangeController.getCellRanges()).type,i=n.isEnableFillHandle()&&o(r)?t.SelectionHandleType.FILL:t.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this)},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.addOrRemoveCssClass(Ks,!!this.selectionHandle)}},n.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,r=!t&&e.right,o=!t&&e.bottom,i=!t&&e.left;this.addOrRemoveCssClass(xs,n),this.addOrRemoveCssClass(Fs,r),this.addOrRemoveCssClass(Ms,o),this.addOrRemoveCssClass(ks,i)},n.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,this.addOrRemoveCssClass(Vs,e))},n.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.addOrRemoveCssClass(js,e))},n.prototype.refreshShouldDestroy=function(){var e=this.usingWrapper,t=this.includeRowDraggingComponent,n=this.includeDndSourceComponent,r=this.includeSelectionComponent;return this.setUsingWrapper(),e!==this.usingWrapper||t!==this.includeRowDraggingComponent||n!==this.includeDndSourceComponent||r!==this.includeSelectionComponent},n.prototype.populateTemplate=function(){if(this.usingWrapper){this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.eCellValue.id="cell-"+this.getCompId();var e="";this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&(e+=this.addSelectionCheckbox().getCheckboxId()),Un(this.getGui(),e+" "+this.eCellValue.id)}else this.eCellValue=this.getGui(),this.eCellWrapper=this.eCellValue},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.addRowDragging=function(e){var t=this,n=this.beans.gridOptionsWrapper.isPagination(),r=this.beans.gridOptionsWrapper.isRowDragManaged(),o=this.beans.gridOptionsWrapper.isRowModelDefault();if(r){if(!o)return void Y((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(n)return void Y((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}this.rowDraggingComp?e&&this.rowDraggingComp.setDragElement(e):(this.rowDraggingComp=new Es(this.rowNode,this.column,(function(){return t.value}),this.beans,e),this.createManagedBean(this.rowDraggingComp,this.beans.context)),e||this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)},n.prototype.addDndSource=function(){var e=new Ds(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},n.prototype.addSelectionCheckbox=function(){var e=this,t=new xo;this.beans.context.createBean(t);var n=this.getComponentHolder().checkboxSelection;return"function"!==typeof n&&(n=void 0),t.init({rowNode:this.rowNode,column:this.column,visibleFunc:n}),this.addDestroyFunc((function(){return e.beans.context.destroyBean(t)})),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue),t},n.prototype.addDomData=function(){var e=this,t=this.getGui();this.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return e.beans.gridOptionsWrapper.setDomData(t,n.DOM_DATA_KEY_CELL_COMP,null)}))},n.prototype.isSingleCell=function(){var e=this.beans.rangeController;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},n.prototype.onCellFocused=function(e){var t=this.beans.focusController.isCellFocused(this.cellPosition);t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass(Gs,t),this.cellFocused=t);if(t&&e&&e.forceBrowserFocus){var n=this.getFocusableElement();n.focus(),document.activeElement&&document.activeElement!==document.body||n.focus()}var r=this.beans.gridOptionsWrapper.isFullRowEdit();t||r||!this.editingCell||this.stopRowOrCellEdit()},n.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,n=this.getValue(),r=!1;if(!e)this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),r=!0);if(this.editingCell=!1,this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else{this.clearCellElement();var o=this.getGui();if(this.usingWrapper)o.appendChild(this.eCellWrapper);else if(this.cellRenderer){var i=this.cellRendererGui;i&&o.appendChild(i)}}this.setInlineEditingClass(),this.refreshHandle(),r&&t!==n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var s=Ns(Ns({},this.createEvent(null,Ue.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:t});this.beans.eventService.dispatchEvent(s)}else this.editingCell=!1},n.prototype.clearCellElement=function(){var e=this.getGui();e.contains(document.activeElement)&&!It()&&e.focus({preventScroll:!0}),un(e)},n.DOM_DATA_KEY_CELL_COMP="cellComp",n.CELL_RENDERER_TYPE_NORMAL="cellRenderer",n.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",n}(zr),Qs=function(){return(Qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$s=function(){function e(){}return e.createChildScopeOrNull=function(e,t,n){if(!n.isAngularCompileRows())return null;var r=t.$new();r.data=Qs({},e.data),r.rowNode=e,r.context=n.getContext();return{scope:r,scopeDestroyFunc:function(){r.$destroy(),r.data=null,r.rowNode=null,r.context=null}}},e}(),Xs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Js=function(e){function n(t,n,r,o,i,s,a,u,l,c,p){var h=e.call(this)||this;return h.eAllRowContainers=[],h.fullWidthRowDestroyFuncs=[],h.active=!0,h.rowContainerReadyCount=0,h.refreshNeeded=!1,h.columnRefreshPending=!1,h.cellComps={},h.createSecondPassFuncs=[],h.removeFirstPassFuncs=[],h.removeSecondPassFuncs=[],h.initialised=!1,h.elementOrderChanged=!1,h.lastMouseDownOnDragger=!1,h.parentScope=t,h.beans=a,h.bodyContainerComp=n,h.pinnedLeftContainerComp=r,h.pinnedRightContainerComp=o,h.fullWidthContainerComp=i,h.rowNode=s,h.rowIsEven=h.rowNode.rowIndex%2===0,h.paginationPage=h.beans.paginationProxy.getCurrentPage(),h.useAnimationFrameForCreate=l,h.printLayout=c,h.embedFullWidth=p,h.setAnimateFlags(u),h}return Xs(n,e),n.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){e.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){e.eAllRowContainers.forEach((function(e){return zt(e,"ag-opacity-zero")}))}))},n.prototype.setupAngular1Scope=function(){var e=$s.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);e&&(this.scope=e.scope,this.addDestroyFunc(e.scopeDestroyFunc))},n.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var n=[],r=this.rowNode.rowHeight,o=this.getInitialRowClasses(t).join(" "),i=$e(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),u=$e(a),l=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),n.push(i?' row-id="'+i+'"':""),n.push(a?' row-business-key="'+u+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+o+'"'),this.fullWidthRow&&n.push(' tabindex="-1"'),this.beans.gridOptionsWrapper.isRowSelection()&&n.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&n.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),n.push(' style="height: '+r+"px; "+l+" "+s+'">'),n.push(e),n.push("</div>"),n.join("")},n.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},n.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},n.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},n.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),n=this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},n.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof e)return e(this.rowNode)},n.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},n.prototype.lazyCreateCells=function(e,t){if(this.active){var n=this.createCells(e);t.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},n.prototype.createRowContainer=function(e,t,n){var r=this,o=this.useAnimationFrameForCreate,i=o?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(i.template);e.appendRowTemplate(s,(function(){var s=e.getRowElement(r.getCompId());r.refreshAriaLabel(s,!!r.rowNode.isSelected()),r.afterRowAttached(e,s),n(s),o?r.beans.taskQueue.createTask(r.lazyCreateCells.bind(r,t,s),r.rowNode.rowIndex,"createTasksP1"):(r.callAfterRowAttachedOnCells(i.cellComps,s),r.rowContainerReadyCount=3)}))},n.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),t=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowNode.stub?this.createFullWidthRows(n.LOADING_CELL_RENDERER,n.LOADING_CELL_RENDERER_COMP_NAME,!1):t?this.createFullWidthRows(n.DETAIL_CELL_RENDERER,n.DETAIL_CELL_RENDERER_COMP_NAME,!0):e?this.createFullWidthRows(n.FULL_WIDTH_CELL_RENDERER,null,!1):o?this.createFullWidthRows(n.GROUP_ROW_RENDERER,n.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},n.prototype.setupNormalRowContainers=function(){var e,t=this,n=[],r=[];this.printLayout?e=this.beans.columnController.getAllDisplayedColumns():(e=this.beans.columnController.getViewportCenterColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),r=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,(function(e){return t.eBodyRow=e})),this.createRowContainer(this.pinnedRightContainerComp,r,(function(e){return t.ePinnedRightRow=e})),this.createRowContainer(this.pinnedLeftContainerComp,n,(function(e){return t.ePinnedLeftRow=e}))},n.prototype.createFullWidthRows=function(e,t,n){var r=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,(function(e){r.eFullWidthRowBody=e}),(function(e){r.fullWidthRowComponentBody=e}),n),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,ye.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,(function(e){r.eFullWidthRowLeft=e}),(function(e){r.fullWidthRowComponentLeft=e}),n),this.createFullWidthRowContainer(this.pinnedRightContainerComp,ye.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,(function(e){r.eFullWidthRowRight=e}),(function(e){r.fullWidthRowComponentRight=e}),n)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,(function(e){r.eFullWidthRow=e}),(function(e){r.fullWidthRowComponent=e}),n)},n.prototype.setAnimateFlags=function(e){if(e){var t=r(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},n.prototype.isEditing=function(){return this.editingRow},n.prototype.stopRowEditing=function(e){this.stopEditing(e)},n.prototype.isFullWidth=function(){return this.fullWidthRow},n.prototype.refreshFullWidth=function(){var e=this,t=function(t,n,r){if(!t||!n)return!0;if(!n.refresh)return!1;var o=e.createFullWidthParams(t,r);return n.refresh(o)},n=t(this.eFullWidthRow,this.fullWidthRowComponent,null),r=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,ye.PINNED_LEFT),i=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,ye.PINNED_RIGHT);return n&&r&&o&&i},n.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Io.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Io.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,Ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(e,Ue.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,Ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,Ue.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},n.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Io.EVENT_ROW_INDEX_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Io.EVENT_CELL_CHANGED,(function(t){e.forEachCellComp((function(e){return e.onCellChanged(t)}))}))},n.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.onRowSelected(),this.postProcessCss()},n.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},n.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},n.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.eAllRowContainers.forEach((function(t){zt(t,"ag-row-highlight-above"),zt(t,"ag-row-highlight-below"),e&&Ut(t,"ag-row-highlight-"+e)}))},n.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},n.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach((function(t){return qt(t,"ag-row-dragging",e)}))},n.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.eAllRowContainers.forEach((function(n){qt(n,"ag-row-group",e),qt(n,"ag-row-group-expanded",e&&t),qt(n,"ag-row-group-contracted",e&&!t),qn(n,e&&t)}))},n.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach((function(e){return e()})),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ye.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ye.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},n.prototype.getContainerForCell=function(e){switch(e){case ye.PINNED_LEFT:return this.ePinnedLeftRow;case ye.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},n.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},n.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},n.prototype.onKeyboardNavigate=function(e){var t=this.rowNode,n=this.beans.focusController.getFocusedCell(),r={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:n&&n.column};this.beans.rowRenderer.navigateToNextCell(e,e.keyCode,r,!0),e.preventDefault()},n.prototype.onTabKeyDown=function(e){this.isFullWidth()&&this.beans.rowRenderer.onTabKeyDown(this,e)},n.prototype.onFullWidthRowFocused=function(e){var t=this.rowNode,n=this.fullWidthRow&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned;(qt(this.eFullWidthRow,"ag-full-width-focus",n),n)&&(this.embedFullWidth?this.eFullWidthRowBody:this.eFullWidthRow).focus()},n.prototype.refreshCell=function(e){this.areAllContainersReady()&&(this.destroyCells([e.getColumn().getId()]),this.refreshCells())},n.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},n.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,n;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],n=[]):(e=this.beans.columnController.getViewportCenterColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var r=Object.keys(this.cellComps);e.forEach((function(e){return m(r,e.getId())})),t.forEach((function(e){return m(r,e.getId())})),n.forEach((function(e){return m(r,e.getId())}));var o=r.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(o)}},n.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},n.prototype.destroyCells=function(e){var t=this;e.forEach((function(e){var n=t.cellComps[e];o(n)||(n.detach(),n.destroy(),t.cellComps[e]=null)}))},n.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),n=!0,r=this.cellComps[e];if(!r||this.isCellInWrongRow(r))return n;var o=r.isEditing(),i=this.beans.focusController.isCellFocused(r.getCellPosition());if(o||i){var s=r.getColumn();return!(t.indexOf(s)>=0)&&n}return n},n.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),n=e.getColumn().getPinned(),r=this.getContainerForCell(n),o=e.getParentRow();o!==r&&(o&&o.removeChild(t),r.appendChild(t),e.setParentRow(r),this.elementOrderChanged=!0)}},n.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),n=this.getContainerForCell(t.getPinned());return e.getParentRow()!==n},n.prototype.insertCellsIntoContainer=function(e,t){var n=this;if(e){var r=[],o=[];if(t.forEach((function(t){var i=t.getId(),s=n.cellComps[i];s&&s.getColumn()==t?n.ensureCellInCorrectContainer(s):(s&&n.destroyCells([i]),n.createNewCell(t,e,r,o))})),r.length>0&&(hn(e,r.join("")),this.callAfterRowAttachedOnCells(o,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var i=t.map((function(e){return n.getCellForCol(e)}));vn(e,i)}}},n.prototype.addDomData=function(e){var t=this.beans.gridOptionsWrapper;t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){t.setDomData(e,n.DOM_DATA_KEY_RENDERED_ROW,null)}))},n.prototype.createNewCell=function(e,t,n,r){var o=new Ys(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),this.cellComps[e.getId()]=o,o.setParentRow(t),this.elementOrderChanged=!0},n.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"mousedown":this.onRowMouseDown(t)}},n.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},n.prototype.createRowEventWithSource=function(e,t){var n=this.createRowEvent(e,t);return n.source=this,n},n.prototype.onRowDblClick=function(e){if(!Pe(e)){var t=this.createRowEventWithSource(Ue.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},n.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Jt(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode,n=this.beans.columnController;this.beans.focusController.setFocusedCell(t.rowIndex,n.getAllDisplayedColumns()[0],t.rowPinned,!0)}},n.prototype.onRowClick=function(e){if(!(Pe(e)||this.lastMouseDownOnDragger)){var t=this.createRowEventWithSource(Ue.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var n=e.ctrlKey||e.metaKey,r=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1}):n?i&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!r,clearSelection:!r,rangeSelect:r});else{var s=!o&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:s,rangeSelect:r})}}}},n.prototype.createFullWidthRowContainer=function(e,n,r,o,i,s,a,u){var l=this,c=this.createTemplate("",r);e.appendRowTemplate(c,(function(){var r=e.getRowElement(l.getCompId()),c=l.createFullWidthParams(r,n),p=function(e){if(l.isAlive()){var t=e.getGui();r.appendChild(t),u&&l.setupDetailRowAutoHeight(t),a(e)}else l.beans.context.destroyBean(e)},h=l.beans.detailRowCompCache.get(l.rowNode,n);if(h)p(h);else{var d=l.beans.userComponentFactory.newFullWidthCellRenderer(c,o,i);if(!d){var f=me.isRegistered(t.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==i||f?console.error("AG Grid: fullWidthCellRenderer "+i+" not found"):console.warn("AG Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(p)}l.afterRowAttached(e,r),s(r),l.angular1Compile(r)}))},n.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var n=e.clientHeight;if(null!=n&&n>0){t.beans.frameworkOverrides.setTimeout((function(){t.rowNode.setRowHeight(n),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()}),0)}},r=this.beans.resizeObserverService.observeResize(e,n);this.fullWidthRowDestroyFuncs.push(r),n()}},n.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},n.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},n.prototype.getInitialRowClasses=function(e){var t={rowNode:this.rowNode,extraCssClass:e,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(t)},n.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach((function(e){Ut(e,t),zt(e,n)}))}this.rowLevel=e},n.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},n.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},n.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach((function(t){return qt(t,"ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach((function(e){return qt(e,"ag-row-last",t)})))},n.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp((function(t){t.stopEditing(e)})),this.editingRow){if(!e){var t=this.createRowEvent(Ue.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},n.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach((function(t){return qt(t,"ag-row-editing",e)}));var t=e?this.createRowEvent(Ue.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Ue.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},n.prototype.startRowEditing=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp((function(r){var o=r===n;o?r.startEditingIfEnabled(e,t,o):r.startEditingIfEnabled(null,null,o)})),this.setEditingRow(!0))},n.prototype.forEachCellComp=function(e){I(this.cellComps,(function(t,n){n&&e(n)}))},n.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);t&&t.length&&t.forEach((function(t){e.eAllRowContainers.forEach((function(e){return Ut(e,t)}))}))},n.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,(function(t){e.eAllRowContainers.forEach((function(e){return Ut(e,t)}))}),(function(t){e.eAllRowContainers.forEach((function(e){return zt(e,t)}))}))},n.prototype.preProcessStylesFromGridOptions=function(){return Ln(this.processStylesFromGridOptions())},n.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(t){return mn(t,e)}))},n.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!==typeof e){var t,n=this.beans.gridOptionsWrapper.getRowStyleFunc();if(n)t=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()});return V({},e,t)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},n.prototype.createCells=function(e){var t=this,n=[],r=[];return e.forEach((function(e){var o=new Ys(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),t.cellComps[e.getId()]=o})),{template:n.join(""),cellComps:r}},n.prototype.onRowSelected=function(){var e=this,t=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(n){or(n,t),qt(n,"ag-row-selected",t),e.refreshAriaLabel(n,t)}))},n.prototype.refreshAriaLabel=function(e,t){t&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?e.removeAttribute("aria-label"):Wn(e,this.beans.gridOptionsWrapper.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row."))},n.prototype.callAfterRowAttachedOnCells=function(e,t){var n=this;e.forEach((function(e){e.setParentRow(t),e.afterAttached(),n.editingRow&&e.startEditingIfEnabled()}))},n.prototype.afterRowAttached=function(e,t){var n=this;this.addDomData(t),this.removeSecondPassFuncs.push((function(){e.removeRowElement(t)})),this.removeFirstPassFuncs.push((function(){if(r(n.rowNode.rowTop)){var e=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(e)}else Ut(t,"ag-opacity-zero")})),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},n.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addManagedListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Io.EVENT_MOUSE_ENTER,(function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Ut(e,"ag-row-hover")})),this.addManagedListener(this.rowNode,Io.EVENT_MOUSE_LEAVE,(function(){zt(e,"ag-row-hover")})))},n.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.onRowHeightChanged=function(){if(r(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(t){return t.style.height=e}))}},n.prototype.addEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Ue.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,n)},n.prototype.removeEventListener=function(t,n){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=Ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Ue.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,n)},n.prototype.destroy=function(t){(void 0===t&&(t=!1),this.active=!1,this.destroyFullWidthComponents(),t)?(this.removeFirstPassFuncs.forEach((function(e){return e()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(e){return e()})));var n=this.createRowEvent(Ue.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),e.prototype.destroy.call(this)},n.prototype.destroyContainingCells=function(){var e=Object.keys(this.cellComps);this.destroyCells(e)},n.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},n.prototype.onCellFocusChanged=function(){var e=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach((function(t){return qt(t,"ag-row-focus",e)})),this.eAllRowContainers.forEach((function(t){return qt(t,"ag-row-no-focus",!e)})),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},n.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},n.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},n.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},n.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},n.prototype.setRowTop=function(e){if(!this.printLayout&&r(e)){var t=this.applyPaginationOffset(e),n=(this.rowNode.isRowPinned()?t:this.beans.maxDivHeightScaler.getRealPixelPosition(t))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(e){return e.style.top=n})):this.eAllRowContainers.forEach((function(e){return e.style.transform="translateY("+n+")"}))}},n.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getRenderedCellForColumn=function(e){var t=this,n=this.cellComps[e.getColId()];if(n)return n;var r=Object.keys(this.cellComps).map((function(e){return t.cellComps[e]})).filter((function(t){return t&&-1!==t.getColSpanningList().indexOf(e)}));return r.length?r[0]:null},n.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},n.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2===0,r=this.rowIsEven!==n,o=this.beans.headerNavigationService.getHeaderRowCount();r&&(this.rowIsEven=n),this.eAllRowContainers.forEach((function(i){i.setAttribute("row-index",t),Jn(i,o+e.rowNode.rowIndex+1),r&&(qt(i,"ag-row-even",n),qt(i,"ag-row-odd",!n))}))},n.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(e){e.el&&e.ct.ensureDomOrder(e.el)}))},n.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},n.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},n.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},n.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},n.DOM_DATA_KEY_RENDERED_ROW="renderedRow",n.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",n.GROUP_ROW_RENDERER="groupRowRenderer",n.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",n.LOADING_CELL_RENDERER="loadingCellRenderer",n.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",n.DETAIL_CELL_RENDERER="detailCellRenderer",n.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",n}(zr),Zs=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(){return(ea=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ta=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},na=function(e,t){return function(n,r){t(n,r,e)}},ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return Zs(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,Ue.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_CELL_FOCUSED,(function(t){e.forEachCellComp((function(e){return e.onCellFocused(t)})),e.forEachRowComp((function(e,n){n.isFullWidth()&&n.onFullWidthRowFocused(t)}))})),this.addManagedListener(this.eventService,Ue.EVENT_FLASH_CELLS,(function(t){e.forEachCellComp((function(e){return e.onFlashCells(t)}))})),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,(function(){e.forEachCellComp((function(e){return e.onColumnHover()}))})),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.forEachCellComp((function(e){return e.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Ue.EVENT_RANGE_SELECTION_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Ue.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach((function(t){var n=function(n){e.forEachCellComp((function(e){e.getColumn()===t&&n(e)}))},r=function(){n((function(e){return e.onLeftChanged()}))},o=function(){n((function(e){return e.onWidthChanged()}))},i=function(){n((function(e){return e.onFirstRightPinnedChanged()}))},s=function(){n((function(e){return e.onLastLeftPinnedChanged()}))};t.addEventListener(Ce.EVENT_LEFT_CHANGED,r),t.addEventListener(Ce.EVENT_WIDTH_CHANGED,o),t.addEventListener(Ce.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.addEventListener(Ce.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener(Ce.EVENT_LEFT_CHANGED,r),t.removeEventListener(Ce.EVENT_WIDTH_CHANGED,o),t.removeEventListener(Ce.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),t.removeEventListener(Ce.EVENT_LAST_LEFT_PINNED_CHANGED,s)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){o(e)&&(e={type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function n(n,r){var o=r.getCellForCol(e);o&&t.push(o)}return I(this.rowCompsByIndex,n),I(this.floatingBottomRowComps,n),I(this.floatingTopRowComps,n),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},t.prototype.refreshFloatingRows=function(e,t,n,r,o,i){var s=this;e.forEach((function(e){e.destroy()})),e.length=0,t&&t.forEach((function(t){var a=new Js(s.$scope,o,n,r,i,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)})),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return o(e)||I(this.rowCompsByIndex,(function(n,r){var o=r.getRowNode();e.indexOf(o)>=0&&t.push(n)})),t},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(o(t))return null;var n=document.activeElement;return o(this.gridOptionsWrapper.getDomData(n,Ys.DOM_DATA_KEY_CELL_COMP))?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var n=!this.printLayout&&!!e.recycleRows,r=e.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(n),i=function(){if(null==t||null==o)return!1;var e=!1;return I(o,(function(n,r){var o=r.getRowNode(),i=o.rowIndex==t.rowIndex,s=o.rowPinned==t.rowPinned;i&&s&&(e=!0)})),e}();this.redraw(o,r),e.onlyBody||this.refreshFloatingRowComps(),i||this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!n&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach((function(e){return e.setHeight(null)}));else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var n=this.maxDivHeightScaler.getUiContainerHeight();e.forEach((function(e){return e.setHeight(n)}))}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp((function(t,n){n.stopEditing(e)}))},t.prototype.forEachCellComp=function(e){this.forEachRowComp((function(t,n){return n.forEachCellComp(e)}))},t.prototype.forEachRowComp=function(e){I(this.rowCompsByIndex,e),I(this.floatingTopRowComps,e),I(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,n){var r=this.rowCompsByIndex[t];r&&r.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,n=e.fadeDelay;this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){return e.flashCell({flashDelay:t,fadeDelay:n})}))},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){if(e.refreshShouldDestroy()){var n=e.getRenderedRow();n&&n.refreshCell(e)}else e.refreshCell(t)}))},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var n=e.getCellRenderer();n&&t.push(n)})),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var n=e.getCellEditor();n&&t.push(n)})),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp((function(t){if(t.isEditing()){var n=t.getCellPosition();e.push(n)}})),e},t.prototype.forEachCellCompFiltered=function(e,t,n){var o,i,s=this;r(e)&&(o={top:{},bottom:{},normal:{}},e.forEach((function(e){var t=e.id;e.rowPinned===ye.PINNED_TOP?o.top[t]=!0:e.rowPinned===ye.PINNED_BOTTOM?o.bottom[t]=!0:o.normal[t]=!0}))),r(t)&&(i={},t.forEach((function(e){var t=s.columnController.getGridColumn(e);r(t)&&(i[t.getId()]=!0)})));var a=function(e){var t=e.getRowNode(),s=t.id,a=t.rowPinned;if(r(o))if(a===ye.PINNED_BOTTOM){if(!o.bottom[s])return}else if(a===ye.PINNED_TOP){if(!o.top[s])return}else if(!o.normal[s])return;e.forEachCellComp((function(e){var t=e.getColumn().getId();i&&!i[t]||n&&n(e)}))};I(this.rowCompsByIndex,(function(e,t){a(t)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(a),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(a)},t.prototype.destroy=function(){var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t),e.prototype.destroy.call(this)},t.prototype.binRowComps=function(e){var t,n=this,o={};return e?(t=[],I(this.rowCompsByIndex,(function(e,i){var s=i.getRowNode();r(s.id)?(o[s.id]=i,delete n.rowCompsByIndex[e]):t.push(e)}))):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),o},t.prototype.removeRowComps=function(e){var t=this;e.forEach((function(e){var n=t.rowCompsByIndex[e];n&&n.destroy(),delete t.rowCompsByIndex[e]}))},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var n=Object.keys(this.rowCompsByIndex).filter((function(e){return!t[e]}));this.removeRowComps(n)},t.prototype.calculateIndexesToDraw=function(e){var t=this,n=it(this.firstRenderedRow,this.lastRenderedRow),r=function(e,r){var o=r.getRowNode().rowIndex;null!=o&&(o<t.firstRenderedRow||o>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(r)&&n.push(o)};return I(this.rowCompsByIndex,r),I(e,r),n.sort((function(e,t){return e-t})),n},t.prototype.redraw=function(e,t,n){var o=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1);var s=[],a=[];i.forEach((function(i){var u=o.createOrUpdateRowComp(i,e,t,n);r(u)&&(a.push(u),S(s,u.getAndClearNextVMTurnFunctions()))})),this.flushContainers(a),J(s),n&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)):this.destroyRowComps(e,t),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){I(this.rowContainers,(function(e,t){t&&t.flushRowTemplates()})),e.forEach((function(e){return e.afterFlush()}))},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];I(this.rowCompsByIndex,(function(t,n){if(n.isFullWidth()){var r=n.getRowNode().rowIndex;e.push(r.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(e){var t=[],n=!!e,r=n?{}:void 0;n&&r&&e.forEach((function(e){return r[e.id]=!0})),I(this.rowCompsByIndex,(function(e,o){if(o.isFullWidth()){var i=o.getRowNode();if(n&&r){var s=i.level>0&&i.parent?i.parent.id:void 0;if(!r[i.id]&&!r[s])return}if(!o.refreshFullWidth()){var a=o.getRowNode().rowIndex;t.push(a.toString())}}})),this.removeRowComps(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,n,o){var i=null,s=this.rowCompsByIndex[e];if(s||r(i=this.paginationProxy.getRow(e))&&r(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null),!s){if(i||(i=this.paginationProxy.getRow(e)),!r(i))return;s=this.createRowComp(i,n,o)}else s&&s.ensureDomOrder();return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[e]=s,s},t.prototype.destroyRowComps=function(e,t){var n=[];I(e,(function(e,r){r&&(r.destroy(t),S(n,r.getAndClearDelayedDestroyFunctions()))})),X(n)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){e.$scope.$apply()}),0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var r=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getCurrentPagePixelRange(),i=o.pageFirstPixel,s=o.pageLastPixel,a=this.maxDivHeightScaler.getOffset(),u=this.gridPanel.getVScrollPosition(),l=u.top,c=u.bottom,p=this.gridOptionsWrapper.getRowBufferInPixels(),h=Math.max(l+r-p,i)+a,d=Math.min(c+r+p,s)+a;this.ensureAllRowsInRangeHaveHeightsCalculated(h,d);var f=this.paginationProxy.getRowIndexAtPixel(h),g=this.paginationProxy.getRowIndexAtPixel(d),v=this.paginationProxy.getPageFirstRow(),y=this.paginationProxy.getPageLastRow();f<v&&(f=v),g>y&&(g=y),e=f,t=g}else e=0,t=-1;var m=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL,w=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),C=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);m&&!w&&t-e>C&&(t=e+C);var b=e!==this.firstRenderedRow,E=t!==this.lastRenderedRow;if(b||E){this.firstRenderedRow=e,this.lastRenderedRow=t;var S={type:Ue.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(S)}if(this.paginationProxy.isRowsToRender()){var O={type:Ue.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return n.eventService.dispatchEventOnce(O)}),50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=e.getRowNode(),n=this.focusController.isRowNodeFocused(t),r=e.isEditing(),o=t.detail;return!!(n||r||o)&&!!this.paginationProxy.isRowPresent(t)},t.prototype.createRowComp=function(e,t,n){var r=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=n&&!r&&!this.printLayout,i=new Js(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,o,this.printLayout,this.embedFullWidthRows);return i.init(),i},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.navigateToNextCell=function(e,t,n,i){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsWrapper.isEnableRtl()?t===eo.LEFT&&(s=this.getLastCellOfColSpan(s)):t===eo.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=o(s=this.cellNavigationService.getNextCellToFocus(t,s));if(a&&e&&e.keyCode===eo.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){var u=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(r(u)){var l=u({key:t,previousCellPosition:n,nextCellPosition:s||null,event:e});r(l)?(l.floating&&(Y((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),l.rowPinned=l.floating),s={rowPinned:l.rowPinned,rowIndex:l.rowIndex,column:l.column}):s=null}}if(s)if(s.rowIndex<0){var c=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:c+s.rowIndex,column:n.column})}else{var p=this.getNormalisedPosition(s);p?this.focusPosition(p):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var t=this.getComponentForCell(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,t){void 0===t&&(t=!1);var n=this.columnController.getAllDisplayedColumns(),r=this.getRowCompByPosition(e);if(!r||!r.isFullWidth())return!1;var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?g(n):n[0])};return this.focusPosition(o),!0},t.prototype.focusPosition=function(e){this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var n=t.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:g(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){o(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,n){var r=this.getComponentForCell(e);r&&r.startRowOrCellEdit(t,n)},t.prototype.getRowCompByPosition=function(e){var t;switch(e.rowPinned){case ye.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case ye.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t},t.prototype.getComponentForCell=function(e){var t=this.getRowCompByPosition(e);return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){var n=t.shiftKey;if(this.moveToCellAfter(e,n))t.preventDefault();else if(n){var r=e.getRowPosition(),o=r.rowIndex;if(r.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow()){t.preventDefault();var i=this.beans.headerNavigationService.getHeaderRowCount()-1,s=g(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:i,column:s})}}else e instanceof Ys&&e.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&t.preventDefault()},t.prototype.tabToNextCell=function(e){var t=this.focusController.getFocusedCell();if(o(t))return!1;var n=this.getComponentForCell(t);return!!(!o(n)||(n=this.getRowCompByPosition(t))&&n.isFullWidth())&&this.moveToCellAfter(n,e)},t.prototype.moveToCellAfter=function(e,t){return(e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t))||!!this.focusController.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t){var n=e.getCellPosition();e.stopEditing();var o=this.findNextCellToFocusOn(n,t,!0),i=r(o);return i&&o&&(o.startEditingIfEnabled(null,null,!0),o.focusCell(!1)),i},t.prototype.moveToNextEditingRow=function(e,t){var n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0),i=r(o);return i&&o&&this.moveEditToNextCellOrRow(e,o),i},t.prototype.moveToNextCellNotEditing=function(e,t){var n,o=this.columnController.getAllDisplayedColumns();n=e instanceof Js?ea(ea({},e.getRowPosition()),{column:t?o[0]:g(o)}):e.getCellPosition();var i=this.findNextCellToFocusOn(n,t,!1);if(i instanceof Ys)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return r(i)},t.prototype.moveEditToNextCellOrRow=function(e,t){var n=e.getCellPosition(),r=t.getCellPosition();if(r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var o=e.getRenderedRow(),i=t.getRenderedRow();e.setFocusOutOnEditor(),o.stopEditing(),i.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,n){for(var o=e;;){t||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,t);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(r(i)){var s=i({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:o||null});r(s)?(s.floating&&(Y((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var a=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:a+o.rowIndex,column:o.column}),null}if(n){var u=this.lookupRowNodeForCell(o);if(!(u&&o.column.isCellEditable(u)))continue}this.ensureCellVisible(o);var l=this.getComponentForCell(o);if(l){if(!l.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(o),l}else{var c=this.getRowCompByPosition(o);if(c&&c.isFullWidth())return c}}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ye.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ye.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.isRangeInRenderedViewport=function(e,t){if(null==e||null==t)return!1;var n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n},ta([ue("paginationProxy")],t.prototype,"paginationProxy",void 0),ta([ue("columnController")],t.prototype,"columnController",void 0),ta([ue("$scope")],t.prototype,"$scope",void 0),ta([ue("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ta([ue("rowModel")],t.prototype,"rowModel",void 0),ta([ue("focusController")],t.prototype,"focusController",void 0),ta([ue("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ta([ue("columnApi")],t.prototype,"columnApi",void 0),ta([ue("gridApi")],t.prototype,"gridApi",void 0),ta([ue("beans")],t.prototype,"beans",void 0),ta([ue("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),ta([ue("animationFrameService")],t.prototype,"animationFrameService",void 0),ta([ue("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ta([le("rangeController")],t.prototype,"rangeController",void 0),ta([na(0,pe("loggerFactory"))],t.prototype,"agWire",null),t=ta([ae("rowRenderer")],t)}(Ve),oa=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,n,r,i){o(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,n,r,i)},e.addToolPanelClassesFromColDef=function(e,t,n,r,i){o(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,n,r,i)},e.addColumnClassesFromCollDef=function(e,t,n,r,i,s){if(!o(e)){var a;if("function"===typeof e)a=e({colDef:t,column:i,columnGroup:s,context:r.getContext(),api:r.getApi()});else a=e;"string"===typeof a?Ut(n,a):Array.isArray(a)&&a.forEach((function(e){Ut(n,e)}))}},e}(),ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},aa=function(e){function t(t,n){var r=e.call(this)||this;return r.columns=t,r.element=n,r}return ia(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},sa([ue("columnHoverService")],t.prototype,"columnHoverService",void 0),sa([ie],t.prototype,"postConstruct",null),t}(Ve),ua=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),la=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ca=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.columnOrGroup=t,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=o,i.beans=r,i.printLayout=r.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,i}return ua(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Ce.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.printLayout&&this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=r(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===t&&e.setLeft(t)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){if(!this.printLayout)return t;if(e.getPinned()===ye.PINNED_LEFT)return t;var n=this.beans.columnController.getDisplayedColumnsLeftWidth();return e.getPinned()===ye.PINNED_RIGHT?n+this.beans.columnController.getBodyContainerWidth()+t:n+t},t.prototype.setLeft=function(e){var t;if(r(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof Ce)t=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&tr(this.ariaEl,n.length),t=n[0]}var o=this.beans.columnController.getAriaColumnIndex(t);er(this.ariaEl,o)},la([ie],t.prototype,"postConstruct",null),t}(Ve),pa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ha=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},da=function(e){function t(t,n){var r=e.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.label="",r.config=t||{},r}return pa(t,e),t.prototype.postConstruct=function(){Ut(this.getGui(),"ag-labeled"),Ut(this.eLabel,"ag-label");var e=this.config,t=e.labelSeparator,n=e.label,r=e.labelWidth,o=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=n&&this.setLabel(n),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){un(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Ut(this.eLabel,"ag-hidden"),this.eLabel.setAttribute("role","presentation")):(zt(this.eLabel,"ag-hidden"),this.eLabel.removeAttribute("role"))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return qt(t,"ag-label-align-left","left"===e),qt(t,"ag-label-align-right","right"===e),qt(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||bn(this.eLabel,e),this},ha([ie],t.prototype,"postConstruct",null),t}(zr),fa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ga=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.className=r,o.disabled=!1,o}return fa(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.className&&Ut(this.getGui(),this.className)},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,t.EVENT_CHANGED,(function(){return e(n.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return En(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e||(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return Xt(t,e),qt(t,"ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(da),va=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ya=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ma=function(e){function t(t,n,r,o){void 0===r&&(r="text"),void 0===o&&(o="input");var i=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return i.inputType=r,i.displayFieldTag=o,i}return va(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),Ut(this.eLabel,this.className+"-label"),Ut(this.eWrapper,this.className+"-input-wrapper"),Ut(this.eInput,this.className+"-input"),Ut(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,n=t.width,r=t.value;null!=n&&this.setWidth(n),null!=r&&this.setValue(r),this.addInputListeners()},t.prototype.refreshLabel=function(){r(this.getLabel())?Bn(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){return e.setValue(t.target.value)}))},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return bn(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Dn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Wn(this.eInput,e),this},t.prototype.setDisabled=function(t){return Xt(this.eInput,t),e.prototype.setDisabled.call(this,t)},ya([Yr("eLabel")],t.prototype,"eLabel",void 0),ya([Yr("eWrapper")],t.prototype,"eWrapper",void 0),ya([Yr("eInput")],t.prototype,"eInput",void 0),t}(ga),wa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(e){function t(t,n,r){void 0===n&&(n="ag-checkbox"),void 0===r&&(r="checkbox");var o=e.call(this,t,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return wa(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){qt(this.eWrapper,"ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return qt(this.eWrapper,"ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,r){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:n,event:r});var o=this.getInputElement(),i={type:Ue.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n};this.eventService.dispatchEvent(i)},t.prototype.onCheckboxClick=function(e){if(!this.passive){var t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}},t.prototype.refreshSelectedClass=function(e){qt(this.eWrapper,"ag-checked",!0===e),qt(this.eWrapper,"ag-indeterminate",null==e)},t}(ma),ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Sa=function(e){function t(t,n){var r=e.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.cbSelectAll=t,r.column=n;var o=n.getColDef();return r.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,r}return ba(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ca.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},t.prototype.refreshHeaderAriaDescribedBy=function(e){var t=this.cbSelectAll.getParentComponent(),n=t&&t.getGui();if(n&&cn(n)){var r="";n&&(r=Hn(n));var o=this.cbSelectAll.getInputElement().id,i=-1!==r.indexOf(o);e?i||Un(n,o+" "+r.trim()):i&&Un(n,r.trim().split(" ").filter((function(e){return e===o})).join(" "))}},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(n+" ("+t+")")},t.prototype.getSelectionCount=function(){var e=this,t=0,n=0,r=function(r){e.gridOptionsWrapper.isGroupSelectsChildren()&&r.group||(r.isSelected()?t++:r.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:n,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ye.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;"function"===typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi}));return!!e&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),!1))},Ea([ue("gridApi")],t.prototype,"gridApi",void 0),Ea([ue("columnApi")],t.prototype,"columnApi",void 0),Ea([ue("rowModel")],t.prototype,"rowModel",void 0),Ea([ue("selectionController")],t.prototype,"selectionController",void 0),Ea([ie],t.prototype,"postConstruct",null),t}(Ve),Oa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oa(t,e),t.prototype.shouldStopEventPropagation=function(e){var t=this.focusController.getFocusedHeader(),n=t.headerRowIndex,r=t.column;return Sr(this.gridOptionsWrapper,e,n,r)},t.prototype.getColumn=function(){return this.column},t.prototype.getPinned=function(){return this.pinned},t}(lo),Ra=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ta=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Aa=function(e){function n(t,r){var o=e.call(this,n.TEMPLATE)||this;return o.headerCompVersion=0,o.refreshFunctions=[],o.column=t,o.pinned=r,o}return Ra(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new aa([this.column],this.getGui())),this.addManagedListener(this.column,Ce.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new Sa(this.cbSelectAll,this.column)),this.cbSelectAll.setParentComponent(this),this.createManagedBean(new ca(this.column,this.getGui(),this.beans)),this.addAttributes(),oa.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.appendHeaderComp()},n.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},n.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},n.prototype.onColumnValueChanged=function(){this.checkDisplayName()},n.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},n.prototype.updateState=function(){var e=this.column.getColDef();this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},n.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},n.prototype.onNewColumnsLoaded=function(){var e=this.columnController.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},n.prototype.refresh=function(){this.updateState();var e=this.column.getColDef();if(!(this.colDefHeaderComponent!=e.headerComponent||this.colDefHeaderComponentFramework!=e.headerComponentFramework)&&this.attemptHeaderCompRefresh()){var t=this.draggable&&!this.moveDragSource,n=!this.draggable&&this.moveDragSource;(t||n)&&this.attachDraggingToHeaderComp()}else this.appendHeaderComp();this.refreshFunctions.forEach((function(e){return e()}))},n.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},n.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},n.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var e=this.createParams(),t=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",e);return this.headerComp.refresh(t)},n.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},n.prototype.setActiveHeader=function(e){qt(this.getGui(),"ag-header-active",e)},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},n.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},n.prototype.handleKeyDown=function(e){var t=this.headerComp;if(t){if(e.keyCode===eo.SPACE){var n=this.cbSelectAll;n.isDisplayed()&&!n.getGui().contains(document.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))}if(e.keyCode===eo.ENTER)if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){var r=e.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},n.prototype.onTabKeyDown=function(){},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);qt(this.getGui(),"ag-column-hover",e)},n.prototype.setupSortableClass=function(){var e=this,t=this.getGui(),n=function(){qt(t,"ag-header-cell-sortable",!!e.sortable)},r=function(){e.sortable?nr(t,Vn(e.column)):rr(t)};n(),r(),this.refreshFunctions.push(n),this.refreshFunctions.push(r),this.addManagedListener(this.column,Ce.EVENT_SORT_CHANGED,r.bind(this))},n.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();qt(this.getGui(),"ag-header-cell-filtered",e)},n.prototype.appendHeaderComp=function(){this.headerCompVersion++;var e=this.column.getColDef();this.colDefHeaderComponent=e.headerComponent,this.colDefHeaderComponentFramework=e.headerComponentFramework;var t=this.createParams(),n=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(t).then(n)},n.prototype.createParams=function(){var e=this,t=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,n){e.sortController.setSortForColumn(e.column,t,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},n.prototype.afterHeaderCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(t)},n.prototype.onColumnMovingChanged=function(){this.column.isMoving()?Ut(this.getGui(),"ag-header-cell-moving"):zt(this.getGui(),"ag-header-cell-moving")},n.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!!(!this.gridOptionsWrapper.isSuppressMovableColumns()&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},n.prototype.attachDraggingToHeaderComp=function(){var e=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:t.DragSourceType.HeaderCell,eElement:this.headerCompGui,defaultIconName:ws.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},n.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},n.prototype.setupResize=function(){var e,t,n=this,r=this.getComponentHolder(),o=[],i=function(){o.forEach((function(e){return e()})),o.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsWrapper.isSuppressAutoSize()&&!r.suppressAutoSize;(s!==e||a!==t)&&(e=s,t=a,i(),function(){if(Qt(n.eResize,e),e){var r=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(r),t){var i=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){n.columnController.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new So(n.eResize);a.addEventListener(So.EVENT_DOUBLE_TAP,s),n.addDestroyFunc((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(So.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(i),this.refreshFunctions.push(s)},n.prototype.onResizing=function(e,t){var n=this.normaliseResizeAmount(t),r=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnController.setColumnWidths(r,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&zt(this.getGui(),"ag-column-resizing")},n.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,Ut(this.getGui(),"ag-column-resizing")},n.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="header",t.colDef=this.column.getColDef(),t},n.prototype.setupTooltip=function(){var e=this,t=function(){var t=e.column.getColDef().headerTooltip;e.setTooltip(t)};t(),this.refreshFunctions.push(t)},n.prototype.setupMovingCss=function(){this.addManagedListener(this.column,Ce.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},n.prototype.setupWidth=function(){this.addManagedListener(this.column,Ce.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.setupMenuClass=function(){this.addManagedListener(this.column,Ce.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},n.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ye.PINNED_LEFT&&(t*=-1):this.pinned===ye.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',Ta([ue("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Ta([ue("columnController")],n.prototype,"columnController",void 0),Ta([ue("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),Ta([ue("menuFactory")],n.prototype,"menuFactory",void 0),Ta([ue("gridApi")],n.prototype,"gridApi",void 0),Ta([ue("columnApi")],n.prototype,"columnApi",void 0),Ta([ue("sortController")],n.prototype,"sortController",void 0),Ta([ue("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Ta([ue("columnHoverService")],n.prototype,"columnHoverService",void 0),Ta([ue("beans")],n.prototype,"beans",void 0),Ta([Yr("eResize")],n.prototype,"eResize",void 0),Ta([Yr("cbSelectAll")],n.prototype,"cbSelectAll",void 0),Ta([se],n.prototype,"destroyHeaderComp",null),n}(_a),Pa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ia=function(e){function n(t,r){var o=e.call(this,n.TEMPLATE)||this;return o.removeChildListenersFuncs=[],o.column=t,o.pinned=r,o}return Pa(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),oa.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var t=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new aa(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new ca(this.column,this.getGui(),this.beans))},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},n.prototype.handleKeyDown=function(e){var t=document.activeElement===this.getGui();if(this.expandable&&t&&e.keyCode===eo.ENTER){var n=this.getColumn(),r=!n.isExpanded();this.columnController.setColumnGroupOpened(n.getOriginalColumnGroup(),r,"uiColumnExpanded")}},n.prototype.onTabKeyDown=function(){},n.prototype.setupExpandable=function(){var e=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Se.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Se.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},n.prototype.refreshExpanded=function(){var e=this.getColumn(),t=this.getGui(),n=e.isExpandable(),r=e.isExpanded();this.expandable=n,n?qn(t,r):t.removeAttribute("aria-expanded")},n.prototype.setupMovingCss=function(){var e=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(t){e.addManagedListener(t,Ce.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))})),this.onColumnMovingChanged()},n.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},n.prototype.getTooltipParams=function(){var t=e.prototype.getTooltipParams.call(this);return t.location="headerGroup",t.colDef=this.getComponentHolder(),t.column=this.getColumn(),t},n.prototype.setupTooltip=function(){var e=this.getComponentHolder(),t=e&&e.headerTooltip;null!=t&&this.setTooltip(t)},n.prototype.onColumnMovingChanged=function(){qt(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},n.prototype.appendHeaderGroupComp=function(e){var t=this,n={displayName:e,columnGroup:this.column,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.column.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var r=this.column,o=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===o.length;)r=r.getParent();var i=r.getColGroupDef();i&&(e=i.headerName),e||(e=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},n.prototype.afterHeaderCompCreated=function(e,t){var n=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc((function(){n.getContext().destroyBean(t)})),this.setupMove(t.getGui(),e)},n.prototype.addClasses=function(){var e=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+e+"-group")},n.prototype.setupMove=function(e,n){var r=this;if(e&&!this.isSuppressMoving()){var o=this.column.getOriginalColumnGroup().getLeafColumns(),i={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:ws.ICON_HIDE,dragItemName:n,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return o.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(i)}))}},n.prototype.getDragItemForGroup=function(){var e=this.column.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var n=[];return this.columnController.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(n.push(t),m(e,t))})),e.forEach((function(e){return n.push(e)})),{columns:n,visibleState:t}},n.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)})),e||this.gridOptionsWrapper.isSuppressMovableColumns()},n.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,Ee.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},n.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},n.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(n){n.addEventListener(Ce.EVENT_WIDTH_CHANGED,t),n.addEventListener(Ce.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push((function(){n.removeEventListener(Ce.EVENT_WIDTH_CHANGED,t),n.removeEventListener(Ce.EVENT_VISIBLE_CHANGED,t)}))}))},n.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]},n.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(t){var r=[];e.column.getDisplayedLeafColumns().forEach((function(e){e.getColDef().suppressAutoSize||r.push(e.getColId())})),r.length>0&&e.columnController.autoSizeColumns(r,n,"uiColumnResized")}))}}else ln(this.eHeaderCellResize)},n.prototype.onResizeStart=function(e){var t=this,n=this.column.getDisplayedLeafColumns();this.resizeCols=n.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}));var r=null;if(e&&(r=this.columnController.getDisplayedGroupAfter(this.column)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;Ut(this.getGui(),"ag-column-resizing")},n.prototype.onResizing=function(e,t){var n=[],r=this.normaliseDragChange(t);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+r}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r}),this.columnController.resizeColumnSets(n,e,"uiColumnDragged"),e&&zt(this.getGui(),"ag-column-resizing")},n.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ye.PINNED_LEFT&&(t*=-1):this.pinned===ye.PINNED_RIGHT&&(t*=-1),t},n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Da([ue("columnController")],n.prototype,"columnController",void 0),Da([ue("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),Da([ue("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Da([ue("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Da([ue("beans")],n.prototype,"beans",void 0),Da([ue("gridApi")],n.prototype,"gridApi",void 0),Da([ue("columnApi")],n.prototype,"columnApi",void 0),n}(_a),Na=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xa=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Na(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+n("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var r=n.getModelAsString(e);t.eFloatingFilterText.setValue(r)}})):this.eFloatingFilterText.setValue("")},La([Yr("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),La([ue("columnController")],t.prototype,"columnController",void 0),t}(zr),Fa=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Ma=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ga=function(e){function n(t,r){var o=e.call(this,n.TEMPLATE)||this;return o.column=t,o.pinned=r,o}return Ma(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new aa([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},n.prototype.onTabKeyDown=function(e){var t=document.activeElement,n=this.getGui();if(!(t===n)){e.preventDefault();var r=this.focusController.findNextFocusableElement(n,null,e.shiftKey);r?r.focus():n.focus()}},n.prototype.handleKeyDown=function(e){var t=document.activeElement,n=this.getGui(),r=t===n;switch(e.keyCode){case eo.UP:case eo.DOWN:r||e.preventDefault();case eo.LEFT:case eo.RIGHT:if(r)return;e.stopPropagation();case eo.ENTER:r&&this.focusController.focusInto(n)&&e.preventDefault();break;case eo.ESCAPE:r||this.getGui().focus()}},n.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},n.prototype.setupFloatingFilter=function(){var e=this,t=this.column.getColDef();t.filter&&t.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(t){t&&(e.setupWithFloatingFilter(t),e.setupSyncWithFilter())})))},n.prototype.setupLeftPositioning=function(){var e=new ca(this.column,this.getGui(),this.beans);this.createManagedBean(e)},n.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){e.onParentModelChanged(e.currentParentModel(),t)};this.addManagedListener(this.column,Ce.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},n.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"filterMenuTab",["filterMenuTab"])},n.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){qt(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},n.prototype.setupWidth=function(){this.addManagedListener(this.column,Ce.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupWithFloatingFilter=function(e){var t=this,n=function(){t.getContext().destroyBean(e)};if(this.isAlive()){this.addDestroyFunc(n);var r=e.getGui();qt(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),qt(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),Qt(this.eButtonWrapper,!this.suppressFilterButton);var o=mr("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(o),this.eFloatingFilterBody.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}else n()},n.prototype.parentFilterInstance=function(e){var t=this.getFilterComponent();t&&t.then(e)},n.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},n.getDefaultFloatingFilterType=function(e){if(null==e)return null;var n=null;if("string"===typeof e.filter)n=Fa.getFloatingFilterType(e.filter);else if(e.filterFramework);else if(!0===e.filter){n=me.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}return n},n.prototype.getFloatingFilterInstance=function(){var e=this.column.getColDef(),t=n.getDefaultFloatingFilterType(e),r=this.filterManager.createFilterParams(this.column,e),o=this.userComponentFactory.createFinalParams(e,"filter",r),i={api:this.gridApi,column:this.column,filterParams:o,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(e,i,t);if(!s){var a=this.getFilterComponentPrototype(e);if(a&&a.prototype&&a.prototype.getModelAsString){var u=this.userComponentFactory.createUserComponentFromConcreteClass(xa,i);s=Mr.resolve(u)}}return s},n.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},n.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},n.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,(function(e){return e&&e.getModel()})):null},n.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(n){return n&&n.onParentModelChanged(e,t)}))},n.prototype.onFloatingFilterChanged=function(){console.warn("AG Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',ka([ue("columnHoverService")],n.prototype,"columnHoverService",void 0),ka([ue("userComponentFactory")],n.prototype,"userComponentFactory",void 0),ka([ue("gridApi")],n.prototype,"gridApi",void 0),ka([ue("columnApi")],n.prototype,"columnApi",void 0),ka([ue("filterManager")],n.prototype,"filterManager",void 0),ka([ue("menuFactory")],n.prototype,"menuFactory",void 0),ka([ue("beans")],n.prototype,"beans",void 0),ka([Yr("eFloatingFilterBody")],n.prototype,"eFloatingFilterBody",void 0),ka([Yr("eButtonWrapper")],n.prototype,"eButtonWrapper",void 0),ka([Yr("eButtonShowMainFilter")],n.prototype,"eButtonShowMainFilter",void 0),n}(_a),Va=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ja=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER"}(ms||(ms={}));var Ha,Wa=function(e){function t(t,n,r){var o=e.call(this,'<div class="ag-header-row" role="row"></div>')||this;o.headerComps={},o.setRowIndex(t),o.type=n,o.pinned=r;var i=ms[n].toLowerCase().replace(/_/g,"-");return o.addCssClass("ag-header-row-"+i),Lt()&&(o.getGui().style.transform="translateZ(0)"),o}return Va(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach((function(n){e(t.headerComps[n])}))},t.prototype.setRowIndex=function(e){this.dept=e,Jn(this.getGui(),e+1)},t.prototype.getRowIndex=function(){return this.dept},t.prototype.getType=function(){return this.type},t.prototype.destroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.destroyChildComponents=function(e){var t=this;e.forEach((function(e){var n=t.headerComps[e];t.getGui().removeChild(n.getGui()),t.destroyBean(n),delete t.headerComps[e]}))},t.prototype.onRowHeightChanged=function(){var e,t,n=this.columnController.getHeaderRowCount(),r=[],o=0;this.columnController.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(n++,o=1),e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var i=n-(1+o),s=0;s<i;s++)r.push(e);r.push(t);for(s=0;s<o;s++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=r[s];this.getGui().style.top=a+"px",this.getGui().style.height=r[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,is.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT?o(this.pinned)?this.columnController.getContainerWidth(ye.PINNED_RIGHT)+this.columnController.getContainerWidth(ye.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var t=[],n=this.getActualDepth();return[ye.PINNED_LEFT,null,ye.PINNED_RIGHT].forEach((function(r){var o=e.columnController.getVirtualHeaderGroupRow(r,n);t=t.concat(o)})),t},t.prototype.getActualDepth=function(){return this.type==ms.FLOATING_FILTER?this.dept-1:this.dept},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),n=[];this.getColumnsInViewport().forEach((function(r){if(!r.isEmptyGroup()){var o=r.getUniqueId(),i=e.getGui(),s=e.headerComps[o];if(s&&s.getColumn()!=r&&(e.destroyChildComponents([o]),m(t,o),s=void 0),s)m(t,o);else{var a=e.createHeaderComp(r);e.headerComps[o]=a,i.appendChild(a.getGui())}n.push(o)}}));if(t.filter((function(t){var n=e.headerComps[t];return!!e.focusController.isHeaderWrapperFocused(n)&&e.columnController.isDisplayed(n.getColumn())})).forEach((function(e){m(t,e),n.push(e)})),this.destroyChildComponents(t),this.gridOptionsWrapper.isEnsureDomOrder()){var r=n.map((function(t){return e.headerComps[t].getGui()}));vn(this.getGui(),r)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case ms.COLUMN_GROUP:t=new Ia(e,this.pinned);break;case ms.FLOATING_FILTER:t=new Ga(e,this.pinned);break;default:t=new Aa(e,this.pinned)}return this.createBean(t),t.setParentComponent(this),t},t.prototype.getHeaderComps=function(){return this.headerComps},ja([ue("columnController")],t.prototype,"columnController",void 0),ja([ue("focusController")],t.prototype,"focusController",void 0),ja([se],t.prototype,"destroyAllChildComponents",null),ja([ie],t.prototype,"init",null),t}(zr),Ba=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ua=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!r(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?ws.ICON_PINNED:ws.ICON_MOVE},e.prototype.onDragEnter=function(e){var n=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var r=e.dragItem.visibleState,o=(n||[]).filter((function(e){return r[e.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem().columns;this.setColumnsVisible(t,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,n){if(void 0===n&&(n="api"),e){var r=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnController.setColumnsVisible(r,t,n)}},e.prototype.setColumnsPinned=function(e,t,n){if(void 0===n&&(n="api"),e){var r=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnController.setColumnsPinned(r,t,n)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e);return this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),n=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var n=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!o(e.hDirection)){var r=this.normaliseX(e.x);t||this.checkCenterForScrolling(r);var i=this.normaliseDirection(e.hDirection),s=e.dragSource.type,a=e.dragSource.getDragItem().columns;a=a.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==n.pinned})),this.attemptMoveColumns(s,a,i,r,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HorizontalDirection.Left:return t.HorizontalDirection.Right;case t.HorizontalDirection.Right:return t.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),n=y(e.map((function(e){return t.indexOf(e)}))),r=n[0];return g(n)-r!==n.length-1?null:r},e.prototype.attemptMoveColumns=function(e,n,r,o,i){var s=r===t.HorizontalDirection.Left,a=r===t.HorizontalDirection.Right,u=n.slice();this.columnController.sortColumnsLikeGridColumns(u);var l=this.calculateValidMoves(u,a,o),c=this.calculateOldIndex(u);if(0!==l.length){var p=l[0],h=null!==c&&!i;if(e==t.DragSourceType.HeaderCell&&(h=null!==c),h){if(s&&p>=c)return;if(a&&p<=c)return}for(var d=0;d<l.length;d++){var f=l[d];if(this.columnController.doesMovePassRules(u,f))return void this.columnController.moveColumns(u,f,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||e.some((function(e){return e.getColDef().suppressMovable})))return[];var r,o=this.columnController.getDisplayedColumns(this.pinned),i=this.columnController.getAllGridColumns(),s=o.filter((function(t){return E(e,t)})),a=o.filter((function(t){return!E(e,t)})),u=i.filter((function(t){return!E(e,t)})),l=0,c=n;if(t){var p=0;s.forEach((function(e){return p+=e.getActualWidth()})),c-=p}if(c>0){for(var h=0;h<a.length;h++){if((c-=a[h].getActualWidth())<0)break;l++}t&&l++}if(l>0){var d=a[l-1];r=u.indexOf(d)+1}else-1===(r=u.indexOf(a[0]))&&(r=0);var f=[r],g=function(e,t){return e-t};if(t){for(var v=r+1,y=i.length-1;v<=y;)f.push(v),v++;f.sort(g)}else{v=r,y=i.length-1;for(var m=i[v];v<=y&&this.isColumnHidden(o,m);)v++,f.push(v),m=i[v];v=r-1;for(;v>=0;)f.push(v),v--;f.sort(g).reverse()}return f},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ws.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ws.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ws.ICON_MOVE))},e.prototype.moveInterval=function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=null;if(this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(e){return!e.getColDef().lockPinned}));if(n.length>0&&(this.dragAndDropService.setGhostIcon(ws.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?ye.PINNED_LEFT:ye.PINNED_RIGHT;this.setColumnsPinned(n,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Ba([ue("loggerFactory")],e.prototype,"loggerFactory",void 0),Ba([ue("columnController")],e.prototype,"columnController",void 0),Ba([ue("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ba([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ba([ie],e.prototype,"init",null),e}(),za=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},qa=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var n=e.dragItem.columns;n&&n.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))}))}},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ws.ICON_PINNED:ws.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},za([ue("columnController")],e.prototype,"columnController",void 0),za([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Ka=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot"}(Ha||(Ha={}));var Qa,$a=function(e){function n(t,n){var r=e.call(this)||this;return r.dropListeners={},r.pinned=t,r.eContainer=n,r}return Ka(n,e),n.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case ye.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case ye.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},n.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},n.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},n.prototype.getContainer=function(){return this.eContainer},n.prototype.init=function(){this.moveColumnController=this.createBean(new Ua(this.pinned,this.eContainer));var e=new qa(this.pinned);this.createBean(e),this.dropListeners[Ha.ColumnMove]=this.moveColumnController,this.dropListeners[Ha.Pivot]=e,this.dragAndDropService.addDropTarget(this)},n.prototype.getIconName=function(){return this.currentDropListener.getIconName()},n.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel?Ha.Pivot:Ha.ColumnMove},n.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},n.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},n.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},n.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Ya([ue("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Ya([ue("columnController")],n.prototype,"columnController",void 0),Ya([ie],n.prototype,"init",null),n}(Ve),Xa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ja=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Za=function(e){function t(t,n,r){var o=e.call(this)||this;return o.groupsRowComps=[],o.eContainer=t,o.pinned=r,o.eViewport=n,o}return Xa(t,e),t.prototype.forEachHeaderElement=function(e){this.groupsRowComps&&this.groupsRowComps.forEach((function(t){return t.forEachHeaderElement(e)})),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(e),this.filtersRowComp&&this.filtersRowComp.forEachHeaderElement(e)},t.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===ye.PINNED_LEFT,t=this.pinned===ye.PINNED_RIGHT,n=this.columnController,r=this.gridOptionsWrapper.isEnableRtl(),o=this.gridOptionsWrapper.getScrollbarWidth();if(e||t){var i=n[e?"getDisplayedColumnsLeftWidth":"getDisplayedColumnsRightWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)&&(i+=o),En(this.eContainer,i)}},t.prototype.getRowComps=function(){var e=[];return this.groupsRowComps&&(e=e.concat(this.groupsRowComps)),this.columnsRowComp&&e.push(this.columnsRowComp),this.filtersRowComp&&e.push(this.filtersRowComp),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.refresh=function(e){void 0===e&&(e=!1),this.refreshRowComps(e)},t.prototype.setupDragAndDrop=function(e){var t=this.eViewport?this.eViewport:this.eContainer,n=new $a(this.pinned,t);this.createManagedBean(n),n.registerGridComp(e)},t.prototype.destroyRowComps=function(e){void 0===e&&(e=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,e||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},t.prototype.destroyRowComp=function(e){e&&(this.destroyBean(e),this.eContainer.removeChild(e.getGui()))},t.prototype.refreshRowComps=function(e){var t=this;void 0===e&&(e=!1);var n=new xr;!function(){var e=t.columnController.getHeaderRowCount()-1;t.groupsRowComps.forEach(t.destroyRowComp.bind(t)),t.groupsRowComps=[];for(var r=0;r<e;r++){var o=t.createBean(new Wa(n.next(),ms.COLUMN_GROUP,t.pinned));t.groupsRowComps.push(o)}}(),function(){var r=n.next();if(t.columnsRowComp){var o=t.columnsRowComp.getRowIndex()!==r;e&&!o||(t.destroyRowComp(t.columnsRowComp),t.columnsRowComp=void 0)}t.columnsRowComp||(t.columnsRowComp=t.createBean(new Wa(r,ms.COLUMN,t.pinned)))}(),function(){var r=function(){t.destroyRowComp(t.filtersRowComp),t.filtersRowComp=void 0};if(!t.columnController.isPivotMode()&&t.columnController.hasFloatingFilters()){var o=n.next();if(t.filtersRowComp){var i=t.filtersRowComp.getRowIndex()!==o;e&&!i||r()}t.filtersRowComp||(t.filtersRowComp=t.createBean(new Wa(o,ms.FLOATING_FILTER,t.pinned)))}else r()}(),this.getRowComps().forEach((function(e){return t.eContainer.appendChild(e.getGui())}))},Ja([ue("columnController")],t.prototype,"columnController",void 0),Ja([ue("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Ja([ie],t.prototype,"init",null),Ja([se],t.prototype,"destroyRowComps",null),t}(Ve),eu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};(Qa=t.HeaderNavigationDirection||(t.HeaderNavigationDirection={}))[Qa.UP=0]="UP",Qa[Qa.DOWN=1]="DOWN",Qa[Qa.LEFT=2]="LEFT",Qa[Qa.RIGHT=3]="RIGHT";var nu,ru=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return eu(n,e),n.prototype.registerGridComp=function(e){this.gridPanel=e},n.prototype.registerHeaderRoot=function(e){this.headerRoot=e},n.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},n.prototype.getHeaderRowType=function(e){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[e].getType()},n.prototype.getHeaderContainer=function(e){return void 0===e&&(e="center"),null===e&&(e="center"),this.headerRoot.getHeaderContainers().get(e)},n.prototype.navigateVertically=function(e,n,r){if(n||(n=this.focusController.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,i=n.column,s=this.getHeaderRowCount(),a=e===t.HeaderNavigationDirection.UP,u=a?o-1:o+1,l=null,c=!1;u<0&&(u=0,l=i,c=!0),u>=s&&(u=-1);var p=this.getHeaderRowType(o);if(!c){if(p===ms.COLUMN_GROUP){var h=i;l=a?i.getParent():h.getDisplayedChildren()[0]}else if(p===ms.FLOATING_FILTER)l=i;else{h=i;l=a?h.getParent():h}if(!l)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:u,column:l},void 0,!1,!0,r)},n.prototype.navigateHorizontally=function(e,n,r){void 0===n&&(n=!1);var o,i,s=this.focusController.getFocusedHeader();return e===t.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?(i="Before",o=this.headerPositionUtils.findHeader(s,i)):(i="After",o=this.headerPositionUtils.findHeader(s,i)),o?this.focusController.focusHeaderPosition(o,i,n,!0,r):!n||this.focusNextHeaderRow(s,i,r)},n.prototype.focusNextHeaderRow=function(e,t,n){var r,o=e.headerRowIndex,i=null;return"Before"===t?o>0&&(r=o-1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=o+1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),this.focusController.focusHeaderPosition(i,t,!0,!0,n)},n.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var n;if(e instanceof Ee){var r=e.getDisplayedLeafColumns();n="Before"===t?g(r):r[0]}else n=e;this.gridPanel.ensureColumnVisible(n),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},tu([ue("focusController")],n.prototype,"focusController",void 0),tu([ue("headerPositionUtils")],n.prototype,"headerPositionUtils",void 0),tu([ue("animationFrameService")],n.prototype,"animationFrameService",void 0),n=tu([ae("headerNavigationService")],n)}(Ve),ou=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.SHIFT="Shift",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.NUM_PAD_DELETE="Del",e.A="a",e.C="c",e.V="v",e.D="d",e.Z="z",e.Y="y",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e}(),iu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},au=function(e){function n(){var t=e.call(this,n.TEMPLATE)||this;return t.headerContainers=new Map,t}return iu(n,e),n.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new Za(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new Za(this.ePinnedLeftHeader,null,ye.PINNED_LEFT),"left"),this.registerHeaderContainer(new Za(this.ePinnedRightHeader,null,ye.PINNED_RIGHT),"right"),this.headerContainers.forEach((function(e){return t.createManagedBean(e)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,is.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},n.prototype.registerGridComp=function(e){this.gridPanel=e,this.headerContainers.forEach((function(t){return t.setupDragAndDrop(e)}))},n.prototype.registerHeaderContainer=function(e,t){this.headerContainers.set(t,e)},n.prototype.onTabKeyDown=function(e){var n=this.gridOptionsWrapper.isEnableRtl(),r=e.shiftKey!==n?t.HeaderNavigationDirection.LEFT:t.HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},n.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case ou.LEFT:n=t.HeaderNavigationDirection.LEFT;case ou.RIGHT:r(n)||(n=t.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case ou.UP:n=t.HeaderNavigationDirection.UP;case ou.DOWN:r(n)||(n=t.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},n.prototype.onFocusOut=function(e){var t=e.relatedTarget,n=this.getGui();!t&&n.contains(document.activeElement)||n.contains(t)||this.focusController.clearFocusedHeader()},n.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},n.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},n.prototype.forEachHeaderElement=function(e){this.headerContainers.forEach((function(t){return t.forEachHeaderElement(e)}))},n.prototype.refreshHeader=function(){this.headerContainers.forEach((function(e){return e.refresh()}))},n.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();qt(this.getGui(),"ag-pivot-on",e),qt(this.getGui(),"ag-pivot-off",!e)},n.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},n.prototype.addPreventHeaderScroll=function(){var e=this;this.addManagedListener(this.eHeaderViewport,"scroll",(function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)}))},n.prototype.getHeaderContainers=function(){return this.headerContainers},n.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},n.prototype.setLeftVisible=function(e){Qt(this.ePinnedLeftHeader,e)},n.prototype.setRightVisible=function(e){Qt(this.ePinnedRightHeader,e)},n.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',su([Yr("ePinnedLeftHeader")],n.prototype,"ePinnedLeftHeader",void 0),su([Yr("ePinnedRightHeader")],n.prototype,"ePinnedRightHeader",void 0),su([Yr("eHeaderContainer")],n.prototype,"eHeaderContainer",void 0),su([Yr("eHeaderViewport")],n.prototype,"eHeaderViewport",void 0),su([ue("columnController")],n.prototype,"columnController",void 0),su([ue("gridApi")],n.prototype,"gridApi",void 0),su([ue("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),su([ue("headerNavigationService")],n.prototype,"headerNavigationService",void 0),n}(lo),uu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(){return(lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pu=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.allAdvancedFilters=new Map,t.activeAdvancedFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var o;return uu(n,e),o=n,n.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},n.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},n.prototype.setFilterModel=function(e){var t=this,n=[];if(e){var r=Pr(Object.keys(e));this.allAdvancedFilters.forEach((function(o,i){var s=e[i];n.push(t.setModelOnFilterWrapper(o.filterPromise,s)),r.delete(i)})),r.forEach((function(r){var o=t.columnController.getPrimaryColumn(r);if(o){var i=t.getOrCreateFilterWrapper(o,"NO_UI");n.push(t.setModelOnFilterWrapper(i.filterPromise,e[r]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+r)}))}else this.allAdvancedFilters.forEach((function(e){n.push(t.setModelOnFilterWrapper(e.filterPromise,null))}));Mr.all(n).then((function(){return t.onFilterChanged()}))},n.prototype.setModelOnFilterWrapper=function(e,t){return new Mr((function(n){e.then((function(e){"function"!==typeof e.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),n()),(e.setModel(t)||Mr.resolve()).then((function(){return n()}))}))}))},n.prototype.getFilterModel=function(){var e={};return this.allAdvancedFilters.forEach((function(t,n){var o=t.filterPromise.resolveNow(null,(function(e){return e}));if(null==o)return null;if("function"===typeof o.getModel){var i=o.getModel();r(i)&&(e[n]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),e},n.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},n.prototype.updateActiveFilters=function(){var e=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach((function(t){if(t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))){var n=t.filterPromise.resolveNow(null,(function(e){return e}));e.activeAdvancedFilters.push(n)}}))},n.prototype.updateFilterFlagInColumns=function(e,t){this.allAdvancedFilters.forEach((function(n){var r=n.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));n.column.setFilterActive(r,e,t)}))},n.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},n.prototype.doAdvancedFiltersPass=function(e,t){for(var n=e.data,r=0;r<this.activeAdvancedFilters.length;r++){var o=this.activeAdvancedFilters[r];if(null!=o&&o!==t){if("function"!==typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:e,data:n}))return!1}}return!0},n.prototype.parseQuickFilter=function(e){return r(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},n.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},n.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},n.prototype.onFilterChanged=function(e,t){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),this.allAdvancedFilters.forEach((function(t){t.filterPromise.then((function(t){t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var n={type:Ue.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&G(n,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},n.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},n.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},n.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})},n.prototype.doesRowPassQuickFilterNoCache=function(e,t){var n=this;return R(this.columnController.getAllColumnsForQuickFilter(),(function(o){var i=n.getQuickFilterTextForColumn(o,e);return r(i)&&i.indexOf(t)>=0}))},n.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},n.prototype.doesRowPassQuickFilter=function(e){var t=this,n=this.gridOptionsWrapper.isCacheQuickFilter();return _(this.quickFilterParts,(function(r){return n?t.doesRowPassQuickFilterCache(e,r):t.doesRowPassQuickFilterNoCache(e,r)}))},n.prototype.doesRowPassFilter=function(e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e.rowNode))&&!(this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(e.rowNode,e.filterInstanceToSkip)))},n.prototype.getQuickFilterTextForColumn=function(e,t){var n=this.valueService.getValue(e,t,!0),o=e.getColDef();if(o.getQuickFilterText){var i={value:n,node:t,data:t.data,column:e,colDef:o,context:this.gridOptionsWrapper.getContext()};n=o.getQuickFilterText(i)}return r(n)?n.toString().toUpperCase():null},n.prototype.aggregateRowForQuickFilter=function(e){var t=this,n=[];T(this.columnController.getAllColumnsForQuickFilter(),(function(o){var i=t.getQuickFilterTextForColumn(o,e);r(i)&&n.push(i)})),e.quickFilterAggregateText=n.join(o.QUICK_FILTER_SEPARATOR)},n.prototype.onNewRowsLoaded=function(e){this.allAdvancedFilters.forEach((function(e){e.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e),this.updateActiveFilters()},n.prototype.createValueGetter=function(e){var t=this;return function(n){return t.valueService.getValue(e,n,!0)}},n.prototype.getFilterComponent=function(e,t,n){if(void 0===n&&(n=!0),n)return this.getOrCreateFilterWrapper(e,t).filterPromise;var r=this.cachedFilter(e);return r?r.filterPromise:null},n.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},n.prototype.getOrCreateFilterWrapper=function(e,t){var n=this.cachedFilter(e);return n?"NO_UI"!==t&&this.putIntoGui(n,t):(n=this.createFilterWrapper(e,t),this.allAdvancedFilters.set(e.getColId(),n)),n},n.prototype.cachedFilter=function(e){return this.allAdvancedFilters.get(e.getColId())},n.prototype.createFilterInstance=function(e,n){var r,o=this,i=me.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=e.getColDef(),a=lu(lu({},this.createFilterParams(e,s,n)),{filterModifiedCallback:function(){var t={type:Ue.EVENT_FILTER_MODIFIED,api:o.gridApi,columnApi:o.columnApi,column:e,filterInstance:r};o.eventService.dispatchEvent(t)},filterChangedCallback:function(e){return o.onFilterChanged(r,e)},doesRowPassOtherFilter:function(e){return o.doesRowPassOtherFilters(r,e)}}),u=this.userComponentFactory.newFilterComponent(s,a,i);return u&&u.then((function(e){return r=e})),u},n.prototype.createFilterParams=function(e,t,n){void 0===n&&(n=null);var r={api:this.gridOptionsWrapper.getApi(),column:e,colDef:N(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return n&&(r.$scope=n),r},n.prototype.createFilterWrapper=function(e,t){var n={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:Mr.resolve(null)};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(e,n.scope),n.filterPromise&&this.putIntoGui(n,t),n},n.prototype.putIntoGui=function(e,t){var n=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new Mr((function(i){e.filterPromise.then((function(s){var a=s.getGui();if(r(a)||console.warn("getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"===typeof a&&(a=pn(a)),o.appendChild(a),e.scope){var u=n.$compile(o)(e.scope);e.compiledElement=u,window.setTimeout((function(){return e.scope.$apply()}),0)}i(o),n.eventService.dispatchEvent({type:Ue.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:o,api:n.gridApi,columnApi:n.columnApi})}))}))},n.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;this.allAdvancedFilters.forEach((function(n){!e.columnController.getPrimaryColumn(n.column)&&(t=!0,e.disposeFilterWrapper(n,"filterDestroyed"))})),t&&this.onFilterChanged()},n.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var n=this.allAdvancedFilters.get(e.getColId());n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged())},n.prototype.disposeFilterWrapper=function(e,t){var n=this;e.filterPromise.then((function(r){(r.setModel(null)||Mr.resolve()).then((function(){n.getContext().destroyBean(r),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),n.allAdvancedFilters.delete(e.column.getColId())}))}))},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allAdvancedFilters.forEach((function(e){return t.disposeFilterWrapper(e,"filterDestroyed")}))},n.QUICK_FILTER_SEPARATOR="\n",cu([ue("$compile")],n.prototype,"$compile",void 0),cu([ue("$scope")],n.prototype,"$scope",void 0),cu([ue("valueService")],n.prototype,"valueService",void 0),cu([ue("columnController")],n.prototype,"columnController",void 0),cu([ue("rowModel")],n.prototype,"rowModel",void 0),cu([ue("columnApi")],n.prototype,"columnApi",void 0),cu([ue("gridApi")],n.prototype,"gridApi",void 0),cu([ue("userComponentFactory")],n.prototype,"userComponentFactory",void 0),cu([ie],n.prototype,"init",null),cu([se],n.prototype,"destroy",null),n=o=cu([ae("filterManager")],n)}(Ve),hu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),du=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},fu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return hu(t,e),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.initialised||this.init(),t){var o,i=e.getColDef(),s=i.field,a=e.getId(),u=t.data,l=t.groupData&&void 0!==t.groupData[a],c=!r&&t.aggData&&void 0!==t.aggData[a];if(n&&i.filterValueGetter?o=this.executeFilterValueGetter(i.filterValueGetter,u,e,t):this.gridOptionsWrapper.isTreeData()&&c?o=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?o=this.executeValueGetter(i.valueGetter,u,e,t):this.gridOptionsWrapper.isTreeData()&&s&&u?o=H(u,s,e.isFieldContainsDots()):l?o=t.groupData[a]:c?o=t.aggData[a]:i.valueGetter?o=this.executeValueGetter(i.valueGetter,u,e,t):s&&u&&(o=H(u,s,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,u,e,t)}if(null==o){var h=this.getOpenedGroup(t,e);if(null!=h)return h}return o}},t.prototype.getOpenedGroup=function(e,t){if(this.gridOptionsWrapper.isShowOpenedGroup()&&t.getColDef().showRowGroup)for(var n=t.getColDef().showRowGroup,r=e.parent;null!=r;){if(r.rowGroupColumn&&(!0===n||n===r.rowGroupColumn.getId()))return r.key;r=r.parent}},t.prototype.setValue=function(e,t,n,i){var s=this.columnController.getPrimaryColumn(t);if(e&&s){o(e.data)&&(e.data={});var a=s.getColDef(),u=a.field,l=a.newValueHandler,c=a.valueSetter;if(o(u)&&o(l)&&o(c))console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");else{var p,h={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(h.newValue=n,void 0===(p=l&&r(l)?l(h):r(c)?this.expressionService.evaluate(c,h):this.setValueUsingField(e.data,u,n,s.isFieldContainsDots()))&&(p=!0),p){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),h.newValue=this.getValue(s,e);var d=s.getColDef().onCellValueChanged;"function"===typeof d&&setTimeout((function(){return d(h)}),0);var f={type:Ue.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:h.column,api:h.api,columnApi:h.columnApi,colDef:h.colDef,context:h.context,data:e.data,node:e,oldValue:h.oldValue,newValue:h.newValue,value:h.newValue,source:i};this.eventService.dispatchEvent(f)}}}},t.prototype.setValueUsingField=function(e,t,n,r){if(!t)return!1;if(r)for(var o=t.split("."),i=e;o.length>0&&i;){var s=o.shift();0===o.length?i[s]=n:i=i[s]}else e[t]=n;return!0},t.prototype.executeFilterValueGetter=function(e,t,n,r){var o={data:t,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(e,o)},t.prototype.executeValueGetter=function(e,t,n,r){var o=n.getId(),i=this.valueCache.getValue(r,o);if(void 0!==i)return i;var s={data:t,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(r,o,a),a},t.prototype.getValueCallback=function(e,t){var n=this.columnController.getPrimaryColumn(t);return n?this.getValue(n,e):null},t.prototype.getKeyForNode=function(e,t){var n=this.getValue(e,t),r=e.getColDef().keyCreator,o=r?r({value:n}):n;return"string"===typeof o||null==o||"[object Object]"===(o=String(o))&&Y((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},du([ue("expressionService")],t.prototype,"expressionService",void 0),du([ue("columnController")],t.prototype,"columnController",void 0),du([ue("valueCache")],t.prototype,"valueCache",void 0),du([ie],t.prototype,"init",null),t=du([ae("valueService")],t)}(Ve),gu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},vu=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=!!e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(is.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");hn(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(e){return e()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=yn(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(gn(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),Qt(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},gu([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),gu([ie],e.prototype,"postConstruct",null),e}(),yu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(){return(mu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Cu=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},bu=function(e){function n(t,n){var r=e.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=t,r.gridPanel=n,r}return yu(n,e),n.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},n.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},n.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},n.prototype.onRowGroupChanged=function(){var e=this.columnController.getRowGroupColumns();this.isRowGroupActive=!i(e)},n.prototype.getContainer=function(){return this.eContainer},n.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},n.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?ws.ICON_NOT_ALLOWED:ws.ICON_MOVE},n.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},n.prototype.getRowNodes=function(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var t=this.gridOptionsWrapper.isEnableMultiRowDragging(),n=this.selectionController.getSelectedNodes(),r=e.dragItem.rowNode;return t&&-1!==n.indexOf(r)?(this.isMultiRowDrag=!0,Cu(n)):(this.isMultiRowDrag=!1,[r])},n.prototype.onDragEnter=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)},n.prototype.onDragging=function(e){this.onEnterOrDragging(e)},n.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},n.prototype.isDropZoneWithinThisGrid=function(e){var t=this.gridPanel.getGui(),n=e.dropZoneTarget;return!t.contains(n)},n.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},n.prototype.doManagedDrag=function(e,t){var n,r=this,o=this.isFromThisGrid(e);o?(n=[e.dragItem.rowNode],this.isMultiRowDrag&&(n=Cu(this.selectionController.getSelectedNodes()).sort((function(e,t){return r.getRowIndexNumber(e)-r.getRowIndexNumber(t)}))),e.dragItem.rowNodes=n):n=e.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))},n.prototype.getRowIndexNumber=function(e){return parseInt(g(e.getRowIndexString().split("-")),10)},n.prototype.moveRowAndClearHighlight=function(e){var t=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),r=n&&"below"===n.highlighted,o=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes,s=r?1:0;if(this.isFromThisGrid(e))i.forEach((function(e){e.rowTop<o&&(s-=1)})),this.moveRows(i,o,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),u=this.clientSideRowModel.getRowIndexAtPixel(o)+1;"above"===this.clientSideRowModel.getHighlightPosition(o)&&u--,this.clientSideRowModel.updateRowData({add:i.map((function(e){return e.data})).filter((function(e){return!t.clientSideRowModel.getRowNode(a?a(e):e.id)})),addIndex:u})}this.clearRowHighlight()},n.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},n.prototype.moveRows=function(e,t,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},n.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},n.prototype.ensureIntervalCleared=function(){r(this.movingIntervalId)&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},n.prototype.moveInterval=function(){var e;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100);var t=null;this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},n.prototype.addRowDropZone=function(e){var n=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var r={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,r=e):(e.onDragEnter&&(r.onDragEnter=function(t){e.onDragEnter(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(r.onDragLeave=function(t){e.onDragLeave(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(r.onDragging=function(t){e.onDragging(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(r.onDragStop=function(t){e.onDragStop(n.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(mu({isInterestedIn:function(e){return e===t.DragSourceType.RowDrag},getIconName:function(){return ws.ICON_MOVE},external:!0},r))}else Y((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},n.prototype.getRowDropZone=function(e){var t=this,n=this.getContainer.bind(this),r=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(n){r(n),e.onDragEnter(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_ENTER,n))}:r,onDragLeave:e.onDragLeave?function(n){o(n),e.onDragLeave(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_LEAVE,n))}:o,onDragging:e.onDragging?function(n){i(n),e.onDragging(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:e.onDragStop?function(n){s(n),e.onDragStop(t.draggingToRowDragEvent(Ue.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:r,onDragLeave:o,onDragging:i,onDragStop:s,fromGrid:!0}},n.prototype.draggingToRowDragEvent=function(e,n){var r,o=this.mouseEventService.getNormalisedPosition(n).y,i=-1,s=null;switch(o>this.paginationProxy.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(o),s=this.rowModel.getRow(i)),n.vDirection){case t.VerticalDirection.Down:r="down";break;case t.VerticalDirection.Up:r="up";break;default:r=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:i,overNode:s,y:o,vDirection:r}},n.prototype.dispatchGridEvent=function(e,t){var n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)},n.prototype.onDragLeave=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},n.prototype.onDragStop=function(e){this.dispatchGridEvent(Ue.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},n.prototype.stopDragging=function(e){this.ensureIntervalCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))},wu([ue("dragAndDropService")],n.prototype,"dragAndDropService",void 0),wu([ue("rowModel")],n.prototype,"rowModel",void 0),wu([ue("paginationProxy")],n.prototype,"paginationProxy",void 0),wu([ue("columnController")],n.prototype,"columnController",void 0),wu([ue("focusController")],n.prototype,"focusController",void 0),wu([ue("sortController")],n.prototype,"sortController",void 0),wu([ue("filterManager")],n.prototype,"filterManager",void 0),wu([ue("selectionController")],n.prototype,"selectionController",void 0),wu([le("rangeController")],n.prototype,"rangeController",void 0),wu([ue("mouseEventService")],n.prototype,"mouseEventService",void 0),wu([ie],n.prototype,"postConstruct",null),n}(Ve),Eu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ou=function(e){function n(){var t=e.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return t.scrollLeft=-1,t.scrollTop=-1,t.nextScrollTop=-1,t.resetLastHorizontalScrollElementDebounced=ee(t.resetLastHorizontalScrollElement.bind(t),500),t}return Eu(n,e),n.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},n.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},n.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},n.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},n.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay(),this.rowRenderer.forEachCellComp((function(e){return e.onNewColumnsLoaded()}))},n.prototype.init=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.animationFrameService.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&($n(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach((function(t){var n=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc((function(){return n()}))})),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(t){e.addManagedListener(t,"focusin",(function(){Ut(t,"ag-has-focus")})),e.addManagedListener(t,"focusout",(function(e){t.contains(e.relatedTarget)||zt(t,"ag-has-focus")}))}))},n.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},n.prototype.onCenterViewportResized=function(){if(cn(this.eCenterViewport)){this.checkViewportAndScrolls();var e=this.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},n.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},n.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(t){return qt(t,"ag-selectable",e)}))},n.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new bu(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},n.prototype.getRowDragFeature=function(){return this.rowDragFeature},n.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=[this.eBodyViewport,this.eBottom,this.eTop],n=function(n){var r=n.relatedTarget;if(null!==kt(r)){var o=t.some((function(e){return e.contains(r)}));if(!o){var i=e.popupService;o=i.getActivePopups().some((function(e){return e.contains(r)}))||i.isElementWithinCustomPopup(r)}o||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()};t.forEach((function(t){return e.addManagedListener(t,"focusout",n)}))}},n.prototype.addAngularApplyCheck=function(){var e=this,t=!1,n=function(){t||(t=!0,window.setTimeout((function(){t=!1,e.$scope.$apply()}),0))};this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Ue.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},n.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,is.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},n.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!o(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(t){var n={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(n),e.addDestroyFunc((function(){return e.dragService.removeDragSource(n)}))}))},n.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach((function(t){var n=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach((function(r){return e.addManagedListener(r,t,n)}))}))},n.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eAllCellContainers.forEach((function(e){e.addEventListener("touchmove",t,{passive:!1})})),this.addDestroyFunc((function(){e.eAllCellContainers.forEach((function(e){e.removeEventListener("touchmove",t)}))}))},n.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach((function(t){var n=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach((function(r){e.addManagedListener(r,t,n)}))}))},n.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(t){var n=Ne(t);n!==e.eBodyViewport&&n!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null,e.getGui()),e.preventDefaultOnContextMenu(t))}))},n.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},n.prototype.getRowForEvent=function(e){for(var t=Ne(e);t;){var n=this.gridOptionsWrapper.getDomData(t,Js.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;t=t.parentElement}return null},n.prototype.processKeyboardEvent=function(e,t){var n=Ie(this.gridOptionsWrapper,t,"cellComp"),r=Ie(this.gridOptionsWrapper,t,"renderedRow");t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))},n.prototype.processCellKeyboardEvent=function(e,t,n){var r=e.getRenderedRow().getRowNode(),o=e.getColumn(),i=e.isEditing();if(!Er(this.gridOptionsWrapper,n,r,o,i))switch(t){case"keydown":!i&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e);break;case"keypress":e.onKeyPress(n)}if("keydown"===t){var s=e.createEvent(n,Ue.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===t){var a=e.createEvent(n,Ue.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},n.prototype.processFullWidthRowKeyboardEvent=function(e,t,n){var r=e.getRowNode(),o=this.beans.focusController.getFocusedCell(),i=o&&o.column;if(!Er(this.gridOptionsWrapper,n,r,i,!1)){var s=n.key;if("keydown"===t)switch(s){case ou.UP:case ou.DOWN:e.onKeyboardNavigate(n);break;case ou.TAB:e.onTabKeyDown(n)}}},n.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case eo.A:return this.onCtrlAndA(e);case eo.C:return this.onCtrlAndC(e);case eo.V:return this.onCtrlAndV();case eo.D:return this.onCtrlAndD(e);case eo.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case eo.Y:return this.undoRedoService.redo()}},n.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},n.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Pe(t)){var n=this.getRowForEvent(t),r=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?(this.preventDefaultOnContextMenu(t),this.handleContextMenuMouseEvent(t,null,n,r)):(r&&r.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}},n.prototype.mockContextMenuForIPad=function(){var e=this;Mt()&&this.eAllCellContainers.forEach((function(t){var n=new So(t);e.addManagedListener(n,So.EVENT_LONG_TAP,(function(t){var n=e.getRowForEvent(t.touchEvent),r=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,n,r)})),e.addDestroyFunc((function(){return n.destroy()}))}))},n.prototype.handleContextMenuMouseEvent=function(e,t,n,r){var o=n?n.getRowNode():null,i=r?r.getColumn():null,s=null;if(i){var a=e||t;r.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(i,o)}var u=r?r.getGui():this.getGui();this.onContextMenu(e,t,o,i,s,u)},n.prototype.onContextMenu=function(e,t,n,r,o,i){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!e||!e.ctrlKey&&!e.metaKey)&&this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()){var s=e||t.touches[0];if(this.contextMenuFactory.showMenu(n,r,o,s,i))(e||t).preventDefault()}},n.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,n=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===n)&&e.preventDefault()},n.prototype.onCtrlAndA=function(e){var t=this,n=t.pinnedRowModel,r=t.paginationProxy,o=t.rangeController,s=ye.PINNED_BOTTOM,a=ye.PINNED_TOP;if(o&&r.isRowsToRender()){var u=[n.isEmpty(a),n.isEmpty(s)],l=u[0]?null:a,c=void 0,p=void 0;u[1]?(c=null,p=this.paginationProxy.getRowCount()-1):(c=s,p=n.getPinnedBottomRowData().length-1);var h=this.columnController.getAllDisplayedColumns();if(i(h))return;o.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:p,rowEndPinned:c,columnStart:h[0],columnEnd:g(h)})}e.preventDefault()},n.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},n.prototype.onCtrlAndV=function(){me.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},n.prototype.onCtrlAndD=function(e){me.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},n.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=n)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var r,o=this.paginationProxy.getRow(e);do{var i=o.rowTop,s=o.rowHeight,a=this.paginationProxy.getPixelOffset(),u=o.rowTop-a,l=u+o.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),h=c.top+p,d=c.bottom+p,f=d-h,g=this.heightScaler.getScrollPositionForPixel(u),v=this.heightScaler.getScrollPositionForPixel(l-f),y=Math.min((g+v)/2,u),m=null;"top"===t?m=g:"bottom"===t?m=v:"middle"===t?m=y:h>u?m=g:d<l&&(m=v),null!==m&&(this.eBodyViewport.scrollTop=m,this.rowRenderer.redrawAfterScroll()),r=i!==o.rowTop||s!==o.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},n.prototype.getCenterWidth=function(){return tn(this.eCenterViewport)},n.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||wn(this.eCenterViewport)},n.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return qt(this.eBodyViewport,"ag-force-vertical-scroll",e),e||Cn(this.eBodyViewport)},n.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},n.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},n.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},n.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=t?0:n,o=It()&&e;this.eCenterViewport.style.height="calc(100% + "+n+"px)",Sn(this.eHorizontalScrollBody,r),Sn(this.eBodyHorizontalScrollViewport,r+(o?1:0)),Sn(this.eBodyHorizontalScrollContainer,r)},n.prototype.setVerticalScrollPaddingVisible=function(e){var t=e?"scroll":"hidden";this.eTop.style.overflowY=this.eBottom.style.overflowY=t,this.setFakeHScrollSpacerWidths()},n.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.paginationProxy.getType(),n=-1;t===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(n=0,this.paginationProxy.forEachNode((function(e){e.group||n++})));var r=-1===n?-1:e+n;Xn(this.getGui(),r)},n.prototype.updateColumnCount=function(){var e=this.columnController.getAllGridColumns();Zn(this.getGui(),e.length)},n.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var n,r,o=t.getLeft(),i=o+t.getActualWidth(),s=this.getCenterWidth(),a=this.getCenterViewportScrollLeft(),u=this.columnController.getBodyContainerWidth();this.enableRtl?(n=u-a-s,r=u-a):(n=a,r=s+a);var l=n>o,c=r<i,p=s<t.getActualWidth(),h=l||p;if(h||c){var d=void 0;d=this.enableRtl?h?u-s-o:u-i:h?o:i-s,this.setCenterViewportScrollLeft(d)}this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},n.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},n.prototype.sizeColumnsToFit=function(e){var t=this,n=0;this.isVerticalScrollShowing()&&(n=this.gridOptionsWrapper.getScrollbarWidth());var r=tn(this.eBodyViewport)-n;r>0?this.columnController.sizeColumnsToFit(r,"sizeColumnsToFit"):void 0===e?window.setTimeout((function(){t.sizeColumnsToFit(100)}),0):100===e?window.setTimeout((function(){t.sizeColumnsToFit(500)}),100):500===e?window.setTimeout((function(){t.sizeColumnsToFit(-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},n.prototype.getCenterContainer=function(){return this.eCenterContainer},n.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},n.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},n.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},n.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new vu({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new vu({eContainer:this.eFullWidthContainer}),pinnedLeft:new vu({eContainer:this.eLeftContainer}),pinnedRight:new vu({eContainer:this.eRightContainer}),floatingTop:new vu({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new vu({eContainer:this.eLeftTop}),floatingTopPinnedRight:new vu({eContainer:this.eRightTop}),floatingTopFullWidth:new vu({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new vu({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new vu({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new vu({eContainer:this.eRightBottom}),floatingBottomFullWidth:new vu({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},I(this.rowContainerComponents,(function(t,n){n&&e.getContext().createBean(n)}))},n.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();qt(e.eBodyViewport,"ag-row-animation",t),qt(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addManagedListener(this.eventService,Ue.EVENT_HEIGHT_SCALE_CHANGED,t)},n.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addManagedListener(this.eTopViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0})),this.addManagedListener(this.eBottomViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0}))},n.prototype.getRowContainers=function(){return this.rowContainerComponents},n.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},n.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},n.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},n.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},n.prototype.setCenterWidth=function(){var e=this.headerRootComp,t=this.columnController,n=t.getBodyContainerWidth();this.printLayout&&(n+=t.getDisplayedColumnsLeftWidth()+t.getDisplayedColumnsRightWidth());e.setHeaderContainerWidth(n);var r=n+"px";this.eCenterContainer.style.width=r,this.eBottomContainer.style.width=r,this.eTopContainer.style.width=r,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=r)},n.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,n=this.columnController.getDisplayedColumnsLeftWidth(),r=this.pinningLeft=!this.printLayout&&n>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==r&&this.headerRootComp.setLeftVisible(r),o.forEach((function(t){return Qt(t,e.pinningLeft)})),r&&o.forEach((function(e){return En(e,n)}))},n.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getDisplayedColumnsRightWidth(),n=this.pinningRight=!this.printLayout&&t>0,r=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==n&&this.headerRootComp.setRightVisible(n),r.forEach((function(e){return Qt(e,n)})),n&&r.forEach((function(e){return En(e,t)}))},n.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},n.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getDisplayedColumnsRightWidth(),t=!this.enableRtl&&this.isVerticalScrollShowing(),n=this.gridOptionsWrapper.getScrollbarWidth();t&&(e+=n),En(this.eHorizontalRightSpacer,e),qt(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=n);var r=this.columnController.getDisplayedColumnsLeftWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(r+=n),En(this.eHorizontalLeftSpacer,r),qt(this.eHorizontalLeftSpacer,"ag-scroller-corner",r<=n)},n.prototype.checkBodyHeight=function(){var e=en(this.eBodyViewport);if(this.bodyHeight!==e){this.bodyHeight=e;var t={type:Ue.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},n.prototype.setHeaderAndFloatingHeights=function(){var e,t,n,r=this,o=r.columnController,i=r.gridOptionsWrapper,s=r.pinnedRowModel,a=r.eTop,u=r.eBottom,l=0,c=o.getHeaderRowCount();o.isPivotMode()?(t=i.getPivotGroupHeaderHeight(),n=i.getPivotHeaderHeight()):(o.hasFloatingFilters()&&(c++,l=1),t=i.getGroupHeaderHeight(),n=i.getHeaderHeight());var p=c-(1+l);e=l*i.getFloatingFiltersHeight(),e+=p*t,e+=n,this.headerRootComp.setHeight(e);var h=s.getPinnedTopTotalHeight();h&&(h+=1);var d=s.getPinnedBottomTotalHeight();d&&(d+=1);var f=h+"px",g=d+"px";a.style.minHeight=f,a.style.height=f,a.style.display=h?"inherit":"none",u.style.minHeight=g,u.style.height=g,u.style.display=d?"inherit":"none",this.checkBodyHeight()},n.prototype.getBodyHeight=function(){return this.bodyHeight},n.prototype.setHorizontalScrollPosition=function(e){var t=this.eCenterViewport.scrollWidth-this.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=Math.min(Math.max(e,0),t)),this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},n.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},n.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},n.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},n.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var e=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?ee(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",e)},n.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},n.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},n.prototype.shouldBlockScrollUpdate=function(e,t,n){if(void 0===n&&(n=!1),n&&!Mt())return!1;if("vertical"===e){var r=en(this.eBodyViewport),o=this.eBodyViewport.scrollHeight;if(t<0||t+r>o)return!0}if("horizontal"===e){var i=this.getCenterWidth(),s=this.eCenterViewport.scrollWidth;if(this.enableRtl&&on()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+i>s)return!0}return!1},n.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},n.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},n.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.onBodyHorizontalScroll=function(e){var t=this.eCenterViewport.scrollLeft;this.shouldBlockScrollUpdate("horizontal",t,!0)||(this.doHorizontalScroll(Math.floor(sn(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},n.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},n.prototype.doHorizontalScroll=function(e){this.scrollLeft=e;var t={type:Ue.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},n.prototype.redrawRowsAfterScroll=function(){var e={type:Ue.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e)},n.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnController.setViewportPosition(e,t)},n.prototype.getCenterViewportScrollLeft=function(){return sn(this.eCenterViewport,this.enableRtl)},n.prototype.setCenterViewportScrollLeft=function(e){an(this.eCenterViewport,e,this.enableRtl)},n.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e;this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)",an(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,e,this.enableRtl)},n.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},n.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Su([ue("alignedGridsService")],n.prototype,"alignedGridsService",void 0),Su([ue("rowRenderer")],n.prototype,"rowRenderer",void 0),Su([ue("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Su([ue("animationFrameService")],n.prototype,"animationFrameService",void 0),Su([ue("navigationService")],n.prototype,"navigationService",void 0),Su([ue("autoHeightCalculator")],n.prototype,"autoHeightCalculator",void 0),Su([ue("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Su([ue("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),Su([ue("paginationAutoPageSizeService")],n.prototype,"paginationAutoPageSizeService",void 0),Su([ue("beans")],n.prototype,"beans",void 0),Su([ue("paginationProxy")],n.prototype,"paginationProxy",void 0),Su([ue("columnApi")],n.prototype,"columnApi",void 0),Su([ue("gridApi")],n.prototype,"gridApi",void 0),Su([ue("dragService")],n.prototype,"dragService",void 0),Su([ue("mouseEventService")],n.prototype,"mouseEventService",void 0),Su([ue("$scope")],n.prototype,"$scope",void 0),Su([ue("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),Su([ue("valueService")],n.prototype,"valueService",void 0),Su([ue("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Su([ue("maxDivHeightScaler")],n.prototype,"heightScaler",void 0),Su([ue("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Su([ue("undoRedoService")],n.prototype,"undoRedoService",void 0),Su([ue("columnController")],n.prototype,"columnController",void 0),Su([ue("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Su([ue("popupService")],n.prototype,"popupService",void 0),Su([le("rangeController")],n.prototype,"rangeController",void 0),Su([le("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Su([le("menuFactory")],n.prototype,"menuFactory",void 0),Su([le("clipboardService")],n.prototype,"clipboardService",void 0),Su([Yr("eBodyViewport")],n.prototype,"eBodyViewport",void 0),Su([Yr("eCenterContainer")],n.prototype,"eCenterContainer",void 0),Su([Yr("eCenterViewport")],n.prototype,"eCenterViewport",void 0),Su([Yr("eLeftContainer")],n.prototype,"eLeftContainer",void 0),Su([Yr("eRightContainer")],n.prototype,"eRightContainer",void 0),Su([Yr("eCenterColsClipper")],n.prototype,"eCenterColsClipper",void 0),Su([Yr("eHorizontalScrollBody")],n.prototype,"eHorizontalScrollBody",void 0),Su([Yr("eHorizontalLeftSpacer")],n.prototype,"eHorizontalLeftSpacer",void 0),Su([Yr("eHorizontalRightSpacer")],n.prototype,"eHorizontalRightSpacer",void 0),Su([Yr("eBodyHorizontalScrollViewport")],n.prototype,"eBodyHorizontalScrollViewport",void 0),Su([Yr("eBodyHorizontalScrollContainer")],n.prototype,"eBodyHorizontalScrollContainer",void 0),Su([Yr("eFullWidthContainer")],n.prototype,"eFullWidthContainer",void 0),Su([Yr("eTop")],n.prototype,"eTop",void 0),Su([Yr("eLeftTop")],n.prototype,"eLeftTop",void 0),Su([Yr("eRightTop")],n.prototype,"eRightTop",void 0),Su([Yr("eTopContainer")],n.prototype,"eTopContainer",void 0),Su([Yr("eTopViewport")],n.prototype,"eTopViewport",void 0),Su([Yr("eTopFullWidthContainer")],n.prototype,"eTopFullWidthContainer",void 0),Su([Yr("eBottom")],n.prototype,"eBottom",void 0),Su([Yr("eLeftBottom")],n.prototype,"eLeftBottom",void 0),Su([Yr("eRightBottom")],n.prototype,"eRightBottom",void 0),Su([Yr("eBottomContainer")],n.prototype,"eBottomContainer",void 0),Su([Yr("eBottomViewport")],n.prototype,"eBottomViewport",void 0),Su([Yr("eBottomFullWidthContainer")],n.prototype,"eBottomFullWidthContainer",void 0),Su([Yr("headerRoot")],n.prototype,"headerRootComp",void 0),Su([Yr("overlayWrapper")],n.prototype,"overlayWrapper",void 0),Su([ie],n.prototype,"init",null),n}(zr);(nu=t.ClientSideRowModelSteps||(t.ClientSideRowModelSteps={})).EVERYTHING="group",nu.FILTER="filter",nu.SORT="sort",nu.MAP="map",nu.AGGREGATE="aggregate",nu.PIVOT="pivot",nu.NOTHING="nothing";var _u,Ru=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Tu=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case ye.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ye.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ye.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;I(this.detailGridInfoMap,(function(n,o){r(o)&&(e(o,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(me.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){me.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(me.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcel(e)},e.prototype.exportDataAsExcel=function(e){me.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.gridPanel.getGui(),r="aria-"+e;null===t?n.removeAttribute(r):n.setAttribute(r,t)}},e.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ye.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(e);if(!t)return;var n=t[0],r=t[1],o=this.clientSideRowModel.updateRowData(n,r);o&&this.rowRenderer.refreshFullWidthRows(o.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",e)},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,n=0,r=0,o=this;!function i(){var s=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var o=(new Date).getTime(),u=a-s,l=o-a;console.log("duration:  processing = "+u+"ms, reflow = "+l+"ms"),t++,n+=u,r+=l,t<e?window.setTimeout(i,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+n/t+"ms"),console.log("average reflow = "+r/t+"ms"))}),0)}()},e.prototype.refreshView=function(){console.warn("AG Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since AG Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("AG Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("AG Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("AG Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("AG Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){o(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),r(e)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:t.ClientSideRowModelSteps.MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){o(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var n=t.ClientSideRowModelSteps.EVERYTHING,i={group:t.ClientSideRowModelSteps.EVERYTHING,filter:t.ClientSideRowModelSteps.FILTER,map:t.ClientSideRowModelSteps.MAP,aggregate:t.ClientSideRowModelSteps.AGGREGATE,sort:t.ClientSideRowModelSteps.SORT,pivot:t.ClientSideRowModelSteps.PIVOT};if(r(e)&&(n=i[e]),o(n))console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(i).join(", "));else{var s={step:n,keepRenderedRows:!0,animate:!0,keepEditingRows:!0};this.clientSideRowModel.refreshModel(s)}},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,n){"string"!==typeof e&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,n)},e.prototype.addRenderedRowListener=function(e,t,n){"virtualRowSelected"===e&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,n)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,n){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){o(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:t.ClientSideRowModelSteps.AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){o(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e,t){var n=this.columnController.getPrimaryColumn(e);if(n){var r=this.filterManager.getFilterComponent(n,"NO_UI"),o=r&&r.resolveNow(null,(function(e){return e}));return t&&(o?setTimeout(t,0,o):r&&r.then(t)),o}},e.prototype.getFilterApi=function(e){return console.warn("AG Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){console.warn("AG Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var n=[];e&&e.forEach((function(e,t){n.push({colId:e.colId,sort:e.sort,sortIndex:t})})),this.columnController.applyColumnState({state:n,defaultState:{sort:null}})},e.prototype.getSortModel=function(){console.warn("AG Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var e=this.columnController.getColumnState().filter((function(e){return null!=e.sort})),t={};e.forEach((function(e){var n=e.colId,r=e.sortIndex;t[n]=r}));var n=e.map((function(e){return{colId:e.colId,sort:e.sort}}));return n.sort((function(e,n){return t[e.colId]-t[n.colId]})),n},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,n){this.focusController.setFocusedCell(e,t,n,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(is.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(is.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(is.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridPanel.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridPanel.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(is.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(is.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsWrapper.setProperty(is.PROP_FILL_HANDLE_DIRECTION,e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(is.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(is.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(is.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(is.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(is.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){r(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(is.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(is.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var n=this.columnController.getPrimaryColumn(e);return o(n)&&(n=this.columnController.getGridColumn(e)),o(n)?null:this.valueService.getValue(n,t)},e.prototype.addEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,n)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,n)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(W.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},e.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return Xe(e)},e.prototype.addRangeSelection=function(e){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(me.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartModels")&&me.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.createRangeChart=function(e){if(me.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&me.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createCrossFilterChart=function(e){if(me.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&me.assertRegistered(t.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},e.prototype.restoreChart=function(e,n){if(me.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.restoreChart")&&me.assertRegistered(t.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,n)},e.prototype.createPivotChart=function(e){if(me.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&me.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnController.getGridColumn(e);n||(n=this.columnController.getPrimaryColumn(e)),n?this.menuFactory.showMenuAfterMouseEvent(n,t):console.error("AG Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(is.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};o(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(n,e.keyPress,e.charPress)}else console.warn("AG Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyServerSideTransactionAsync=function(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},e.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},e.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},e.prototype.applyTransaction=function(e){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},e.prototype.updateRowData=function(e){return Y((function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){Y((function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,n){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=e.map((function(e){return e.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:n})},e.prototype.addItems=function(e,t){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){void 0===e&&(e=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:e,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},e.prototype.refreshServerSideStore=function(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},e.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},e.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},e.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(e,t)},e.prototype.setRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},e.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Ru([le("immutableService")],e.prototype,"immutableService",void 0),Ru([le("csvCreator")],e.prototype,"csvCreator",void 0),Ru([le("excelCreator")],e.prototype,"excelCreator",void 0),Ru([ue("rowRenderer")],e.prototype,"rowRenderer",void 0),Ru([ue("filterManager")],e.prototype,"filterManager",void 0),Ru([ue("columnController")],e.prototype,"columnController",void 0),Ru([ue("selectionController")],e.prototype,"selectionController",void 0),Ru([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ru([ue("valueService")],e.prototype,"valueService",void 0),Ru([ue("alignedGridsService")],e.prototype,"alignedGridsService",void 0),Ru([ue("eventService")],e.prototype,"eventService",void 0),Ru([ue("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ru([ue("context")],e.prototype,"context",void 0),Ru([ue("rowModel")],e.prototype,"rowModel",void 0),Ru([ue("sortController")],e.prototype,"sortController",void 0),Ru([ue("paginationProxy")],e.prototype,"paginationProxy",void 0),Ru([ue("focusController")],e.prototype,"focusController",void 0),Ru([ue("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ru([le("rangeController")],e.prototype,"rangeController",void 0),Ru([le("clipboardService")],e.prototype,"clipboardService",void 0),Ru([le("aggFuncService")],e.prototype,"aggFuncService",void 0),Ru([ue("menuFactory")],e.prototype,"menuFactory",void 0),Ru([le("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Ru([ue("valueCache")],e.prototype,"valueCache",void 0),Ru([ue("animationFrameService")],e.prototype,"animationFrameService",void 0),Ru([le("statusBarService")],e.prototype,"statusBarService",void 0),Ru([le("chartService")],e.prototype,"chartService",void 0),Ru([le("undoRedoService")],e.prototype,"undoRedoService",void 0),Ru([le("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Ru([le("ssrmTransactionManager")],e.prototype,"serverSideTransactionManager",void 0),Ru([ie],e.prototype,"init",null),Ru([se],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=Ru([ae("gridApi")],e)}(),Au=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Du=function(e,t){return function(n,r){t(n,r,e)}},Iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Au(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){if("function"===typeof e)return e(t);if("string"===typeof e){var n=e;return this.evaluateExpression(n,t)}console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+n),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Pu([Du(0,pe("loggerFactory"))],t.prototype,"setBeans",null),t=Pu([ae("expressionService")],t)}(Ve),Nu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},xu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return Nu(t,e),t.prototype.getTemplate=function(e,t){var n=this.templateCache[e];if(n)return n;var r=this.waitingCallbacks[e],o=this;if(!r){r=[],this.waitingCallbacks[e]=r;var i=new XMLHttpRequest;i.onload=function(){o.handleHttpResult(this,e)},i.open("GET",e),i.send()}return t&&r.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var n=this.waitingCallbacks[t],r=0;r<n.length;r++){(0,n[r])()}if(this.$scope){var o=this;window.setTimeout((function(){o.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},Lu([ue("$scope")],t.prototype,"$scope",void 0),t=Lu([ae("templateService")],t)}(Ve),Fu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ku=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var r;return Fu(t,e),r=t,t.addKeyboardModeEvents=function(e,t){var n=r.instancesMonitored.get(e);n&&n.length>0?-1===n.indexOf(t)&&n.push(t):(r.instancesMonitored.set(e,[t]),e.addEventListener("keydown",r.toggleKeyboardMode),e.addEventListener("mousedown",r.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(e,t){var n=r.instancesMonitored.get(e),o=[];n&&n.length&&(o=ku(n).filter((function(e){return e!==t})),r.instancesMonitored.set(e,o)),0===o.length&&(e.removeEventListener("keydown",r.toggleKeyboardMode),e.removeEventListener("mousedown",r.toggleKeyboardMode))},t.toggleKeyboardMode=function(e){var t=r.keyboardModeActive,n="keydown"===e.type;if((!n||!(e.ctrlKey||e.metaKey||e.altKey))&&!(t&&n||!t&&!n)){r.keyboardModeActive=n;var o=e.target.ownerDocument;if(o){var i=r.instancesMonitored.get(o);i&&i.forEach((function(e){e.dispatchEvent({type:n?Ue.EVENT_KEYBOARD_FOCUS:Ue.EVENT_MOUSE_FOCUS})}))}}},t.prototype.init=function(){var e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},t.prototype.registerGridCore=function(e){var t=this;this.gridCore=e;var n=this.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(n,e),this.addDestroyFunc((function(){return t.unregisterGridCore(e)}))},t.prototype.unregisterGridCore=function(e){var t=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(t,e)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnController.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return r.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var n=this.gridOptionsWrapper.getDomData(t,Ys.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();t=t.parentNode}return null},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,r,o){void 0===o&&(o=!1);var i=this.columnController.getGridColumn(t);i?(this.focusedCellPosition=i?{rowIndex:e,rowPinned:n(r),column:i}:null,this.onCellFocused(o)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned))},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumn(),n=e.getParentComponent().getRowIndex(),r=e.getPinned(),o=this.focusedHeaderPosition,i=o.column,s=o.headerRowIndex;return t===i&&n===s&&r==i.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e,t,n,r,o){if(void 0===t&&(t=null),void 0===n&&(n=!1),void 0===r&&(r=!1),r){var i,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(n){if(i=s.getTabToNextHeaderFunc())e=i({backwards:"Before"===t,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:u})}else if((i=s.getNavigateToNextHeaderFunc())&&o)e=i({key:o.key,previousHeaderPosition:a,nextHeaderPosition:e,headerRowCount:u,event:o})}if(!e)return!1;if(-1===e.headerRowIndex)return this.focusGridView(e.column);this.headerNavigationService.scrollToColumn(e.column,t);var l=this.headerNavigationService.getHeaderContainer(e.column.getPinned()).getRowComps()[e.headerRowIndex].getHeaderComps()[e.column.getUniqueId()];return!!l&&(l.getFocusableElement().focus(),!0)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===n(t))},t.prototype.findFocusableElements=function(e,t,n){void 0===n&&(n=!1);var r=ye.FOCUSABLE_SELECTOR,o=ye.FOCUSABLE_EXCLUDE;t&&(o+=", "+t),n&&(o+=', [tabindex="-1"]');var i=Array.prototype.slice.apply(e.querySelectorAll(r)),s=Array.prototype.slice.apply(e.querySelectorAll(o));if(!s.length)return i;var a;return a=s,i.filter((function(e){return-1===a.indexOf(e)}))},t.prototype.focusInto=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.findFocusableElements(e,null,n),o=t?g(r):r[0];return!!o&&(o.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,n){var r=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),o=(t?O(r,(function(e){return e.contains(document.activeElement)})):r.indexOf(document.activeElement))+(n?-1:1);return o<0||o>=r.length?null:r[o]},t.prototype.isFocusUnderManagedComponent=function(e){var t=e.querySelectorAll("."+lo.FOCUS_MANAGED_CLASS);if(!t.length)return!1;for(var n=0;n<t.length;n++)if(t[n].contains(document.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var n=0;e&&null===kt(e)&&++n<=t;)e=e.parentElement;return null===kt(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:Ue.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e,t){var r=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;var o=r.rowIndex,i=r.rowPinned,s=this.getFocusedHeader();if(!e&&s&&(e=s.column),null==o||!e)return!1;if(this.rowRenderer.ensureCellVisible({rowIndex:o,column:e,rowPinned:i}),this.setFocusedCell(o,e,n(i),!0),this.rangeController){var a={rowIndex:o,rowPinned:i,column:e};this.rangeController.setRangeToCell(a)}return!0},t.prototype.focusNextGridCoreContainer=function(e){return!!this.gridCore.focusNextInnerContainer(e)||(e||this.gridCore.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Mu([ue("columnController")],t.prototype,"columnController",void 0),Mu([ue("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Mu([ue("columnApi")],t.prototype,"columnApi",void 0),Mu([ue("gridApi")],t.prototype,"gridApi",void 0),Mu([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),Mu([ue("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Mu([le("rangeController")],t.prototype,"rangeController",void 0),Mu([ie],t.prototype,"init",null),t=r=Mu([ae("focusController")],t)}(Ve),Vu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return Vu(t,e),t.prototype.registerGridCore=function(e){var t=this;this.gridCore=e,this.addManagedListener(this.gridCore,Ue.EVENT_KEYBOARD_FOCUS,(function(){T(t.popupList,(function(e){return Ut(e.element,Gu.AG_KEYBOARD_FOCUS)}))})),this.addManagedListener(this.gridCore,Ue.EVENT_MOUSE_FOCUS,(function(){T(t.popupList,(function(e){return zt(e.element,Gu.AG_KEYBOARD_FOCUS)}))}))},t.prototype.getPopupParent=function(){var e=this.gridOptionsWrapper.getPopupParent();return e||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),n=this.getParentRect(),r=this.keepYWithinBounds(e,t.top-n.top),o=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=o+"px";var i,s=n.right-n.left-o;function a(){return t.right-n.left-2}function u(){return t.left-n.left-o}this.gridOptionsWrapper.isEnableRtl()?((i=u())<0&&(i=a()),i>s&&(i=0)):((i=a())>s&&(i=u()),i<0&&(i=0)),e.ePopup.style.left=i+"px",e.ePopup.style.top=r+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent),n=t.x,r=t.y,o=e.ePopup,i=e.nudgeX,s=e.nudgeY;this.positionPopup({ePopup:o,x:n,y:r,nudgeX:i,nudgeY:s,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),n=e.alignSide||"left",r=this.getParentRect(),o=t.left-r.left;"right"===n&&(o-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:o,y:t.top-r.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-n.left,y:t.top-n.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,n,r,o,i){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:o,rowNode:i,ePopup:t,type:e,eventSource:n,mouseEvent:r})},t.prototype.positionPopup=function(e){var t=e.x,n=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(n+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),n=this.keepYWithinBounds(e,n)),e.ePopup.style.left=t+"px",e.ePopup.style.top=n+"px"},t.prototype.getActivePopups=function(){return this.popupList.map((function(e){return e.element}))},t.prototype.getParentRect=function(){var e=this.getPopupParent(),t=this.gridOptionsWrapper.getDocument();e===t.body&&(e=t.documentElement);var n=getComputedStyle(e),r=e.getBoundingClientRect();return{top:r.top+parseFloat(n.borderTopWidth)||0,left:r.left+parseFloat(n.borderLeftWidth)||0,right:r.right+parseFloat(n.borderRightWidth)||0,bottom:r.bottom+parseFloat(n.borderBottomWidth)||0}},t.prototype.keepYWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,u=Math.min(200,i.height),l=0;e.minHeight&&e.minHeight<u?u=e.minHeight:e.ePopup.offsetHeight>0&&(u=e.ePopup.clientHeight,l=nn(e.ePopup)-u);var c=a?nn(r)+r.scrollTop:i.height;a&&(c-=Math.abs(s.top-i.top));var p=c-u-l;return Math.min(Math.max(t,0),Math.abs(p))},t.prototype.keepXWithinBounds=function(e,t){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,u=e.ePopup,l=Math.min(200,i.width),c=0;e.minWidth&&e.minWidth<l?l=e.minWidth:u.offsetWidth>0&&(l=u.offsetWidth,u.style.minWidth=l+"px",c=rn(u)-l);var p=a?rn(r)+r.scrollLeft:i.width;a&&(p-=Math.abs(s.left-i.left));var h=p-l-c;return Math.min(Math.max(t,0),Math.abs(h))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this.getPopupParent(),n=t.getBoundingClientRect(),r=e.element.getBoundingClientRect(),o=n.top-r.top,i=n.left-r.left,s=o,a=i,u=e.ePopup.style.top,l=parseInt(u.substring(0,u.length-1),10),c=e.ePopup.style.left,p=parseInt(c.substring(0,c.length-1),10),h=window.setInterval((function(){var n=t.getBoundingClientRect(),r=e.element.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)e.hidePopup();else{var u=n.top-r.top;if(u!=s){var c=l+o-u;e.ePopup.style.top=c+"px"}s=u;var h=n.left-r.left;if(h!=a){var d=p+i-h;e.ePopup.style.left=d+"px"}a=h}}),200);return function(){null!=h&&window.clearInterval(h),h=void 0}},t.prototype.addPopup=function(e){var t=this,n=e.modal,r=e.eChild,o=e.closeOnEsc,i=e.closedCallback,s=e.click,a=e.alwaysOnTop,u=e.afterGuiAttached,l=e.positionCallback,c=e.anchorToElement,p=this.gridOptionsWrapper.getDocument();if(p){var h=O(this.popupList,(function(e){return e.element===r}));if(-1!==h){var d=this.popupList[h];return{hideFunc:d.hideFunc,stopAnchoringFunc:d.stopAnchoringFunc}}var f=this.getPopupParent();f.appendChild(r),null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var g=document.createElement("div"),v=this.environment.getTheme().theme;v&&Ut(g,v),Ut(g,"ag-popup"),Ut(r,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Ut(r,"ag-popup-child"),this.focusController.isKeyboardMode()&&Ut(r,Gu.AG_KEYBOARD_FOCUS),g.appendChild(r),f.appendChild(g),a?this.setAlwaysOnTop(g,!0):this.bringPopupToFront(g);var y,m=!1,w=function(e){g.contains(document.activeElement)&&((e.which||e.keyCode)===eo.ESCAPE&&E({keyboardEvent:e}))},C=function(e){return E({mouseEvent:e})},b=function(e){return E({touchEvent:e})},E=function(e){void 0===e&&(e={});var n=e.mouseEvent,o=e.touchEvent,a=e.keyboardEvent;t.isEventFromCurrentPopup({mouseEvent:n,touchEvent:o},r)||t.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:n,touchEvent:o})||m||(m=!0,f.removeChild(g),p.removeEventListener("keydown",w),p.removeEventListener("mousedown",C),p.removeEventListener("touchstart",b),p.removeEventListener("contextmenu",C),t.eventService.removeEventListener(Ue.EVENT_DRAG_STARTED,C),i&&i(n||o||a),t.popupList=t.popupList.filter((function(e){return e.element!==r})),y&&y())};return u&&u({hidePopup:E}),window.setTimeout((function(){o&&p.addEventListener("keydown",w),n&&(p.addEventListener("mousedown",C),t.eventService.addEventListener(Ue.EVENT_DRAG_STARTED,C),p.addEventListener("touchstart",b),p.addEventListener("contextmenu",C))}),0),l&&l(),c&&(y=this.keepPopupPositionedRelativeTo({element:c,ePopup:r,hidePopup:E})),this.popupList.push({element:r,hideFunc:E,stopAnchoringFunc:y}),{hideFunc:E,stopAnchoringFunc:y}}console.warn("ag-grid: could not find the document, document is empty")},t.prototype.isEventFromCurrentPopup=function(e,t){var n=e.mouseEvent,r=e.touchEvent,o=n||r;if(!o)return!1;var i=O(this.popupList,(function(e){return e.element===t}));if(-1===i)return!1;for(var s=i;s<this.popupList.length;s++){if(Le(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)},t.prototype.isElementWithinCustomPopup=function(e){if(!this.popupList.length)return!1;for(;e&&e!==document.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,n=e.mouseEvent,r=e.touchEvent,o=null;if(n?o=n:r&&(o=r.touches[0]),o&&t){var i=n?n.screenX:0,s=n?n.screenY:0,a=Math.abs(t.screenX-i)<5,u=Math.abs(t.screenY-s)<5;if(a&&u)return!0}return!1},t.prototype.getWrapper=function(e){for(;!Kt(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return Kt(e,"ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var n=this.getWrapper(e);n&&(qt(n,"ag-always-on-top",!!t),t&&this.bringPopupToFront(n))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),i=o.length,s=this.getWrapper(e);if(s&&!(r<=1)&&t.contains(e)){var a=n.indexOf(s);if(i)Kt(s,"ag-always-on-top")?a!==r-1&&g(o).insertAdjacentElement("afterend",s):a!==r-i-1&&o[0].insertAdjacentElement("beforebegin",s);else a!==r-1&&g(n).insertAdjacentElement("afterend",s);var u={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(u)}},ju([ue("environment")],t.prototype,"environment",void 0),ju([ue("focusController")],t.prototype,"focusController",void 0),t=ju([ae("popupService")],t)}(Ve),Wu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Uu=function(e,t){return function(n,r){t(n,r,e)}},zu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wu(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new qu(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Bu([Uu(0,pe("gridOptionsWrapper"))],t.prototype,"setBeans",null),t=Bu([ae("loggerFactory")],t)}(Ve),qu=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},e}(),Ku=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Qu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ku(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},t.prototype.getPreferredWidthForColumn=function(e,t){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var r=document.createElement("span");r.style.position="fixed";var o=this.gridPanel.getCenterContainer();o.appendChild(r),this.putRowCellsIntoDummyContainer(e,r),t||this.cloneItemIntoDummy(n,r);var i=r.offsetWidth;return o.removeChild(r),i+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement((function(n){if(n instanceof Aa){var r=n;r.getColumn()===e&&(t=r)}})),t?t.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(e,t){var n=this;this.rowRenderer.getAllCellsForColumn(e).forEach((function(e){return n.cloneItemIntoDummy(e,t)}))},t.prototype.cloneItemIntoDummy=function(e,t){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var r=document.createElement("div");Kt(n,"ag-header-cell")?(Ut(r,"ag-header"),Ut(r,"ag-header-row"),r.style.position="static"):Ut(r,"ag-row"),r.style.display="table-row",r.appendChild(n),t.appendChild(r)},Yu([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),t=Yu([ae("autoWidthCalculator")],t)}(Ve),$u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype.addResizeBar=function(e){var t=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(n,!0);return function(){return t.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var n=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(n)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Xu([ue("dragService")],t.prototype,"dragService",void 0),Xu([ue("eGridDiv")],t.prototype,"eGridDiv",void 0),t=Xu([ae("horizontalResizeService")],t)}(Ve),Zu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),el=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},tl=function(e){function n(){return e.call(this,void 0,!0)||this}return Zu(n,e),n.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridCore");var r=this.createTemplate();if(this.setTemplate(r),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach((function(e){return e.registerGridCore(n)})),me.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){n.eGridDiv.removeChild(n.getGui())})),this.$scope){var o=this.$scope.$watch(this.quickFilterOnScope,(function(e){return n.filterManager.setQuickFilter(e)}));this.addDestroyFunc(o)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var i=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return i()}));var s=this.getGui();this.addManagedListener(this,Ue.EVENT_KEYBOARD_FOCUS,(function(){Ut(s,Gu.AG_KEYBOARD_FOCUS)})),this.addManagedListener(this,Ue.EVENT_MOUSE_FOCUS,(function(){zt(s,Gu.AG_KEYBOARD_FOCUS)})),e.prototype.postConstruct.call(this)},n.prototype.getFocusableElement=function(){return this.eRootWrapperBody},n.prototype.createTemplate=function(){var e=me.isRegistered(t.ModuleNames.SideBarModule),n=me.isRegistered(t.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(me.isRegistered(t.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(n?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(me.isRegistered(t.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},n.prototype.getFocusableContainers=function(){var e=[this.gridPanel.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((function(e){return cn(e)}))},n.prototype.focusNextInnerContainer=function(e){var t=this.getFocusableContainers(),n=O(t,(function(e){return e.contains(document.activeElement)}))+(e?-1:1);return!(n<0||n>=t.length)&&(0===n?this.focusGridHeader():this.focusController.focusInto(t[n]))},n.prototype.focusInnerElement=function(e){var t=this.getFocusableContainers();if(e){if(t.length>1)return this.focusController.focusInto(g(t));var n=g(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(n,!0))return!0}return this.focusGridHeader()},n.prototype.focusGridHeader=function(){var e=this.columnController.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnController.getColumnGroupAtLevel(e,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:e}),!0)},n.prototype.onGridSizeChanged=function(){var e={type:Ue.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight};this.eventService.dispatchEvent(e)},n.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";Ut(this.getGui(),e)},n.prototype.getRootGui=function(){return this.getGui()},n.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("AG Grid: sideBar is not loaded")},n.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("AG Grid: sideBar is not loaded")},n.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},n.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Xi.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.destroy=function(){this.logger.log("Grid DOM removed"),e.prototype.destroy.call(this)},n.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),r="function"===typeof e,o=-1,i=0;i<n;i++){var s=this.rowModel.getRow(i);if(r){if(e(s)){o=i;break}}else if(e===s||e===s.data){o=i;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,t)},n.prototype.onTabKeyDown=function(){},el([ue("gridOptions")],n.prototype,"gridOptions",void 0),el([ue("rowModel")],n.prototype,"rowModel",void 0),el([ue("resizeObserverService")],n.prototype,"resizeObserverService",void 0),el([ue("rowRenderer")],n.prototype,"rowRenderer",void 0),el([ue("filterManager")],n.prototype,"filterManager",void 0),el([ue("eGridDiv")],n.prototype,"eGridDiv",void 0),el([ue("$scope")],n.prototype,"$scope",void 0),el([ue("quickFilterOnScope")],n.prototype,"quickFilterOnScope",void 0),el([ue("popupService")],n.prototype,"popupService",void 0),el([ue("columnController")],n.prototype,"columnController",void 0),el([ue("loggerFactory")],n.prototype,"loggerFactory",void 0),el([ue("columnApi")],n.prototype,"columnApi",void 0),el([ue("gridApi")],n.prototype,"gridApi",void 0),el([le("clipboardService")],n.prototype,"clipboardService",void 0),el([Yr("gridPanel")],n.prototype,"gridPanel",void 0),el([Yr("sideBar")],n.prototype,"sideBarComp",void 0),el([Yr("rootWrapperBody")],n.prototype,"eRootWrapperBody",void 0),n}(lo),nl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nl(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var n=this;this.showPopup(e,(function(r){n.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:r})}),t.target)},t.prototype.showMenuAfterButtonClick=function(e,t){var n=this;this.showPopup(e,(function(r){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:r,keepWithinBounds:!0,column:e})}),t)},t.prototype.showPopup=function(e,t,n){var r,o=this,i=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),s=document.createElement("div");s.setAttribute("role","presentation"),Ut(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(e){return o.trapFocusWithin(e,s)})),i.guiPromise.then((function(e){return s.appendChild(e)}));var a=n||this.gridPanel.getGui(),u=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(t){e.setMenuVisible(!1,"contextMenu");var r=t instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),r&&n&&cn(n)){var i=o.focusController.findTabbableParent(n);i&&i.focus()}},positionCallback:function(){return t(s)},anchorToElement:a});u&&(this.hidePopup=r=u.hideFunc),i.filterPromise.then((function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:r})})),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.keyCode!==eo.TAB||e.defaultPrevented||this.focusController.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusController.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},rl([ue("filterManager")],t.prototype,"filterManager",void 0),rl([ue("popupService")],t.prototype,"popupService",void 0),rl([ue("focusController")],t.prototype,"focusController",void 0),t=rl([ae("menuFactory")],t)}(Ve),il=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},al=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return il(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){var r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}},t.prototype.removeDragSource=function(e){var t=c(this.dragSources,(function(t){return t.dragSource===e}));t&&(this.removeListener(t),m(this.dragSources,t))},t.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");r(t)&&qt(t,"ag-unselectable",e)},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var n=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",n);var r=null,o=this.gridOptionsWrapper.isSuppressTouch();t&&!o&&(r=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",r,{passive:!0})),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:r,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var n=this;this.currentDragParams=e,this.dragging=!1;var r=t.touches[0];this.touchLastTime=r,this.touchStart=r;var o=function(t){return n.onTouchUp(t,e.eElement)},i=e.eElement,s=[{target:document,type:"touchmove",listener:function(e){e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(t){return n.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:o,options:{passive:!0}},{target:i,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(r,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var n=this,r=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!r._alreadyProcessedByDragService&&(r._alreadyProcessedByDragService=!0,0===t.button)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var o=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0);var i=[{target:o,type:"mousemove",listener:function(t){return n.onMouseMove(t,e.eElement)}},{target:o,type:"mouseup",listener:function(t){return n.onMouseUp(t,e.eElement)}},{target:o,type:"contextmenu",listener:function(e){return e.preventDefault()}}];this.addTemporaryEvents(i),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach((function(e){var t=e.target,n=e.type,r=e.listener,o=e.options;t.addEventListener(n,r,o)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,n=e.type,r=e.listener,o=e.options;t.removeEventListener(n,r,o)}))}))},t.prototype.isEventNearStartEvent=function(e,t){var n=this.currentDragParams.dragStartPixels;return Rr(e,t,r(n)?n:4)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var r={type:Ue.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n};this.eventService.dispatchEvent(r),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.onTouchUp=function(e,t){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var n={type:Ue.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t};this.eventService.dispatchEvent(n)}this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},sl([ue("loggerFactory")],t.prototype,"loggerFactory",void 0),sl([ue("columnApi")],t.prototype,"columnApi",void 0),sl([ue("gridApi")],t.prototype,"gridApi",void 0),sl([ie],t.prototype,"init",null),sl([se],t.prototype,"removeAllListeners",null),t=sl([ae("dragService")],t)}(Ve),ul=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ll=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return ul(t,e),n=t,t.prototype.progressSort=function(e,t,n){void 0===n&&(n="api");var r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)},t.prototype.setSortForColumn=function(e,t,n,r){void 0===r&&(r="api"),t!==ye.SORT_ASC&&t!==ye.SORT_DESC&&(t=null),e.setSort(t,r),n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,r),this.updateSortIndex(e),this.dispatchSortChangedEvents()},t.prototype.updateSortIndex=function(e){var t=this.getColumnsWithSortingOrdered(),n=0;t.forEach((function(t){t!==e&&(t.setSortIndex(n),n++)})),e.getSort()&&e.setSortIndex(n),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return null==e.getSort()})).forEach((function(e){return e.setSortIndex()}))},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.isSortActive=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return!!e.getSort()}));return e&&e.length>0},t.prototype.dispatchSortChangedEvents=function(){var e={type:Ue.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){n!==e&&n.setSort(void 0,t)}))},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var r,o=t.indexOf(e.getSort()),i=o<0,s=o==t.length-1;return r=i||s?t[0]:t[o+1],n.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("ag-grid: invalid sort type "+r),null):r},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns(),t=e.filter((function(e){return!!e.getSort()})),n={};return e.forEach((function(e,t){return n[e.getId()]=t})),t.sort((function(e,t){var r=e.getSortIndex(),o=t.getSortIndex();return null!=r&&null!=o?r-o:null==r&&null==o?n[e.getId()]>n[t.getId()]?1:-1:null==o?-1:1})),t},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),colId:e.getId()}}))},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),column:e}}))},t.DEFAULT_SORTING_ORDER=[ye.SORT_ASC,ye.SORT_DESC,null],ll([ue("columnController")],t.prototype,"columnController",void 0),ll([ue("columnApi")],t.prototype,"columnApi",void 0),ll([ue("gridApi")],t.prototype,"gridApi",void 0),t=n=ll([ae("sortController")],t)}(Ve),pl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},dl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=n.gridInstanceSequence.next(),t}var n;return pl(t,e),n=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[n.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return Ie(this.gridOptionsWrapper,e,"cellComp")},t.prototype.isEventFromThisGrid=function(e){for(var t=Fe(e),o=0;o<t.length;o++){var i=t[o][n.GRID_DOM_KEY];if(r(i))return i===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,n,r=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL,o=e;if(null!=o.clientX||null!=o.clientY?(t=o.clientX,n=o.clientY):(t=o.x,n=o.y),r){var i=this.gridPanel.getVScrollPosition();t+=this.gridPanel.getHScrollPosition().left,n+=i.top}return{x:t,y:n}},t.gridInstanceSequence=new xr,t.GRID_DOM_KEY="__ag_grid_instance",hl([ue("eGridDiv")],t.prototype,"eGridDiv",void 0),hl([ie],t.prototype,"init",null),t=n=hl([ae("mouseEventService")],t)}(Ve),fl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fl(t,e),t.prototype.getNextCellToFocus=function(e,t){for(var n=t,r=!1;!r;){switch(e){case eo.UP:n=this.getCellAbove(n);break;case eo.DOWN:n=this.getCellBelow(n);break;case eo.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case eo.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e)}r=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(e){var t,n=e.column;switch(e.rowPinned){case ye.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ye.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!!t&&!n.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case ye.PINNED_BOTTOM:return null;case ye.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ye.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ye.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ye.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ye.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:n}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,n=e.rowIndex;return t===ye.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:t===ye.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},t.prototype.getRowAbove=function(e){var t=e.rowIndex,n=e.rowPinned;return(n?0===t:t===this.paginationProxy.getPageFirstRow())?n===ye.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ye.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:n}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ye.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,r=e.rowPinned,i=this.columnController.getDisplayedColAfter(e.column);if(!i){i=t[0];var s=this.getRowBelow(e);if(o(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),n=e.rowIndex,r=e.rowPinned,i=this.columnController.getDisplayedColBefore(e.column);if(!i){i=g(t);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(o(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},gl([ue("columnController")],t.prototype,"columnController",void 0),gl([ue("rowModel")],t.prototype,"rowModel",void 0),gl([ue("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gl([ue("paginationProxy")],t.prototype,"paginationProxy",void 0),t=gl([ae("cellNavigationService")],t)}(Ve),yl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ml=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},wl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yl(t,e),t.prototype.formatValue=function(e,t,n,r,o,i){void 0===i&&(i=!0);var s,a=null,u=e.getColDef();if(o?s=o:i&&(s=t&&t.rowPinned&&u.pinnedRowValueFormatter?u.pinnedRowValueFormatter:u.valueFormatter),s){var l={value:r,node:t,data:t?t.data:null,colDef:u,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};l.$scope=n,a=this.expressionService.evaluate(s,l)}else if(u.refData)return u.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},ml([ue("expressionService")],t.prototype,"expressionService",void 0),t=ml([ae("valueFormatterService")],t)}(Ve),Cl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bl=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return Cl(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Ue.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Ca),El=["mouseover","mouseout","mouseenter","mouseleave"],Sl=function(){function e(){this.isOutsideAngular=function(e){return E(El,e)}}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListener=function(e,t,n,r){e.addEventListener(t,n,r)},e.prototype.dispatchEvent=function(e,t){t()},e}(),Ol=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_l=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Rl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ol(t,e),t.prototype.setScrollsVisible=function(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var t={type:Ue.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},_l([ue("columnApi")],t.prototype,"columnApi",void 0),_l([ue("gridApi")],t.prototype,"gridApi",void 0),t=_l([ae("scrollVisibleService")],t)}(Ve),Tl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Al=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tl(t,e),t.prototype.processAllCellClasses=function(e,t,n,r){this.processClassRules(e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)},t.prototype.processClassRules=function(e,t,n,r){if(B(e))for(var o=Object.keys(e),i=0;i<o.length;i++){var s=o[i],a=e[s],u=void 0;"string"===typeof a?u=this.expressionService.evaluate(a,t):"function"===typeof a&&(u=a(t)),u?n(s):r&&r(s)}},t.prototype.processStaticCellClasses=function(e,t,n){if(e.cellClass){var r=void 0;if("function"===typeof e.cellClass)r=(0,e.cellClass)(t);else r=e.cellClass;"string"===typeof r?n(r):Array.isArray(r)&&r.forEach((function(e){n(e)}))}},Al([ue("expressionService")],t.prototype,"expressionService",void 0),t=Al([ae("stylingService")],t)}(Ve),Dl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Il=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Nl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dl(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e;var t={type:Ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:Ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},Il([ue("columnApi")],t.prototype,"columnApi",void 0),Il([ue("gridApi")],t.prototype,"gridApi",void 0),t=Il([ae("columnHoverService")],t)}(Ve),Ll=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return Ll(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},t=xl([ae("columnAnimationService")],t)}(Ve),Ml=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Gl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return Ml(t,e),n=t,t.prototype.createAutoGroupColumns=function(e){var t=this,n=[],r=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&o&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?e.forEach((function(e,r){n.push(t.createOneAutoGroupColumn(e,r))})):n.push(this.createOneAutoGroupColumn()),n},t.prototype.createOneAutoGroupColumn=function(e,t){var r,i=this.generateDefaultColDef(e);(r=e?ye.GROUP_AUTO_COLUMN_ID+"-"+e.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,G(i,this.gridOptionsWrapper.getAutoGroupColumnDef()),(i=this.columnFactory.mergeColDefs(i)).colId=r,this.gridOptionsWrapper.isTreeData())||o(i.field)&&o(i.valueGetter)&&o(i.filterValueGetter)&&(i.filter=!1);t&&t>0&&(i.headerCheckboxSelection=!1);var s=new Ce(i,null,r,!0);return this.context.createBean(s),s},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),e){var r=e.getColDef();V(n,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&V(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n},t.GROUP_AUTO_COLUMN_BUNDLE_ID=ye.GROUP_AUTO_COLUMN_ID,kl([ue("columnController")],t.prototype,"columnController",void 0),kl([ue("columnFactory")],t.prototype,"columnFactory",void 0),t=n=kl([ae("autoGroupColService")],t)}(Ve),Vl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return Vl(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,n,r){var o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},t.prototype.onModelUpdated=function(e){this.calculatePages();var t={type:Ue.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var e={type:Ue.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.goToPage=function(e){if(this.active&&this.currentPage!==e){this.currentPage=e;var t={type:Ue.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(t)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return o(this.topRowBounds)||o(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&(e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex)},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(r(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!st(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var r=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=r-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!st(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},jl([ue("rowModel")],t.prototype,"rowModel",void 0),jl([ue("columnApi")],t.prototype,"columnApi",void 0),jl([ue("gridApi")],t.prototype,"gridApi",void 0),jl([ie],t.prototype,"postConstruct",null),t=jl([ae("paginationProxy")],t)}(Ve),Wl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wl(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var n=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},t=Bl([ae("paginationAutoPageSizeService")],t)}(Ve),zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ql=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Kl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return zl(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},ql([ie],t.prototype,"init",null),t=ql([ae("valueCache")],t)}(Ve),Yl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},$l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yl(t,e),t.prototype.init=function(){this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ye.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new ss(n,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},Ql([ue("rowModel")],t.prototype,"rowModel",void 0),Ql([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),Ql([ie],t.prototype,"init",null),t=Ql([ae("changeDetectionService")],t)}(Ve),Xl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jl=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Zl=function(e,t){return function(n,r){t(n,r,e)}},ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Xl(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.init=function(){this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach((function(t){if(t.api){var n=t.api.__getAlignedGridService();e(n)}}))}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){t.gridPanel.setHorizontalScrollPosition(e.left)}))},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case Ue.EVENT_COLUMN_MOVED:case Ue.EVENT_COLUMN_VISIBLE:case Ue.EVENT_COLUMN_PINNED:case Ue.EVENT_COLUMN_RESIZED:var n=e;t.processColumnEvent(n);break;case Ue.EVENT_COLUMN_GROUP_OPENED:var r=e;t.processGroupOpenedEvent(r);break;case Ue.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},t.prototype.processGroupOpenedEvent=function(e){var t=e.columnGroup,n=null;if(t){var r=t.getGroupId();n=this.columnController.getOriginalColumnGroup(r)}t&&!n||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnController.setColumnGroupOpened(n,t.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t=this,n=e.column,r=null;if(n&&(r=this.columnController.getPrimaryColumn(n.getColId())),!n||r){var o=this.getMasterColumns(e);switch(e.type){case Ue.EVENT_COLUMN_MOVED:var i=e,s=e.columnApi.getColumnState().map((function(e){return{colId:e.colId}}));this.columnController.applyColumnState({state:s,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+i.toIndex);break;case Ue.EVENT_COLUMN_VISIBLE:var a=e;s=e.columnApi.getColumnState().map((function(e){return{colId:e.colId,hide:e.hide}}));this.columnController.applyColumnState({state:s},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible);break;case Ue.EVENT_COLUMN_PINNED:var u=e;s=e.columnApi.getColumnState().map((function(e){return{colId:e.colId,pinned:e.pinned}}));this.columnController.applyColumnState({state:s},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+u.pinned);break;case Ue.EVENT_COLUMN_RESIZED:var l=e;o.forEach((function(n){t.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+n.getActualWidth());var r=[{key:n.getColId(),newWidth:n.getActualWidth()}];t.columnController.setColumnWidths(r,!1,l.finished,"alignedGridChanged")}))}var c=this.gridPanel.isVerticalScrollShowing(),p=this.gridOptionsWrapper.getAlignedGrids();p&&p.forEach((function(e){e.api&&e.api.setAlwaysShowVerticalScroll(c)}))}},Jl([ue("columnController")],t.prototype,"columnController",void 0),Jl([Zl(0,pe("loggerFactory"))],t.prototype,"setBeans",null),Jl([ie],t.prototype,"init",null),t=Jl([ae("alignedGridsService")],t)}(Ve),tc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tc(t,e),t.prototype.adaptFunction=function(e,t,n,r){if(null==t)return{component:null,componentFromFramework:n,source:r,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?{componentFromFramework:n,component:o.functionAdapter(t),source:r,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),n=typeof t;return"string"===n||"number"===n||"boolean"===n?pn("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)},nc([ue("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=nc([ae("agComponentUtils")],t)}(Ve),oc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ic=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oc(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},ic([ue("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ic([ie],t.prototype,"postConstruct",null),t=ic([ae("componentMetadataProvider")],t)}(Ve),ac=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},uc=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},ac([ue("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ac([ue("paginationProxy")],e.prototype,"paginationProxy",void 0),ac([ue("context")],e.prototype,"context",void 0),ac([ue("columnApi")],e.prototype,"columnApi",void 0),ac([ue("gridApi")],e.prototype,"gridApi",void 0),ac([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ac([ue("expressionService")],e.prototype,"expressionService",void 0),ac([ue("rowRenderer")],e.prototype,"rowRenderer",void 0),ac([ue("$compile")],e.prototype,"$compile",void 0),ac([ue("templateService")],e.prototype,"templateService",void 0),ac([ue("valueService")],e.prototype,"valueService",void 0),ac([ue("eventService")],e.prototype,"eventService",void 0),ac([ue("columnController")],e.prototype,"columnController",void 0),ac([ue("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ac([ue("columnAnimationService")],e.prototype,"columnAnimationService",void 0),ac([le("rangeController")],e.prototype,"rangeController",void 0),ac([ue("focusController")],e.prototype,"focusController",void 0),ac([le("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ac([ue("popupService")],e.prototype,"popupService",void 0),ac([ue("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ac([ue("stylingService")],e.prototype,"stylingService",void 0),ac([ue("columnHoverService")],e.prototype,"columnHoverService",void 0),ac([ue("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ac([ue("animationFrameService")],e.prototype,"taskQueue",void 0),ac([ue("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ac([ue("sortController")],e.prototype,"sortController",void 0),ac([ue("filterManager")],e.prototype,"filterManager",void 0),ac([ue("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),ac([ue("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),ac([ue("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),ac([ue("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),ac([ue("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),ac([ue("selectionController")],e.prototype,"selectionController",void 0),ac([le("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),ac([ue("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),ac([ue("rowModel")],e.prototype,"rowModel",void 0),ac([ie],e.prototype,"postConstruct",null),e=ac([ae("beans")],e)}(),lc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pc={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},hc={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},dc={},fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lc(t,e),t.prototype.getSassVariable=function(e,t){var n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=pc[n][t],o=0;dc[e]||(dc[e]={});var i=dc[e][t];if(null!=i)return i;if(hc[t]){var s=hc[t],a=document.createElement("div");Ut(a,e),a.style.position="absolute";var u=s.reduce((function(e,t){var n=document.createElement("div");return n.style.position="static",Ut(n,t),e.appendChild(n),n}),a);if(document.body){document.body.appendChild(a);var l=-1!==t.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(u)[l],10),document.body.removeChild(a)}}return dc[e][t]=o||r,dc[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/,t=this.eGridDiv,n=null;t&&!(n=e.exec(t.className));)t=t.parentElement||void 0;if(!n)return{};var r=n[0];if(void 0===n[2]){var o=r.replace("ag-","ag-theme-");Y((function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+o+".")}),"using-old-theme")}return{theme:r,el:t,themeFamily:r.replace(/-dark$/,"")}},cc([ue("eGridDiv")],t.prototype,"eGridDiv",void 0),t=cc([ae("environment")],t)}(Ve),gc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},yc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return gc(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,n){this.verifyAnimationFrameOn(n);var r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,n){return e.index!==n.index?t*(n.index-e.index):n.createOrder-e.createOrder})),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,n=t.list,r=this.createTasksP2,o=r.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,u=e<=0;u||a<e;){if(!this.gridPanel.executeAnimationFrameScroll()){var l=void 0;if(n.length)this.sortTaskList(t),l=n.pop().task;else if(o.length)this.sortTaskList(r),l=o.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}l=i.pop()}this.cancelledTasks.has(l)||l()}a=(new Date).getTime()-s}n.length||o.length||i.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var e={type:Ue.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},vc([ie],t.prototype,"init",null),t=vc([ae("animationFrameService")],t)}(Ve),mc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return mc(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,n=e.altKey,r=e.ctrlKey||e.metaKey,o=this.mouseEventService.getCellPositionForEvent(e);if(!o)return!1;var i=!1;switch(t){case eo.PAGE_HOME:case eo.PAGE_END:r||n||(this.onHomeOrEndKey(t),i=!0);break;case eo.LEFT:case eo.RIGHT:r&&!n&&(this.onCtrlLeftOrRight(t,o),i=!0);break;case eo.UP:case eo.DOWN:r&&!n&&(this.onCtrlUpOrDown(t,o),i=!0);break;case eo.PAGE_DOWN:r||n||(this.onPageDown(o),i=!0);break;case eo.PAGE_UP:r||n||(this.onPageUp(o),i=!0)}return i&&e.preventDefault(),i},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.navigateTo=function(e){var t=e.scrollIndex,n=e.scrollType,o=e.scrollColumn,i=e.focusIndex,s=e.focusColumn;if(r(o)&&this.gridPanel.ensureColumnVisible(o),r(t)&&this.gridPanel.ensureIndexVisible(t,n),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(i,s,null,!0),this.rangeController){var a={rowIndex:i,rowPinned:null,column:s};this.rangeController.setRangeToCell(a)}},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=t.top+r,s=this.paginationProxy.getRowIndexAtPixel(i+o),a=this.paginationProxy.getRow(e.rowIndex).rowTop+r-o,u=this.paginationProxy.getRowIndexAtPixel(a+o),l=this.paginationProxy.getPageLastRow();u>l&&(u=l),s>l&&(s=l),this.navigateTo({scrollIndex:s,scrollType:"top",scrollColumn:null,focusIndex:u,focusColumn:e.column}),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=t.top,s=this.paginationProxy.getRowIndexAtPixel(i+o),a=this.paginationProxy.getRow(e.rowIndex),u=a.rowTop+a.rowHeight-r-o,l=this.paginationProxy.getRowIndexAtPixel(u+o),c=this.paginationProxy.getPageFirstRow();l<c&&(l=c),s<c&&(s=c),this.navigateTo({scrollIndex:s,scrollType:"bottom",scrollColumn:null,focusIndex:l,focusColumn:e.column}),this.setTimeLastPageEventProcessed()}},t.prototype.getIndexToFocus=function(e,t){var n=e;if(t){var r=this.paginationProxy.getRow(e);r&&r.stub&&(n-=1)}return n},t.prototype.onCtrlUpOrDown=function(e,t){var n=e===eo.UP,r=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:t.column,focusIndex:this.getIndexToFocus(r,!n),focusColumn:t.column})},t.prototype.onCtrlLeftOrRight=function(e,t){var n=e===eo.LEFT,r=this.columnController.getAllDisplayedColumns(),o=n?r[0]:g(r);this.navigateTo({scrollIndex:t.rowIndex,scrollType:null,scrollColumn:o,focusIndex:t.rowIndex,focusColumn:o})},t.prototype.onHomeOrEndKey=function(e){var t=e===eo.PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),r=t?n[0]:g(n),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:this.getIndexToFocus(o,!t),focusColumn:r})},wc([ue("mouseEventService")],t.prototype,"mouseEventService",void 0),wc([ue("paginationProxy")],t.prototype,"paginationProxy",void 0),wc([ue("focusController")],t.prototype,"focusController",void 0),wc([ue("animationFrameService")],t.prototype,"animationFrameService",void 0),wc([le("rangeController")],t.prototype,"rangeController",void 0),wc([ue("columnController")],t.prototype,"columnController",void 0),t=wc([ae("navigationService")],t)}(Ve),bc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ec=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Sc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return bc(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ue.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Gt()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY;this.setOffset(e*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"===typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:Ue.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t},Ec([ie],t.prototype,"postConstruct",null),t=Ec([ae("maxDivHeightScaler")],t)}(Ve),Oc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_c=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oc(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterGroup}))}},t.prototype.updateSelectableAfterFiltering=function(e){if(this.isRowSelectableFunc){this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterFilter}))}},t.prototype.recurseDown=function(e,t){var n=this;e&&e.forEach((function(e){if(e.group){var o;if(e.hasChildren()&&n.recurseDown(t(e),t),n.groupSelectsChildren)o=r(c(t(e),"selectable",!0));else o=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(e);e.setRowSelectable(o)}}))},_c([ie],t.prototype,"init",null),t=_c([ae("selectableService")],t)}(Ve),Tc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ac=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tc(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.getPreferredHeightForRow=function(e){var t=this,n=document.createElement("div");this.addInRowCssClasses(e,n);var r=this.gridPanel.getCenterContainer();r.appendChild(n);var o=$s.createChildScopeOrNull(e,this.$scope,this.beans.gridOptionsWrapper),i=o?o.scope:void 0,s=o?o.scopeDestroyFunc:void 0,a=[],u=this.columnController.getAllAutoRowHeightCols(),l=this.columnController.getAllDisplayedColumns();u.filter((function(e){return l.indexOf(e)>=0})).forEach((function(r){var o=new Ys(i,t.beans,r,e,null,!0,!1);o.setParentRow(n),a.push(o)}));var c=a.map((function(e){return e.getCreateTemplate()})).join(" ");n.innerHTML=c,a.forEach((function(e){return e.afterAttached()})),i&&this.$compile(n)(i);for(var p=0,h=0;h<n.children.length;h++){var d=n.children[h];d.offsetHeight>p&&(p=d.offsetHeight)}return r.removeChild(n),a.forEach((function(e){e.detach(),e.destroy()})),s&&s(),p},t.prototype.addInRowCssClasses=function(e,t){var n=e.rowIndex,r={rowNode:e,rowIsEven:n%2===0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(e),firstRowOnPage:n===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:n===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:e.isExpandable()};Ut(t,this.rowCssClassCalculator.getInitialRowClasses(r).join(" "))},Ac([ue("beans")],t.prototype,"beans",void 0),Ac([ue("$scope")],t.prototype,"$scope",void 0),Ac([ue("columnController")],t.prototype,"columnController",void 0),Ac([ue("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Ac([ue("$compile")],t.prototype,"$compile",void 0),t=Ac([ae("autoHeightCalculator")],t)}(Ve),Dc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ic=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Nc=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return Dc(t,e),t.prototype.postConstruct=function(){var e=this,t=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",mr(t?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",mr(t?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",mr(t?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",mr(t?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(t){var n=t.el,r=t.fn;e.addManagedListener(n,"click",r),e.addManagedListener(n,"keydown",(function(e){e.keyCode!==eo.ENTER&&e.keyCode!==eo.SPACE||(e.preventDefault(),r())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),n=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):ut(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),r=e("of","of"),o=e("firstPage","First Page"),i=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),u=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+u+'" aria-live="polite" aria-describedby="'+("ag-"+u+"-start-page ag-"+u+"-start-page-number ag-"+u+"-of-page ag-"+u+"-of-page-number")+" "+("ag-"+u+"-first-row ag-"+u+"-to ag-"+u+"-last-row ag-"+u+"-of ag-"+u+"-row-count")+'">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+u+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+u+'-to">'+n+'</span>\n                    <span id="ag-'+u+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+u+'-of">'+r+'</span>\n                    <span id="ag-'+u+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+u+'-start-page">'+t+'</span>\n                        <span id="ag-'+u+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+u+'-of-page">'+r+'</span>\n                        <span id="ag-'+u+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,qt(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),zn(this.btFirst,this.previousAndFirstButtonsDisabled),qt(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),zn(this.btPrevious,this.previousAndFirstButtonsDisabled);var r=this.isZeroPagesToDisplay(),o=t&&e===n-1;this.nextButtonDisabled=o||r,qt(this.btNext,"ag-disabled",this.nextButtonDisabled),zn(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!t||r||e===n-1,qt(this.btLast,"ag-disabled",this.lastButtonDisabled),zn(this.btLast,this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var e,t,n=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(t=(e=r*n+1)+r-1,o&&t>i&&(t=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},Ic([ue("paginationProxy")],t.prototype,"paginationProxy",void 0),Ic([ue("rowModel")],t.prototype,"rowModel",void 0),Ic([ue("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ic([Yr("btFirst")],t.prototype,"btFirst",void 0),Ic([Yr("btPrevious")],t.prototype,"btPrevious",void 0),Ic([Yr("btNext")],t.prototype,"btNext",void 0),Ic([Yr("btLast")],t.prototype,"btLast",void 0),Ic([Yr("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Ic([Yr("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Ic([Yr("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Ic([Yr("lbCurrent")],t.prototype,"lbCurrent",void 0),Ic([Yr("lbTotal")],t.prototype,"lbTotal",void 0),Ic([ie],t.prototype,"postConstruct",null),t}(zr),Lc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lc(t,e),t.prototype.observeResize=function(e,t,n){void 0===n&&(n=50);var r=this.getFrameworkOverrides(),o=ee(t,n),i=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!window.ResizeObserver&&!i?function(){var t=new window.ResizeObserver(o);return t.observe(e),function(){return t.disconnect()}}():function(){var o=fn(e),i=dn(e),s=!0;return function a(){if(s){var u=fn(e),l=dn(e);(u!==o||l!==i)&&(o=u,i=l,t()),r.setTimeout(a,n)}}(),function(){return s=!1}}()},t=xc([ae("resizeObserverService")],t)}(Ve),Mc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(_u||(_u={}));var Gc=function(e){function t(){var n=e.call(this,t.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Mc(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){qt(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===_u.Loading),qt(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===_u.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,_u.Loading)},t.prototype.showNoRowsOverlay=function(){var e=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,_u.NoRows)},t.prototype.showOverlay=function(e,t){var n=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then((function(e){n.inProgress=!1,n.eOverlayWrapper.appendChild(e.getGui()),n.activeOverlay=e,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),un(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',kc([ue("userComponentFactory")],t.prototype,"userComponentFactory",void 0),kc([Yr("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),kc([ie],t.prototype,"postConstruct",null),t}(zr),Vc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hc=function(e){function t(n){void 0===n&&(n={});var r=e.call(this,t.getTemplate(n))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var o=n.title,i=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,u=n.suppressOpenCloseIcons;return r.title=o,r.cssIdentifier=n.cssIdentifier||"default",r.enabled=null==i||i,r.items=s||[],r.alignItems=n.alignItems||"center",null!=a&&(r.suppressEnabledCheckbox=a),null!=u&&(r.suppressOpenCloseIcons=u),r}return Vc(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(yr("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(yr("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return e.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(t){switch(t.keyCode){case eo.ENTER:e.toggleGroupExpand();break;case eo.RIGHT:e.toggleGroupExpand(!0);break;case eo.LEFT:e.toggleGroupExpand(!1)}}))},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Qt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Qt(this.eGroupOpenedIcon,e&&this.expanded),Qt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();return this.alignItems!==e&&zt(t,"ag-group-item-alignment-"+this.alignItems),this.alignItems=e,Ut(t,"ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Qt(this.eContainer,!0),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.refreshChildDisplay(),Qt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.eContainer,n=e instanceof zr?e.getGui():e;Ut(n,"ag-group-item"),Ut(n,"ag-"+this.cssIdentifier+"-group-item"),t.appendChild(n),this.items.push(n)},t.prototype.hideItem=function(e,t){qt(this.items[t],"ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){Ut(this.eTitleBar,e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(n){t.setEnabled(n,!0),e(n)})),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){qt(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Ut(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(zt(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),qt(this.eContainer,"ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",jc([Yr("eTitleBar")],t.prototype,"eTitleBar",void 0),jc([Yr("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),jc([Yr("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),jc([Yr("eToolbar")],t.prototype,"eToolbar",void 0),jc([Yr("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),jc([Yr("eTitle")],t.prototype,"eTitle",void 0),jc([Yr("eContainer")],t.prototype,"eContainer",void 0),jc([ie],t.prototype,"postConstruct",null),t}(zr),Wc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Uc=function(e){function t(n){var r=e.call(this,t.getTemplate(n))||this;return r.closable=!0,r.positioned=!1,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.size={width:void 0,height:void 0},r.config=n,r}return Wc(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,n=t.component,r=t.closable,o=t.hideTitleBar,i=t.title,s=t.minWidth,a=t.width,u=t.minHeight,l=t.height,c=t.centered,p=t.x,h=t.y,d=this.getGui();n&&this.setBodyComponent(n),o?Ut(this.eTitleBar,"ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=r?r:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(t){if(d.contains(t.relatedTarget)||d.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var n=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),this.positioned||(this.minHeight=null!=u?u:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),l&&this.setHeight(l),this.renderComponent&&this.renderComponent(),a&&l||this.refreshSize(),c?this.center():(p||h)&&this.offsetElement(p,h),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),n=e.e,r=e.isLeft,o=e.isTop,i=e.anywhereWithin,s=e.topBuffer,a=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,l=this.getWidth(),c=this.getHeight(),p=t.left>=n.clientX&&this.position.x<=0||t.right<=n.clientX&&t.right<=this.position.x+t.left+l;return p||(p=r?a<0&&n.clientX>this.position.x+t.left||a>0&&n.clientX<this.position.x+t.left:i?a<0&&n.clientX>this.position.x+t.left+l||a>0&&n.clientX<this.position.x+t.left:a<0&&n.clientX>this.position.x+t.left+l||a>0&&n.clientX<this.position.x+t.left+l),{movementX:a=p?0:a,movementY:u=t.top>=n.clientY&&this.position.y<=0||t.bottom<=n.clientY&&t.bottom<=this.position.y+t.top+c||o&&(u<0&&n.clientY>this.position.y+t.top+(s||0)||u>0&&n.clientY<this.position.y+t.top)||!o&&(u<0&&n.clientY>this.position.y+t.top+c||u>0&&n.clientY<this.position.y+t.top+c)?0:u}},t.prototype.refreshSize=function(){var e=this.size,t=e.width,n=e.height;t||this.setWidth(this.getGui().offsetWidth),n||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Sn(t,e),e=nn(t),n=!0;else{e=Math.max(this.minHeight,e);var r=t.offsetParent;r&&r.clientHeight&&e+this.position.y>r.clientHeight&&(e=r.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,n?(t.style.maxHeight="unset",t.style.minHeight="unset"):Sn(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))En(t,e),e=rn(t),n=!0;else{e=Math.max(this.minWidth,e);var r=t.offsetParent;r&&r.clientWidth&&e+this.position.x>r.clientWidth&&(e=r.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,n?(t.style.maxWidth="unset",t.style.minWidth="unset"):En(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,n=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,n)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new zr(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n),(r=n.getGui()).appendChild(Ut(mr("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r;(r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var n=this.eTitleBarButtons,r=n.children,o=r.length;null==t&&(t=o),t=Math.max(0,Math.min(t,o));var i=e.getGui();Ut(i,"ag-panel-title-bar-button"),0===t?n.insertAdjacentElement("afterbegin",i):t===o?n.insertAdjacentElement("beforeend",i):r[t-1].insertAdjacentElement("afterend",i),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return en(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return tn(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Bc([ue("popupService")],t.prototype,"popupService",void 0),Bc([Yr("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Bc([Yr("eTitleBar")],t.prototype,"eTitleBar",void 0),Bc([Yr("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Bc([Yr("eTitle")],t.prototype,"eTitle",void 0),Bc([ie],t.prototype,"postConstruct",null),t}(zr),zc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Kc=function(e){function t(t){var n=e.call(this,t)||this;return n.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',n.resizable={},n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return zc(t,e),t.prototype.postConstruct=function(){var t=this,n=this.getGui(),r=this.config,o=r.movable,i=r.resizable,s=r.maximizable;Ut(n,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(e){n.contains(e.relatedTarget)||t.popupService.bringPopupToFront(n)})),o&&this.setMovable(o),s&&this.setMaximizable(s),this.addResizers(),i&&this.setResizable(i)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,n=t.alwaysOnTop,r=t.modal,o=this.popupService.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n});o&&(this.close=o.hideFunc)},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var n=!!t.match(/left/i),r=!!t.match(/right/i),o=!!t.match(/top/i),i=!!t.match(/bottom/i),s=n||r,a=o||i,u=this.calculateMouseMovement({e:e,isLeft:n,isTop:o}),l=u.movementX,c=u.movementY,p=0,h=0;if(s&&l){var d=n?-1:1,f=this.getWidth(),g=f+l*d,v=!1;n&&(p=f-g,(this.position.x+p<=0||g<=this.minWidth)&&(v=!0,p=0)),v||this.setWidth(g)}if(a&&c){d=o?-1:1;var y=this.getHeight(),m=y+c*d,w=!1;o&&(h=y-m,(this.position.y+h<=0||m<=this.minHeight)&&(w=!0,h=0)),w||this.setHeight(m)}this.updateDragStartPosition(e.clientX,e.clientY),(p||h)&&this.offsetElement(this.position.x+p,this.position.y+h)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,n=t.x,r=t.y,o=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()}),i=o.movementX,s=o.movementY;this.offsetElement(n+i,r+s),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,n=e.y,r=e.width,o=e.height;this.setWidth(r),this.setHeight(o),this.offsetElement(t,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Qt(this.maximizeIcon,!this.isMaximized),Qt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){var t=this;"boolean"===typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach((function(n){var r=n,o=!!e[r],i=t.getResizerElement(r),s=t.resizerMap[r].dragSource||{eElement:i,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,r)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[r]===o&&(t.isAlive()||o)||(o?(t.dragService.addDragSource(s),i.style.pointerEvents="all"):(t.dragService.removeDragSource(s),i.style.pointerEvents="none"),t.resizerMap[r].dragSource=o?s:void 0)}))},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var r=this.maximizeButtonComp=this.createBean(new zr('<div class="ag-dialog-button"></span>')),o=r.getGui();o.appendChild(this.maximizeIcon=mr("maximize",this.gridOptionsWrapper)),Ut(this.maximizeIcon,"ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=mr("minimize",this.gridOptionsWrapper)),Ut(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Ut(this.minimizeIcon,"ag-hidden"),r.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},qc([ue("dragService")],t.prototype,"dragService",void 0),t}(Uc),Yc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qc=function(e){function t(t,n,r){return void 0===n&&(n="ag-text-field"),void 0===r&&(r="text"),e.call(this,t,n,r)||this}return Yc(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,n){var o=e.prototype.setValue.call(this,t,n);return this.eInput.value!==t&&(this.eInput.value=r(t)?t:""),o},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(t){t.key&&!e.test(t.key)&&t.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(t){R(t.clipboardData.getData("text"),(function(t){return!e.test(t)}))&&t.preventDefault()}))},t}(ma),$c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return $c(t,e),t.prototype.setValue=function(t,n){var r=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(ma),Jc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zc=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ep=function(e){function t(n){var r=e.call(this,n,t.TEMPLATE)||this;return r.labelAlignment="top",r}return Jc(t,e),t.prototype.init=function(){Ut(this.eSlider.getGui(),"ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,n=ga.EVENT_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(t.eText.getValue());t.eSlider.setValue(n.toString(),!0),e(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=t.eSlider.getValue();t.eText.setValue(n,!0),e(parseFloat(n))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:ga.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Zc([Yr("eLabel")],t.prototype,"eLabel",void 0),Zc([Yr("eSlider")],t.prototype,"eSlider",void 0),Zc([Yr("eText")],t.prototype,"eText",void 0),Zc([ie],t.prototype,"init",null),t}(da),tp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),np=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},rp=function(e){function t(n){var r=e.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=n.picker,r}return tp(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var n=e.clientX-t.left,r=e.clientY-t.top;n=Math.max(n,0),n=Math.min(n,t.width),r=Math.max(r,0),r=Math.min(r,t.height),this.setSpectrumValue(n/t.width,1-r/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var n=this.spectrumHueSlider,r=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.H=1-o/t.width,n.style.left=o+r.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var n=this.spectrumAlphaSlider,r=n.getBoundingClientRect(),o=e.clientX-t.left;o=Math.max(o,0),o=Math.min(o,t.width),this.A=o/t.width,n.style.left=o+r.width/2+"px",this.update()}},t.prototype.update=function(){var e=Et.fromHSB(360*this.H,this.S,this.B,this.A),t=Et.fromHSB(360*this.H,1,1),n=e.toRgbaString(),r=this.picker;Et.fromString(r.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),r.setValue(n),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},t.prototype.setSpectrumValue=function(e,t){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var r=this.spectrumDragger,o=r.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,r.style.left=e*n.width-o.width/2+"px",r.style.top=(1-t)*n.height-o.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map((function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'}));this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=Et.fromString(e),n=t.toHSB(),r=n[0],o=n[1],i=n[2];this.H=(isNaN(r)?0:r)/360,this.A=t.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,i)},t.prototype.onRecentColorClick=function(e){var n=e.target;if(r(n.id)){var o=parseInt(n.id,10);this.setValue(t.recentColors[o]),this.destroy()}},t.prototype.addRecentColor=function(){var e=Et.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=t.recentColors;this.colorChanged&&n[0]!==e&&(n=n.filter((function(t){return t!=e})),(n=[e].concat(n)).length>t.maxRecentColors&&(n=n.slice(0,t.maxRecentColors)),t.recentColors=n)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',np([Yr("spectrumColor")],t.prototype,"spectrumColor",void 0),np([Yr("spectrumVal")],t.prototype,"spectrumVal",void 0),np([Yr("spectrumDragger")],t.prototype,"spectrumDragger",void 0),np([Yr("spectrumHue")],t.prototype,"spectrumHue",void 0),np([Yr("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),np([Yr("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),np([Yr("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),np([Yr("recentColors")],t.prototype,"recentColors",void 0),np([ie],t.prototype,"postConstruct",null),t}(zr),op=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ip=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},sp=function(e){function t(t,n,r,o){var i=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(o?'aria-haspopup="'+o+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return i.pickerIcon=r,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return op(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Un(this.eWrapper,n);var r=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",(function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&cn(t.pickerComponent.getGui())&&o.contains(e.target)&&(t.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(e){switch(e.keyCode){case eo.UP:case eo.DOWN:case eo.ENTER:case eo.SPACE:r();case eo.ESCAPE:t.isPickerDisplayed&&e.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",r),this.addManagedListener(this.eLabel,"click",r),this.pickerIcon){var i=mr(this.pickerIcon,this.gridOptionsWrapper);i&&this.eIcon.appendChild(i)}},t.prototype.refreshLabel=function(){r(this.getLabel())?Bn(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return Wn(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return bn(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},ip([Yr("eLabel")],t.prototype,"eLabel",void 0),ip([Yr("eWrapper")],t.prototype,"eWrapper",void 0),ip([Yr("eDisplayField")],t.prototype,"eDisplayField",void 0),ip([Yr("eIcon")],t.prototype,"eIcon",void 0),t}(ga),ap=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),up=function(e){function t(t){var n=e.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(n.value=t.color),n}return ap(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),n=this.createBean(new Kc({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250}));this.isPickerDisplayed=!0,Ut(n.getGui(),"ag-color-dialog");var r=this.createBean(new rp({picker:this}));return r.addDestroyFunc((function(){n.isAlive()&&e.destroyBean(n)})),n.setParentComponent(this),n.setBodyComponent(r),r.setValue(this.getValue()),n.addDestroyFunc((function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,r.isAlive()&&e.destroyBean(r)),e.isAlive()&&e.getFocusableElement().focus(),e.isPickerDisplayed=!1})),n},t.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,e.prototype.setValue.call(this,t))},t.prototype.getValue=function(){return this.value},t}(sp),lp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return lp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var e=parseFloat(t.eInput.value),n=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==n&&t.setValue(n)}))},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Dn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Dn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Dn(this.eInput,"step",e)),this},t.prototype.setValue=function(t,n){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,n)},t}(Qc),pp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hp=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return pp(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,n=t.min,r=t.max,o=t.step;null!=n&&this.setMinValue(n),null!=r&&this.setMaxValue(r),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this,t=It()?"change":"input";this.addManagedListener(this.eInput,t,(function(t){var n=t.target.value;e.setValue(n)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,n){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var r=e.prototype.setValue.call(this,t,n);return this.eInput.value=t,r},t}(ma),dp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},gp=function(e){function t(t){void 0===t&&(t="default");var n=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return dp(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.keyCode;switch(t){case eo.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case eo.DOWN:case eo.UP:var r=t===eo.DOWN,o=void 0;if(e.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),o=this.itemEls[i]}else o=this.itemEls[r?0:this.itemEls.length-1];this.highlightItem(o)}},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=e.value,n=$e(e.text||t);return this.options.push({value:t,text:n}),this.renderOption(t,n),this},t.prototype.renderOption=function(e,t){var n=this,r=document.createElement("div");r.setAttribute("role","option"),Ut(r,"ag-list-item"),Ut(r,"ag-"+this.cssIdentifier+"-list-item"),r.innerHTML="<span>"+t+"</span>",r.tabIndex=-1,this.itemEls.push(r),this.addManagedListener(r,"mouseover",(function(){return n.highlightItem(r)})),this.addManagedListener(r,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(r,"click",(function(){return n.setValue(e)})),this.getGui().appendChild(r)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var n=O(this.options,(function(t){return t.value===e}));if(-1!==n){var r=this.options[n];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=O(this.options,(function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,Ut(this.highlightedEl,t.ACTIVE_CLASS),or(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(zt(this.highlightedEl,t.ACTIVE_CLASS),or(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:ga.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",fp([ie],t.prototype,"init",null),t}(zr),vp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},mp=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return vp(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new gp("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,gp.EVENT_ITEM_SELECTED,(function(){e.hideList&&e.hideList()})),this.listComponent.addManagedListener(this.listComponent,ga.EVENT_CHANGED,(function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()}))},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),n=this.addManagedListener(document.body,"wheel",(function(n){!t.contains(n.target)&&e.hideList&&e.hideList()})),r=this.addManagedListener(t,"focusout",(function(n){!t.contains(n.relatedTarget)&&e.hideList&&e.hideList()})),o=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,r(),n(),e.isAlive()&&e.getFocusableElement().focus()}});return o&&(this.hideList=o.hideFunc),this.isPickerDisplayed=!0,bn(t,rn(this.eWrapper)),t.style.maxHeight=en(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,n,r){return this.value===t?this:(r||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,n)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},yp([ue("popupService")],t.prototype,"popupService",void 0),yp([ie],t.prototype,"init",null),t}(sp),wp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},bp=function(e){function t(n){var r=e.call(this,n,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return wp(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var n=parseFloat(e);n>180&&(n-=360),t.setValue(n)})),this.updateNumberInput(),r(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ga.EVENT_CHANGED,(function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()}))},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,r=t.width/2,o=t.height/2;n.style.left=r+8*Math.cos(e)+"px",n.style.top=o+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,n=Math.atan2(t,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(n)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,n=t.width/2,r=t.height/2,o=e.clientX-t.left-n,i=e.clientY-t.top-r,s=Math.atan2(i,o);this.setValue(s,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,ga.EVENT_CHANGED,(function(){e(t.degrees)})),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var n;return n=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(n),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:ga.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return En(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Cp([Yr("eLabel")],t.prototype,"eLabel",void 0),Cp([Yr("eParentCircle")],t.prototype,"eParentCircle",void 0),Cp([Yr("eChildCircle")],t.prototype,"eChildCircle",void 0),Cp([Yr("eAngleValue")],t.prototype,"eAngleValue",void 0),Cp([ue("dragService")],t.prototype,"dragService",void 0),t}(da),Ep=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sp=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return Ep(t,e),t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,n),qt(this.getGui(),"ag-selected",this.getValue()),this},t}(Ca),Op=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_p=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheItems=[],t}return Op(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(e,t,n){if(!this.active||!e.detail)this.destroyFullWidthRow(n);else{var r=this.getCacheItem(e,!0);switch(t){case ye.PINNED_LEFT:this.destroyFullWidthRow(r.left),r.left=n;break;case ye.PINNED_RIGHT:this.destroyFullWidthRow(r.right),r.right=n;break;default:this.destroyFullWidthRow(r.center),r.center=n}this.cacheItems.sort((function(e,t){return t.lastAccessedTime-e.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}},t.prototype.getCacheItem=function(e,t){void 0===t&&(t=!1);for(var n=null,r=0;r<this.cacheItems.length;r++){var o=this.cacheItems[r];if(o.rowNode===e){n=o;break}}return!n&&t&&(n={rowNode:e},this.cacheItems.push(n)),n&&this.stampCacheItem(n),n},t.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(e){this.getContext().destroyBean(e)},t.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var n=this.cacheItems[t];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},t.prototype.get=function(e,t){if(e.detail){var n,r=this.getCacheItem(e);if(r)switch(t){case ye.PINNED_LEFT:r.left&&(n=r.left,r.left=void 0);break;case ye.PINNED_RIGHT:r.right&&(n=r.right,r.right=void 0);break;default:r.center&&(n=r.center,r.center=void 0)}return n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.purgeCache(0)},_p([ie],t.prototype,"postConstruct",null),_p([se],t.prototype,"destroy",null),t=_p([ae("detailRowCompCache")],t)}(Ve),Tp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ap=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tp(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e=ye.PINNED_TOP:this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e=ye.PINNED_BOTTOM),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t,n=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return n?(t=ye.PINNED_BOTTOM,e=n-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):r&&(t=ye.PINNED_TOP,e=r-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)},t.prototype.before=function(e,t){switch(e.rowPinned){case ye.PINNED_TOP:if(t.rowPinned!==ye.PINNED_TOP)return!0;break;case ye.PINNED_BOTTOM:if(t.rowPinned!==ye.PINNED_BOTTOM)return!1;break;default:if(r(t.rowPinned))return t.rowPinned!==ye.PINNED_TOP}return e.rowIndex<t.rowIndex},Ap([ue("rowModel")],t.prototype,"rowModel",void 0),Ap([ue("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ap([ue("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Ap([ae("rowPositionUtils")],t)}(Ve),Dp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ip=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dp(t,e),t.prototype.createId=function(e){var t=e.rowIndex,n=e.rowPinned,r=e.column;return this.createIdFromValues(t,r,n)},t.prototype.createIdFromValues=function(e,t,n){return e+"."+(null==n?"null":n)+"."+t.getId()},t.prototype.equals=function(e,t){var n=e.column===t.column,r=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&r&&o},t=Ip([ae("cellPositionUtils")],t)}(Ve),Lp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return i(e===ye.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var n=t===ye.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(i(n))return 0;for(var r=0;r<n.length;r++){var o=n[r];if(o.rowTop+o.rowHeight-1>=e)return r}return n.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var t={type:Ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var t={type:Ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.createNodesFromData=function(e,t){var n=this,r=[];if(e){var o=0;e.forEach((function(e,i){var s=new Io;n.context.createBean(s),s.data=e;var a=t?Io.ID_PREFIX_TOP_PINNED:Io.ID_PREFIX_BOTTOM_PINNED;s.id=a+i,s.rowPinned=t?ye.PINNED_TOP:ye.PINNED_BOTTOM,s.setRowTop(o),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(i),o+=s.rowHeight,r.push(s)}))}return r},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){i(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){i(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=g(e);return t.rowTop+t.rowHeight},xp([ue("columnApi")],t.prototype,"columnApi",void 0),xp([ue("gridApi")],t.prototype,"gridApi",void 0),xp([ie],t.prototype,"init",null),t=xp([ae("pinnedRowModel")],t)}(Ve),Mp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kp=function(e){this.cellValueChanges=e},Gp=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.initialRange=n,o.finalRange=r,o}return Mp(t,e),t}(kp),Vp=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),jp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wp=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.isCellEditing=!1,t.isRowEditing=!1,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var n=e.rowPinned,r=e.rowIndex,o=e.column,i=e.oldValue,s=e.value,a={rowPinned:n,rowIndex:r,columnId:o.getColId(),newValue:s,oldValue:i};t.cellValueChanges.push(a)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return jp(n,e),n.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Vp(e),this.redoStack=new Vp(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Ue.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Ue.EVENT_ROW_DRAG_END,this.clearStacks))}},n.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},n.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},n.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.oldValue})),e instanceof Gp?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},n.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.newValue})),e instanceof Gp?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},n.prototype.processAction=function(e,t){var n=this;e.cellValueChanges.forEach((function(e){var r=e.rowIndex,o=e.rowPinned,i=e.columnId,s={rowIndex:r,rowPinned:o},a=n.getRowNode(s);a.displayed&&a.setDataValue(i,t(e))}))},n.prototype.processRangeAndCellFocus=function(e,t){var n;if(t){var r=t.startRow,o=t.endRow;n={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:t.startColumn.getColId()},this.setLastFocusedCell(n);var i={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:t.startColumn,columns:t.columns};this.gridApi.addCellRange(i)}else{var s=e[0],a={rowIndex:s.rowIndex,rowPinned:s.rowPinned},u=this.getRowNode(a);n={rowPinned:s.rowPinned,rowIndex:u.rowIndex,columnId:s.columnId},this.setLastFocusedCell(n)}},n.prototype.setLastFocusedCell=function(e){var n=e.rowIndex,r=e.columnId,o=e.rowPinned;this.gridApi.ensureIndexVisible(n),this.gridApi.ensureColumnVisible(r),me.isRegistered(t.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(n,r,o,!0)},n.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_ROW_EDITING_STARTED,(function(){e.isRowEditing=!0})),this.addManagedListener(this.eventService,Ue.EVENT_ROW_EDITING_STOPPED,(function(){var t=new kp(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isRowEditing=!1}))},n.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_CELL_EDITING_STARTED,(function(){e.isCellEditing=!0})),this.addManagedListener(this.eventService,Ue.EVENT_CELL_EDITING_STOPPED,(function(){if(e.isCellEditing=!1,!e.isRowEditing&&!e.isPasting&&!e.isFilling){var t=new kp(e.cellValueChanges);e.pushActionsToUndoStack(t)}}))},n.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_PASTE_START,(function(){e.isPasting=!0})),this.addManagedListener(this.eventService,Ue.EVENT_PASTE_END,(function(){var t=new kp(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1}))},n.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Ue.EVENT_FILL_START,(function(){e.isFilling=!0})),this.addManagedListener(this.eventService,Ue.EVENT_FILL_END,(function(t){var n=new Gp(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(n),e.isFilling=!1}))},n.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},n.prototype.getRowNode=function(e){switch(e.rowPinned){case ye.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ye.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Hp([ue("focusController")],n.prototype,"focusController",void 0),Hp([ue("gridApi")],n.prototype,"gridApi",void 0),Hp([ue("rowModel")],n.prototype,"rowModel",void 0),Hp([ue("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Hp([ie],n.prototype,"init",null),n=Hp([ae("undoRedoService")],n)}(Ve),Bp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Up=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},zp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return Bp(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=Up([ae("agStackComponentsRegistry")],t)}(Ve),qp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qp(t,e),t.prototype.findHeader=function(e,t){var n,r,o;if(e.column instanceof Ee?(r="getDisplayedGroup"+t,n=this.columnController[r](e.column)):(o="getDisplayedCol"+t,n=this.columnController[o](e.column)),n)return{column:n,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var n=this.columnController.getAllDisplayedColumns(),r=n["start"===t?0:n.length-1];if(r){var o=this.headerNavigationService.getHeaderContainer(r.getPinned()).getRowComps()[e];return(o&&o.getType())==ms.COLUMN_GROUP?{headerRowIndex:e,column:this.columnController.getColumnGroupAtLevel(r,e)}:{headerRowIndex:o?e:-1,column:r}}},Kp([ue("columnController")],t.prototype,"columnController",void 0),Kp([ue("headerNavigationService")],t.prototype,"headerNavigationService",void 0),t=Kp([ae("headerPositionUtils")],t)}(Ve),Qp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},$p=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,n){var r=this,o=[],i={};return e.forEach((function(e){for(var s=!0,a=r.createDefFromColumn(e,t,n),u=e;u.getParent();){var l=u.getParent(),c=null;if(l.isPadding())u=l;else{var p=i[l.getGroupId()];if(p){p.children.push(a),s=!1;break}(c=r.createDefFromGroup(l))&&(c.children=[a],i[c.groupId]=c,a=c,u=l)}}s&&o.push(a)})),o},e.prototype.createDefFromGroup=function(e){var t=L(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},e.prototype.createDefFromColumn=function(e,t,n){var r=L(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=!e.isVisible()||void 0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,r},e=Qp([ae("columnDefFactory")],e)}(),Xp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Jp=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return r(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),S(t,this.processClassesFromGridOptions(e.rowNode,e.scope)),S(t,this.preProcessRowClassRules(e.rowNode,e.scope)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),t},e.prototype.processClassesFromGridOptions=function(e,t){var n=[],r=function(e){"string"===typeof e?n.push(e):Array.isArray(e)&&e.forEach((function(e){return n.push(e)}))},o=this.gridOptionsWrapper.getRowClass();if(o){if("function"===typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(o)}var i=this.gridOptionsWrapper.getRowClassFunc();i&&r(i({data:e.data,node:e,rowIndex:e.rowIndex,$scope:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}));return n},e.prototype.preProcessRowClassRules=function(e,t){var n=[];return this.processRowClassRules(e,t,(function(e){n.push(e)}),(function(e){})),n},e.prototype.processRowClassRules=function(e,t,n,r){var o={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:t,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),o,n,r)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},Xp([ue("stylingService")],e.prototype,"stylingService",void 0),Xp([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Xp([ae("rowCssClassCalculator")],e)}(),Zp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eh=function(e){function t(n){var r=e.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=n,r}return Zp(t,e),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,t){this.successCommon(e,t)},t.prototype.pageLoaded=function(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})},t.prototype.isRequestMostRecentAndLive=function(e){var t=e===this.version,n=this.isAlive();return t&&n},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0);var n={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(n)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Ve),th=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},rh=function(e,t){return function(n,r){t(n,r,e)}},oh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeBlockLoadsCount=0,t.blocks=[],t.active=!0,t}var n;return th(t,e),n=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();e&&e>0&&(this.checkBlockToLoadDebounce=Lr.debounce(this.performCheckBlocksToLoad.bind(this),e))},t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e),e.addEventListener(eh.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(e){Lr.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach((function(t){t.getState()===eh.STATE_WAITING_TO_LOAD&&(e=t)})),e&&(e.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach((function(t){var n=t.getBlockStateJson(),r=n.id,o=n.state;e[r]=o})),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",nh([ie],t.prototype,"postConstruct",null),nh([rh(0,pe("loggerFactory"))],t.prototype,"setBeans",null),t=n=nh([ae("rowNodeBlockLoader")],t)}(Ve),ih=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},sh=function(){function e(){}return e.prototype.doFullSort=function(e,t){var n=e.map((function(e,t){return{currentPos:t,rowNode:e}}));return n.sort(this.compareRowNodes.bind(this,t)),n.map((function(e){return e.rowNode}))},e.prototype.compareRowNodes=function(e,t,n){for(var r=t.rowNode,o=n.rowNode,i=0,s=e.length;i<s;i++){var a=e[i],u=a.sort===ye.SORT_DESC,l=this.getValue(r,a.column),c=this.getValue(o,a.column),p=void 0,h=a.column.getColDef().comparator;if(0!==(p=h?h(l,c,r,o,u):Lr.defaultComparator(l,c,this.gridOptionsWrapper.isAccentedSort())))return a.sort===ye.SORT_ASC?p:-1*p}return t.currentPos-n.currentPos},e.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},ih([ue("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ih([ue("valueService")],e.prototype,"valueService",void 0),e=ih([ae("rowNodeSorter")],e)}(),ah=function(){function e(e,n,r){if(e)if(n){var o=!!n.debug;this.gridOptions=n;var i=this.getRegisteredModules(r),s=this.createBeansList(i),a=this.createProvidedBeans(e,r);if(s){var u={providedBeanInstances:a,beanClasses:s,debug:o};this.logger=new qu("AG Grid",(function(){return n.debug}));var l=new qu("Context",(function(){return u.debug}));this.context=new re(u,l),this.registerModuleUserComponents(i),this.registerStackComponents(i);var c=new(r&&r.rootComponent||tl);this.context.createBean(c),this.setColumnsAndData(),this.dispatchGridReadyEvent(n);var p=me.isRegistered(t.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+p)}}else console.error("AG Grid: no gridOptions provided to the grid");else console.error("AG Grid: no div element provided to the grid")}return e.prototype.registerStackComponents=function(e){var t=this.createAgStackComponentsList(e);this.context.getBean("agStackComponentsRegistry").setupComponents(t)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,n=me.getRegisteredModules(),r=[],o={};function i(e,t){var n;o[(n=t).moduleName]||(o[n.moduleName]=!0,r.push(n),me.register(n,e)),t.dependantModules&&t.dependantModules.forEach(i.bind(null,e))}return t&&t.forEach(i.bind(null,!0)),n&&n.forEach(i.bind(null,!me.isPackageBased())),r},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,(function(e){return e.userComponents?e.userComponents:[]})).forEach((function(e){t.registerDefaultComponent(e.componentName,e.componentClass)}))},e.prototype.createProvidedBeans=function(e,t){var n=t?t.frameworkOverrides:null;o(n)&&(n=new Sl);var r={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:n};return t&&t.providedBeanInstances&&V(r,t.providedBeanInstances),r},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Ca},{componentName:"AgRadioButton",componentClass:bl},{componentName:"AgToggleButton",componentClass:Sp},{componentName:"AgInputTextField",componentClass:Qc},{componentName:"AgInputTextArea",componentClass:Xc},{componentName:"AgInputNumberField",componentClass:cp},{componentName:"AgInputRange",componentClass:hp},{componentName:"AgSelect",componentClass:mp},{componentName:"AgSlider",componentClass:ep},{componentName:"AgAngleSelect",componentClass:bp},{componentName:"AgColorPicker",componentClass:up},{componentName:"AgGridComp",componentClass:Ou},{componentName:"AgHeaderRoot",componentClass:au},{componentName:"AgPagination",componentClass:Nc},{componentName:"AgOverlayWrapper",componentClass:Gc},{componentName:"AgGroupComponent",componentClass:Hc},{componentName:"AgPanel",componentClass:Uc},{componentName:"AgDialog",componentClass:Kc}],n=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t=t.concat(n)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var n=[t,uc,Pp,Np,Yp,Ul,Tu,$i,rc,sc,Fc,Jo,Sc,Pc,Ju,Fp,al,gt,ve,is,Hu,cs,pu,rt,ru,Hl,ra,Iu,Be,xu,ec,Cc,Kl,fu,zu,ht,Qu,ol,ws,hs,Gu,dl,fc,vl,wl,Pl,Rl,cl,Nl,Fl,Rc,Gl,$l,yc,Rp,Wp,zp,$p,Jp,oh,sh],r=this.extractModuleEntity(e,(function(e){return e.beans?e.beans:[]}));n.push.apply(n,r);var o=[];return n.forEach((function(e){o.indexOf(e)<0&&o.push(e)})),o}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),n=e.getColumnDefs();t.setColumnDefs(n||[],"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){var t=this.context.getBean("eventService"),n={type:Ue.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi};t.dispatchEvent(n)},e.prototype.getRowModelClass=function(e){var n=this.gridOptions.rowModelType;n||(n=ye.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};e.forEach((function(e){I(e.rowModels,(function(e,t){o[e]=t}))}));var i=o[n];if(r(i))return i;n===ye.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+t.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+n),n===ye.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+t.ModuleNames.ViewportRowModelModule+" is registered.';"),n===ye.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+t.ModuleNames.ServerSideRowModelModule+" is registered.';"),n===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+t.ModuleNames.ClientSideRowModelModule+" is registered.';")},e.prototype.destroy=function(){this.gridOptions.api.destroy()},e}();function uh(e,t,n,r){var o,i,s=r.agGrid;if(i=s+".quickFilterText",o=t.$eval(s)){var a=e[0],u=new ah(a,o,{$scope:t,$compile:n,quickFilterOnScope:i});t.$on("$destroy",(function(){u&&u.destroy(),u=null}))}else console.warn("WARNING - grid options for AG Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var lh=!1;var ch,ph=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},dh=function(e){function t(n){var r=e.call(this,t.getTemplate(n.cssClass))||this;return r.items=[],r.params=n,n.items&&n.items.forEach((function(e){return r.addItem(e)})),r}return ph(t,e),t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case eo.RIGHT:case eo.LEFT:if(!this.eHeader.contains(document.activeElement))return;var t=this.items.indexOf(this.activeItem),n=e.keyCode===eo.RIGHT?Math.min(t+1,this.items.length-1):Math.max(t-1,0);if(t===n)return;e.preventDefault();var r=this.items[n];this.showItemWrapper(r),r.eHeaderButton.focus();break;case eo.UP:case eo.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,n=t.focusController,r=t.eHeader,o=t.eBody,i=t.activeItem,s=document.activeElement;if(e.preventDefault(),r.contains(s))n.focusInto(o,e.shiftKey);else if(n.isFocusUnderManagedComponent(o))i.eHeaderButton.focus();else{var a=n.findNextFocusableElement(o,!1,e.shiftKey);a?a.focus():i.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.getMinDimensions=function(){var e=this.getGui().cloneNode(!0),t=e.querySelector('[ref="eBody"]');e.style.position="fixed",this.getGui().appendChild(e);var n=0,r=0;return this.items.forEach((function(o){un(t);var i=o.tabbedItem.bodyPromise.resolveNow(null,(function(e){return e.cloneNode(!0)}));null!=i&&(t.appendChild(i),n<e.offsetWidth&&(n=e.offsetWidth),r<e.offsetHeight&&(r=e.offsetHeight))})),this.getGui().removeChild(e),{height:r,width:n}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");t.setAttribute("tabIndex","-1"),t.setAttribute("role","menuitem"),t.appendChild(e.title),Ut(t,"ag-tab"),this.eHeader.appendChild(t),Wn(t,e.titleLabel);var n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(e){var t=c(this.items,(function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(un(this.eBody),e.tabbedItem.bodyPromise.then((function(n){t.eBody.appendChild(n);var r=!t.focusController.isKeyboardMode();t.focusController.focusInto(t.eBody,!1,r),e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(t.afterAttachedParams)})),this.activeItem&&zt(this.activeItem.eHeaderButton,"ag-tab-selected"),Ut(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e):te(this.params.onActiveItemClicked)},hh([Yr("eHeader")],t.prototype,"eHeader",void 0),hh([Yr("eBody")],t.prototype,"eBody",void 0),t}(lo);(ch=t.ServerSideTransactionResultStatus||(t.ServerSideTransactionResultStatus={})).StoreNotFound="StoreNotFound",ch.StoreLoading="StoreLoading",ch.StoreWaitingToLoad="StoreWaitingToLoad",ch.StoreLoadingFailed="StoreLoadingFailed",ch.StoreWrongType="StoreWrongType",ch.Applied="Applied",ch.Cancelled="Cancelled";var fh,gh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},yh=function(e){function t(n,r){void 0===n&&(n="default"),void 0===r&&(r="listbox");var o=e.call(this,t.getTemplate(n),!0)||this;return o.cssIdentifier=n,o.ariaRole=r,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return gh(t,e),t.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),e.prototype.postConstruct.call(this)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(t){e.prototype.onFocusIn.call(this,t);var n=t.target;Kt(n,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=jn(n)-1)},t.prototype.onFocusOut=function(t){e.prototype.onFocusOut.call(this,t),this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case eo.UP:case eo.DOWN:this.navigate(e.keyCode===eo.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusController.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout((function(){var n=t.renderedRows.get(e);n&&n.eDiv.focus()}),10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!==typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var n=e*this.rowHeight,r=n+this.rowHeight,o=this.getGui(),i=o.scrollTop,s=o.offsetHeight,a=i+s<r;if(i>n)o.scrollTop=n;else if(a){var u=r-s;o.scrollTop=u}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",setTimeout((function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())}),0)}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach((function(t,n){return e.removeRow(n)}))},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,n=t+e.offsetHeight,r=Math.floor(t/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(r,o)},t.prototype.ensureRowsRendered=function(e,t){var n=this;this.renderedRows.forEach((function(r,o){(o<e||o>t)&&o!==n.lastFocusedRowIndex&&n.removeRow(o)}));for(var r=e;r<=t;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},t.prototype.insertRow=function(e){var t=this,n=this.model.getRow(e),r=document.createElement("div");if(Ut(r,"ag-virtual-list-item"),Ut(r,"ag-"+this.cssIdentifier+"-virtual-list-item"),r.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),Yn(r,this.model.getRowCount()),Qn(r,e+1),r.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var o=this.model.isRowSelected(e);or(r,!!o),ir(r,o)}r.style.height=this.rowHeight+"px",r.style.top=this.rowHeight*e+"px";var i=this.componentCreator(n,r);i.addGuiEventListener("focusin",(function(){return t.lastFocusedRowIndex=e})),r.appendChild(i.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:i,eDiv:r})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){return e.drawVirtualRows()}))},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,e.prototype.destroy.call(this))},vh([ue("resizeObserverService")],t.prototype,"resizeObserverService",void 0),vh([Yr("eContainer")],t.prototype,"eContainer",void 0),t}(lo);(fh=t.ServerSideStoreType||(t.ServerSideStoreType={})).Full="full",fh.Partial="partial";var mh,wh,Ch=function(){function e(){}return e.prototype.wrap=function(e,t,n,r,o){var i=this;void 0===n&&(n=[]);var s=this.createWrapper(e,r,o);return t.forEach((function(e){i.createMethod(s,e,!0)})),n.forEach((function(e){i.createMethod(s,e,!1)})),s},e.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},e.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},e}();(mh=t.ChartType||(t.ChartType={})).Column="column",mh.GroupedColumn="groupedColumn",mh.StackedColumn="stackedColumn",mh.NormalizedColumn="normalizedColumn",mh.Bar="bar",mh.GroupedBar="groupedBar",mh.StackedBar="stackedBar",mh.NormalizedBar="normalizedBar",mh.Line="line",mh.Scatter="scatter",mh.Bubble="bubble",mh.Pie="pie",mh.Doughnut="doughnut",mh.Area="area",mh.StackedArea="stackedArea",mh.NormalizedArea="normalizedArea",mh.Histogram="histogram",(wh=t.LegendPosition||(t.LegendPosition={})).Top="top",wh.Right="right",wh.Bottom="bottom",wh.Left="left";var bh="undefined"===typeof e?{}:e;bh.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,bh.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,bh.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,bh.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,bh.Node="undefined"===typeof Node?{}:Node,bh.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var Eh,Sh=function(){function e(t,n,r,o,i,s,a,u){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=n,this.context=r,this.eventService=o,this.columnController=i,this.gridApi=s,this.columnApi=a,this.selectionController=u,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return Lr.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL)},e.prototype.updateRowData=function(e,t){var n={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,n,r),this.executeUpdate(e,n,r),this.executeAdd(e,n),this.updateSelection(r),t&&Lr.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},e.prototype.updateSelection=function(e){var t=e.length>0;if(t&&e.forEach((function(e){e.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),t){var n={type:Ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},e.prototype.executeAdd=function(e,t){var n=this,r=e.add,o=e.addIndex;Lr.missingOrEmpty(r)||("number"===typeof o&&o>=0?r.reverse().forEach((function(e){var r=n.addRowNode(e,o);t.add.push(r)})):r.forEach((function(e){var r=n.addRowNode(e);t.add.push(r)})))},e.prototype.executeRemove=function(e,t,n){var r=this,o=e.remove;if(!Lr.missingOrEmpty(o)){var i={};o.forEach((function(e){var o=r.lookupRowNode(e);o&&(o.isSelected()&&n.push(o),o.clearRowTopAndRowIndex(),i[o.id]=!0,delete r.allNodesMap[o.id],t.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!i[e.id]}))}},e.prototype.executeUpdate=function(t,n,r){var o=this,i=t.update;Lr.missingOrEmpty(i)||i.forEach((function(t){var i=o.lookupRowNode(t);i&&(i.updateData(t),!i.selectable&&i.isSelected()&&r.push(i),o.setMasterForRow(i,t,e.TOP_LEVEL,!1),n.update.push(i))}))},e.prototype.addRowNode=function(t,n){var r=this.createNode(t,this.rootNode,e.TOP_LEVEL);return Lr.exists(n)?Lr.insertIntoArray(this.rootNode.allLeafChildren,r,n):this.rootNode.allLeafChildren.push(r),r},e.prototype.lookupRowNode=function(e){var t,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(Lr.exists(n)){var r=n(e);if(!(t=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(t=Lr.find(this.rootNode.allLeafChildren,(function(t){return t.data===e}))))return console.error("AG Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,n){var r=this;if("string"!==typeof e){var o=[];return e.forEach((function(e){var i=r.createNode(e,t,n);o.push(i)})),o}console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,n){var r=new Io;return this.context.createBean(r),r.group=!1,this.setMasterForRow(r,e,n,!0),t&&!this.suppressParentsInRowNodes&&(r.parent=t),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},e.prototype.setMasterForRow=function(e,t,n,r){if(this.doingTreeData)e.setMaster(!1),r&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),r){var o=this.columnController.getRowGroupColumns(),i=n+(o?o.length:0);e.expanded=!!e.master&&this.isExpanded(i)}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach((function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach((function(t){return e.allLeafChildren.push(t)})):e.allLeafChildren.push(t)}))},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),Oh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_h=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(Eh||(Eh={}));var Rh,Th=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRowGroupOpenedPending=!1,t}return Oh(n,e),n.prototype.init=function(){var e=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.EVERYTHING}),n=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,Ue.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var r=this.refreshModel.bind(this,{step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,is.PROP_GROUP_REMOVE_SINGLE_CHILDREN,r),this.addManagedListener(this.gridOptionsWrapper,is.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,r),this.rootNode=new Io,this.nodeManager=new Sh(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},n.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},n.prototype.ensureRowHeightsValid=function(e,t,n,r){var o,i=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),u=Math.max(s,n),l=Math.min(a,r),c=u;c<=l;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(h.height),o=!0,i=!0}}o&&this.setRowTops()}while(o);return i},n.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var n=this.gridOptionsWrapper.getDomLayout()===ye.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[t];if(Lr.missing(r.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(r,n);r.setRowHeight(o.height,o.estimated)}r.setRowTop(e),r.setRowIndex(t),e+=r.rowHeight}},n.prototype.resetRowTops=function(e,t){if(e.clearRowTopAndRowIndex(),e.hasChildren()){if(e.childrenAfterGroup)if(!(t.isActive()&&!e.expanded))for(var n=0;n<e.childrenAfterGroup.length;n++)this.resetRowTops(e.childrenAfterGroup[n],t);e.sibling&&e.sibling.clearRowTopAndRowIndex()}e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},n.prototype.ensureRowsAtPixel=function(e,n,r){var o=this;void 0===r&&(r=0);var i=this.getRowIndexAtPixel(n);return this.getRow(i)!==e[0]&&(e.forEach((function(e){Lr.removeFromArray(o.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){Lr.insertIntoArray(o.rootNode.allLeafChildren,e,Math.max(i+r,0)+t)})),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},n.prototype.highlightRowAtPixel=function(e,t){var n=null!=t?this.getRowIndexAtPixel(t):null,r=null!=n?this.getRow(n):null;if(r&&e&&r!==e&&null!=t){var o=this.getHighlightPosition(t,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(o),this.lastHighlightedRow=r}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},n.prototype.getHighlightPosition=function(e,t){if(!t){var n=this.getRowIndexAtPixel(e);if(!(t=this.getRow(n||0)))return"below"}return e-t.rowTop<t.rowHeight/2?"above":"below"},n.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},n.prototype.isLastRowIndexKnown=function(){return!0},n.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},n.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},n.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},n.prototype.getRowBounds=function(e){if(Lr.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},n.prototype.onRowGroupOpened=function(){var e=this;if(!this.onRowGroupOpenedPending){this.onRowGroupOpenedPending=!0;var n=function(){e.onRowGroupOpenedPending=!1;var n=e.gridOptionsWrapper.isAnimateRows();e.refreshModel({step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:n})};this.gridOptionsWrapper.isSuppressAnimationFrame()?n():this.animationFrameService.addDestroyTask(n)}},n.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:t.ClientSideRowModelSteps.FILTER,keepRenderedRows:!0,animate:n})}},n.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:t.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},n.prototype.getType=function(){return ye.ROW_MODEL_TYPE_CLIENT_SIDE},n.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:t.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:t.ClientSideRowModelSteps.AGGREGATE})},n.prototype.createChangePath=function(e){var t=Lr.missingOrEmpty(e),n=new ss(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},n.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction())return!1;if(null==e.rowNodeTransactions)return!1;var t=Lr.filter(e.rowNodeTransactions,(function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0}));return null==t||0==t.length},n.prototype.refreshModel=function(e){var n=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var r=this.createChangePath(e.rowNodeTransactions);switch(e.step){case t.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,r,!!e.afterColumnsChanged);case t.ClientSideRowModelSteps.FILTER:this.doFilter(r);case t.ClientSideRowModelSteps.PIVOT:this.doPivot(r);case t.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(r);case t.ClientSideRowModelSteps.SORT:this.doSort(e.rowNodeTransactions,r);case t.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,r),this.setRowTops();var o={type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1};this.eventService.dispatchEvent(o),this.$scope&&window.setTimeout((function(){n.$scope.$apply()}),0)}},n.prototype.isEmpty=function(){var e=Lr.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Lr.missing(this.rootNode)||e||!this.columnController.isReady()},n.prototype.isRowsToRender=function(){return Lr.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},n.prototype.getNodesInRangeForSelection=function(e,t){var n,r=!t,o=!1,i=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var u=r&&!o;if(r||a!==t&&a!==e||(r=!0),!(a.group&&s)){var l=r&&!o,c=a.isParentOfNode(n);(l||c)&&i.push(a)}u&&(a!==t&&a!==e||(o=!0,n=a===t?t:e))})),i},n.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},n.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},n.prototype.getRootNode=function(){return this.rootNode},n.prototype.getRow=function(e){return this.rowsToDisplay[e]},n.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},n.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Lr.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((t+n)/2),o=this.rowsToDisplay[r];if(this.isRowInPixel(o,e))return r;o.rowTop<e?t=r+1:o.rowTop>e&&(n=r-1)}},n.prototype.isRowInPixel=function(e,t){var n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t},n.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,n){return e(t,n)}))},n.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Eh.Normal,0)},n.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Eh.AfterFilter,0)},n.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Eh.AfterFilterAndSort,0)},n.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Eh.PivotNodes,0)},n.prototype.recursivelyWalkNodesAndCallback=function(e,t,n,r){if(!e)return r;for(var o=0;o<e.length;o++){var i=e[o];if(t(i,r++),i.hasChildren()){var s=null;switch(n){case Eh.Normal:s=i.childrenAfterGroup;break;case Eh.AfterFilter:s=i.childrenAfterFilter;break;case Eh.AfterFilterAndSort:s=i.childrenAfterSort;break;case Eh.PivotNodes:s=i.leafGroup?null:i.childrenAfterSort}s&&(r=this.recursivelyWalkNodesAndCallback(s,t,n,r))}}return r},n.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},n.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsWrapper.isTreeData();this.rootNode&&function t(r){if(!r)return;r.forEach((function(r){(n?Lr.exists(r.childrenAfterGroup):r.group)&&(r.expanded=e,t(r.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:t.ClientSideRowModelSteps.MAP});var r=e?"expandAll":"collapseAll",o={api:this.gridApi,columnApi:this.columnApi,type:Ue.EVENT_EXPAND_COLLAPSE_ALL,source:r};this.eventService.dispatchEvent(o)},n.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},n.prototype.doRowGrouping=function(e,t,n,r,o){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:r}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(r)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},n.prototype.restoreGroupState=function(e){e&&Lr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,n){"boolean"===typeof e[n]&&(t.expanded=e[n])}))},n.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},n.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},n.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return Lr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,n){return e[n]=t.expanded})),e},n.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},n.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},n.prototype.setRowData=function(e){var n=this.getGroupState();this.nodeManager.setRowData(e);var r={type:Ue.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,groupState:n,newData:!0})},n.prototype.batchUpdateRowData=function(e,t){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},n.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},n.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],n=[],r=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(o){var i=e.nodeManager.updateRowData(o.rowDataTransaction,void 0);n.push(i),o.callback&&t.push(o.callback.bind(null,i)),"number"===typeof o.rowDataTransaction.addIndex&&(r=!0)})),this.commonUpdateRowData(n,void 0,r),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),n.length>0){var o={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:Ue.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(o)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},n.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,t),r="number"===typeof e.addIndex;return this.commonUpdateRowData([n],t,r),n},n.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var t=0;t<this.rootNode.allLeafChildren.length;t++){e[this.rootNode.allLeafChildren[t].id]=t}return e}},n.prototype.commonUpdateRowData=function(e,n,r){r&&(n=this.createRowNodeOrder()),this.refreshModel({step:t.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,animate:!0,keepEditingRows:!0});var o={type:Ue.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},n.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},n.prototype.onRowHeightChanged=function(){this.refreshModel({step:t.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},n.prototype.resetRowHeights=function(){var e=!1;this.forEachNode((function(t){t.setRowHeight(t.rowHeight,!0);var n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e=!0})),e&&this.onRowHeightChanged()},_h([ue("columnController")],n.prototype,"columnController",void 0),_h([ue("filterManager")],n.prototype,"filterManager",void 0),_h([ue("$scope")],n.prototype,"$scope",void 0),_h([ue("selectionController")],n.prototype,"selectionController",void 0),_h([ue("valueService")],n.prototype,"valueService",void 0),_h([ue("valueCache")],n.prototype,"valueCache",void 0),_h([ue("columnApi")],n.prototype,"columnApi",void 0),_h([ue("gridApi")],n.prototype,"gridApi",void 0),_h([ue("animationFrameService")],n.prototype,"animationFrameService",void 0),_h([ue("filterStage")],n.prototype,"filterStage",void 0),_h([ue("sortStage")],n.prototype,"sortStage",void 0),_h([ue("flattenStage")],n.prototype,"flattenStage",void 0),_h([le("groupStage")],n.prototype,"groupStage",void 0),_h([le("aggregationStage")],n.prototype,"aggregationStage",void 0),_h([le("pivotStage")],n.prototype,"pivotStage",void 0),_h([ie],n.prototype,"init",null),n=_h([ae("rowModel")],n)}(Ve),Ah=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ph=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Dh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ah(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=e.changedPath;this.filterService.filter(n),this.selectableService.updateSelectableAfterFiltering(t)},Ph([ue("selectableService")],t.prototype,"selectableService",void 0),Ph([ue("filterService")],t.prototype,"filterService",void 0),t=Ph([ae("filterStage")],t)}(Ve),Ih=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ih(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortOptions(),n=Lr.exists(t)&&t.length>0,r=n&&Lr.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=r?this.calculateDirtyNodes(e.rowNodeTransactions):null,i=this.columnController.getValueColumns(),s=Lr.missingOrEmpty(i);this.sortService.sort(t,n,r,o,e.changedPath,s)},t.prototype.calculateDirtyNodes=function(e){var t={},n=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e&&e.forEach((function(e){n(e.add),n(e.update),n(e.remove)})),t},Nh([ue("sortService")],t.prototype,"sortService",void 0),Nh([ue("sortController")],t.prototype,"sortController",void 0),Nh([ue("columnController")],t.prototype,"columnController",void 0),t=Nh([ae("sortStage")],t)}(Ve),xh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Mh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xh(t,e),t.prototype.execute=function(e){var t=e.rowNode,n=[],r={value:0},o=this.columnController.isPivotMode(),i=o&&t.leafGroup,s=i?[t]:t.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,n,r,o,0),!i&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,n,r,0)),n},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,n,r,o){if(!Lr.missingOrEmpty(e))for(var i=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=0;u<e.length;u++){var l=e[u],c=l.hasChildren(),p=r&&!c,h=s&&c&&1===l.childrenAfterGroup.length,d=a&&c&&l.leafGroup&&1===l.childrenAfterGroup.length,f=r&&l.leafGroup,g=i&&l.expanded&&!f;if(!p&&!g&&!h&&!d&&this.addRowNodeToRowsToDisplay(l,t,n,o),!r||!l.leafGroup)if(c){var v=h||d;if(l.expanded||v){var y=v?o:o+1;this.recursivelyAddToRowsToDisplay(l.childrenAfterSort,t,n,r,y),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(l),this.addRowNodeToRowsToDisplay(l.sibling,t,n,o))}}else if(l.master&&l.expanded){var m=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(m,t,n,o)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,n,r){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(o?0:r)},t.prototype.ensureFooterNodeExists=function(e){if(!Lr.exists(e.sibling)){var t=new Io;this.context.createBean(t),Object.keys(e).forEach((function(n){t[n]=e[n]})),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,Lr.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(Lr.exists(e.detailNode))return e.detailNode;var t=new Io;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,Lr.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},Fh([ue("selectionController")],t.prototype,"selectionController",void 0),Fh([ue("columnController")],t.prototype,"columnController",void 0),t=Fh([ae("flattenStage")],t)}(Ve),kh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kh(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,n,r,o,i){var s=this;o&&o.forEachChangedNodeDepthFirst((function(a){s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),a.childrenAfterSort=t?n?s.doDeltaSort(a,e,r,o,i):s.rowNodeSorter.doFullSort(a.childrenAfterFilter,e):a.childrenAfterFilter.slice(0),s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(o)},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,n,r,o){var i=e.childrenAfterSort.filter((function(e){var t=!n[e.id],i=o||r&&r.canSkip(e);return t&&i})).map(this.mapNodeToSortedNode.bind(this)),s={};i.forEach((function(e){return s[e.rowNode.id]=e.rowNode}));var a=e.childrenAfterFilter.filter((function(e){return!s[e.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.rowNodeSorter.compareRowNodes.bind(this,t)),(0===a.length?i:0===i.length?a:this.mergeSortedArrays(t,i,a)).map((function(e){return e.rowNode}))},t.prototype.mergeSortedArrays=function(e,t,n){for(var r=[],o=0,i=0;o<t.length&&i<n.length;){this.rowNodeSorter.compareRowNodes(e,t[o],n[i])<0?r.push(t[o++]):r.push(n[i++])}for(;o<t.length;)r.push(t[o++]);for(;i<n.length;)r.push(n[i++]);return r},t.prototype.updateChildIndexes=function(e){if(!Lr.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,n=0;n<t.length;n++){var r=t[n],o=0===n,i=n===e.childrenAfterSort.length-1;r.setFirstChild(o),r.setLastChild(i),r.setChildIndex(n)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var n=function e(n){t.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(t){t.hasChildren()&&e(t)}))};e&&e.executeFromRootNode((function(e){return n(e)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var n=this;this.gridOptionsWrapper.isGroupHideOpenParents()&&!Lr.missing(e)&&e.forEach((function(e){n.columnController.getGroupDisplayColumns().forEach((function(r){var o=r.getColDef().showRowGroup;if("string"===typeof o){var i=o,s=n.columnController.getPrimaryColumn(i);if(!(s===e.rowGroupColumn))if(t)e.setGroupValue(r.getId(),null);else{var a=e.getFirstChildOfFirstChild(s);a&&e.setGroupValue(r.getId(),a.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Gh([ue("columnController")],t.prototype,"columnController",void 0),Gh([ue("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Gh([ie],t.prototype,"init",null),t=Gh([ae("sortService")],t)}(Ve),jh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return jh(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var n=this,r=function(t,r){t.hasChildren()?(t.childrenAfterFilter=e&&!r?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,r=e.data&&n.filterManager.doesRowPassFilter({rowNode:e});return t||r})):t.childrenAfterGroup,n.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var o=function e(t,o){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var s=t.childrenAfterGroup[i],a=o||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?e(t.childrenAfterGroup[i],a):r(s,a)}r(t,o)};t.executeFromRootNode((function(e){return o(e,!1)}))}else{t.forEachChangedNodeDepthFirst((function(e){return r(e,!1)}),!0)}},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){t++,t+=e.allChildrenCount})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){e.group?t+=e.allChildrenCount:t++})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Hh([ue("filterManager")],t.prototype,"filterManager",void 0),Hh([ie],t.prototype,"postConstruct",null),t=Hh([ae("filterService")],t)}(Ve),Bh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},zh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bh(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(Lr.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!Lr.missing(t)){var n={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Lr.exists(e)&&e.forEach((function(e,i){var s=t(e),a=r[s];(o&&(o[s]=i),a)?(a.data!==e&&n.update.push(e),r[s]=void 0):n.add.push(e)})),Lr.iterateObject(r,(function(e,t){t&&n.remove.push(t.data)})),[n,o]}console.error("AG Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Uh([ue("rowModel")],t.prototype,"rowModel",void 0),Uh([ie],t.prototype,"postConstruct",null),t=Uh([ae("immutableService")],t)}(Ve),qh={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[Dh,Lh,Mh,Vh,Wh,zh],rowModels:{clientSide:Th}},Kh=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Qh=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.parentCache=n,o.params=r,o.startRow=t*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return Kh(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,n){Lr.exists(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();Lr.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){e.params.datasource.getRows(t)}),0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,t,n){var r=this;this.rowNodes.forEach((function(o,i){r.startRow+i<n&&e(o,t.next())}))},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=e-this.startRow;return this.rowNodes[n]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,n=this.getContext().createBean(new Io);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(t),n.setRowTop(this.params.rowHeight*t),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var t=this,n=[];this.rowNodes.forEach((function(r,o){var i=e.rowData?e.rowData[o]:void 0;r.stub&&n.push(r),t.setDataAndId(r,i,t.startRow+o)})),n.length>0&&this.rowRenderer.redrawRows(n);var r=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(e){e.clearRowTopAndRowIndex()}))},Yh([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),Yh([ie],t.prototype,"postConstruct",null),Yh([se],t.prototype,"destroyRowNodes",null),t}(eh),$h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xh=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Jh=function(e,t){return function(n,r){t(n,r,e)}},Zh=function(e){function t(t){var n=e.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return $h(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var n=Math.floor(e/this.params.blockSize),r=this.blocks[n];if(!r){if(t)return null;r=this.createBlock(n)}return r.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new Qh(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){this.getBlocksInOrder().forEach((function(e){return e.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)}))},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),(this.checkRowCount(e,t)||this.params.dynamicRowHeight)&&this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,r=this.getBlocksInOrder().filter((function(t){return t!=e}));r.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var o=this.params.maxBlocksInCache>0,i=o?this.params.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(e,t){if(e.getState()===Qh.STATE_WAITING_TO_LOAD&&t>=s||!!o&&t>=i){if(n.isBlockCurrentlyDisplayed(e))return;if(n.isBlockFocused(e))return;n.removeBlockFromCache(e)}}))},t.prototype.isBlockFocused=function(e){var t=this.focusController.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var n=e.getStartRow(),r=e.getEndRow();return t.rowIndex>=n&&t.rowIndex<r},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,n)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){var n=this.rowCount;if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}return n!=this.rowCount},t.prototype.setRowCount=function(e,t){this.rowCount=e,Lr.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,n=new xr;this.getBlocksInOrder().forEach((function(r){return r.forEachNode(e,n,t.rowCount)}))},t.prototype.getBlocksInOrder=function(){return Lr.getAllValuesInObject(this.blocks).sort((function(e,t){return e.getId()-t.getId()}))},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:Ue.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(n){n.getId()*e.params.blockSize>=e.rowCount&&t.push(n)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.removeBlockFromCache(t)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var n=this,r=[],o=-1,i=!1,s=new xr;Lr.missing(e)&&(i=!0);var a=!1;return this.getBlocksInOrder().forEach((function(u){a||(i&&o+1!==u.getId()?a=!0:(o=u.getId(),u.forEachNode((function(n){var o=n===e||n===t;(i||o)&&r.push(n),o&&(i=!i)}),s,n.rowCount)))})),a||i?[]:r},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Xh([ue("columnApi")],t.prototype,"columnApi",void 0),Xh([ue("gridApi")],t.prototype,"gridApi",void 0),Xh([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),Xh([ue("focusController")],t.prototype,"focusController",void 0),Xh([Jh(0,pe("loggerFactory"))],t.prototype,"setBeans",null),Xh([se],t.prototype,"destroyAllBlocks",null),t}(Ve),ed=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),td=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ed(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,n,r){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})))},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Ue.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Lr.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ye.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){Lr.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:Ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(e,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new xr},this.infiniteCache=this.createBean(new Zh(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode((function(n){n.id===e&&(t=n)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},td([ue("filterManager")],t.prototype,"filterManager",void 0),td([ue("sortController")],t.prototype,"sortController",void 0),td([ue("selectionController")],t.prototype,"selectionController",void 0),td([ue("gridApi")],t.prototype,"gridApi",void 0),td([ue("columnApi")],t.prototype,"columnApi",void 0),td([ue("rowRenderer")],t.prototype,"rowRenderer",void 0),td([ue("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),td([ie],t.prototype,"init",null),td([se],t.prototype,"destroyDatasource",null),t=td([ae("rowModel")],t)}(Ve),rd={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:nd}},od=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),n=t.mergedParams,r=t.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(r)),r},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return Lr.assign(n,t),Lr.assign(n,e),n},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}(),id=function(){function e(e){this.groupColumns=[];var t=e.columnController,n=e.valueService,r=e.gridOptionsWrapper,o=e.processCellCallback,i=e.processHeaderCallback,s=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnController=t,this.valueService=n,this.gridOptionsWrapper=r,this.processCellCallback=o,this.processHeaderCallback=i,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.groupColumns=Lr.filter(e,(function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,n,r){var o,i=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;o=r&&r.group&&(t===i&&-1!==this.groupColumns.indexOf(e)||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(e,r);var s=this.processCell(r,e,o,this.processCellCallback,n);return null!=s?s:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[e.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,n,r,o){return r?r({column:t,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},e}(),sd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ad=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLine=!0,n.result="";var r=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=o,n}return sd(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,n){0!==n&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,n){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,ye.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(id),ud=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ld=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ud(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,n=t.columnController,r=t.valueService,o=t.gridOptionsWrapper,i=e,s=i.processCellCallback,a=i.processHeaderCallback,u=i.processGroupHeaderCallback,l=i.processRowGroupCallback,c=i.suppressQuotes,p=i.columnSeparator;return new ad({columnController:n,valueService:r,gridOptionsWrapper:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:l||void 0,suppressQuotes:c||!1,columnSeparator:p||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},ld([ue("columnController")],t.prototype,"columnController",void 0),ld([ue("valueService")],t.prototype,"valueService",void 0),ld([ue("downloader")],t.prototype,"downloader",void 0),ld([ue("gridSerializer")],t.prototype,"gridSerializer",void 0),ld([ue("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ld([ie],t.prototype,"postConstruct",null),t=ld([ae("csvCreator")],t)}(od),pd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},hd=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var n=document.createElement("a"),r=window.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout((function(){window.URL.revokeObjectURL(r)}),0)}},e=pd([ae("downloader")],e)}(),dd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},gd="\r\n",vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dd(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var n=this,r="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(o){r+=n.returnAttributeIfPopulated(e.prefix+o,e.map[o],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(o){r+=n.returnAttributeIfPopulated(o,e.properties.rawMap[o],t)})));var o="<"+e.name+r;return e.children||null!=e.textNode?null!=e.textNode?o+">"+e.textNode+"</"+e.name+">"+gd:(o+=">\r\n",e.children&&e.children.forEach((function(e){o+=n.createXml(e,t)})),o+"</"+e.name+">"+gd):o+"/>"+gd},t.prototype.returnAttributeIfPopulated=function(e,t,n){if(!t&&""!==t&&0!==t)return"";var r=t;return"boolean"===typeof t&&n&&(r=n(t))," "+e+'="'+r+'"'},t=fd([ae("xmlFactory")],t)}(Ve),yd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),md=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yd(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var n=t.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsWrapper,o=r.getApi(),i=r.getColumnApi(),s=r.isGroupRemoveSingleChildren(),a=r.isGroupRemoveLowestSingleChildren(),u=r.isGroupHideOpenParents(),l=r.getContext(),c=this.columnController.isPivotMode(),p=this.rowModel.getType()===ye.ROW_MODEL_TYPE_CLIENT_SIDE,h=!p&&t.onlySelected,d=[];if(d=Lr.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!c?(d=r.isTreeData()?this.columnController.getGridColumns([ye.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(d),t.columnGroups){var f=new ze,g=this.displayedGroupCreator.createDisplayedGroups(d,this.columnController.getGridBalancedTree(),f,null);this.recursivelyAddHeaderGroups(g,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var v=e.onNewHeaderRow();d.forEach((function(e,t){v.onColumn(e,t,void 0)}))}this.pinnedRowModel.forEachPinnedTopRow(w);var y=this.rowModel,m=this.rowModel;c?m.forEachPivotNode?m.forEachPivotNode(w):y.forEachNode(w):t.onlySelectedAllPages||h?this.selectionController.getSelectedNodes().forEach((function(e){w(e)})):p?m.forEachNodeAfterFilterAndSort(w):y.forEachNode(w);function w(r){var c=a&&r.leafGroup,p=1===r.allChildrenCount&&(s||c);if((!r.group||!(t.skipGroups||p||u))&&((!t.skipFooters||!r.footer)&&(!t.onlySelected||r.isSelected())&&(!t.skipPinnedTop||"top"!==r.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==r.rowPinned)&&(!(-1===r.level)||r.leafGroup)&&!n({node:r,api:o,context:l}))){var h=e.onNewBodyRow();if(d.forEach((function(e,t){h.onColumn(e,t,r)})),t.getCustomContentBelowRow){var f=t.getCustomContentBelowRow({node:r,api:o,columnApi:i,context:l});f&&e.addCustomContent(f)}}}return this.pinnedRowModel.forEachPinnedBottomRow(w),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,n){var r=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return r.push(e)}))})),e.length>0&&e[0]instanceof Ee&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)},t.prototype.doAddHeaderHeader=function(e,t,n){var r=this,o=e.onNewHeaderGroupingRow(),i=0;t.forEach((function(e){var t,s=e;t=n?n({columnGroup:s,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(t||"",i++,s.getLeafColumns().length-1)}))},md([ue("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),md([ue("columnController")],t.prototype,"columnController",void 0),md([ue("rowModel")],t.prototype,"rowModel",void 0),md([ue("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),md([ue("selectionController")],t.prototype,"selectionController",void 0),t=md([ae("gridSerializer")],t)}(Ve);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(Rh||(Rh={}));var Cd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ed=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],Sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return Cd(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),n=t.length,r="",o=0,i=0,s=0,a=t;s<a.length;s++){var u=a[s],l=this.getHeader(u,o),c=l.fileHeader,p=l.folderHeader,h=l.content;o+=c.length+h.length,i+=p.length,e+=c+h,r+=p}return e+r+this.buildFolderEnd(n,i,o)},t.prototype.getHeader=function(e,t){var n=e.content,r=e.path,o=e.created,i=Lr.utf8_encode,s=Lr.decToHex,a=i(r),u=a!==r,l=this.convertTime(o),c=this.convertDate(o),p="";if(u){var h=s(1,1)+s(this.getFromCrc32Table(a),4)+a;p="up"+s(h.length,2)+h}var d="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+s(l,2)+s(c,2)+s(n?this.getFromCrc32Table(n):0,4)+s(n?n.length:0,4)+s(n?n.length:0,4)+s(a.length,2)+s(p.length,2);return{fileHeader:"PK\x03\x04"+d+a+p,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+a+p,content:n||""}},t.prototype.buildFolderEnd=function(e,t,n){var r=Lr.decToHex;return"PK\x05\x06\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r),t=t>>>8^Ed[255&(t^n)];return-1^t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate()},t=bd([ae("zipContainer")],t)}(Ve),Od={moduleName:t.ModuleNames.CsvExportModule,beans:[cd,hd,vd,wd,Sd]};me.register(qh,!1),me.register(rd,!1),me.register(Od,!1),t.AgAbstractField=ga,t.AgAngleSelect=bp,t.AgCheckbox=Ca,t.AgColorPicker=up,t.AgDialog=Kc,t.AgGroupComponent=Hc,t.AgInputNumberField=cp,t.AgInputRange=hp,t.AgInputTextArea=Xc,t.AgInputTextField=Qc,t.AgPanel=Uc,t.AgPromise=Mr,t.AgRadioButton=bl,t.AgSelect=mp,t.AgSlider=ep,t.AgToggleButton=Sp,t.AlignedGridsService=ec,t.AnimateShowChangeCellRenderer=oi,t.AnimateSlideCellRenderer=ai,t.AnimationFrameService=yc,t.AutoWidthCalculator=Qu,t.Autowired=ue,t.BaseComponentWrapper=Ch,t.Bean=ae,t.BeanStub=Ve,t.BodyDropPivotTarget=qa,t.BodyDropTarget=$a,t.CellComp=Ys,t.CellNavigationService=vl,t.CellPositionUtils=Np,t.ChangedPath=ss,t.CheckboxSelectionComponent=xo,t.ColDefUtil=bt,t.Color=Et,t.Column=Ce,t.ColumnApi=hs,t.ColumnController=rt,t.ColumnFactory=Be,t.ColumnGroup=Ee,t.ColumnKeyCreator=d,t.ColumnUtils=ht,t.Component=zr,t.ComponentUtil=wt,t.Constants=ye,t.Context=re,t.CssClassApplier=oa,t.DateFilter=Eo,t.DisplayedGroupCreator=gt,t.DragAndDropService=ws,t.DragService=al,t.Environment=fc,t.EventService=ve,t.Events=Ue,t.ExpressionService=Iu,t.FilterManager=pu,t.FloatingFilterMapper=Fa,t.FloatingFilterWrapper=Ga,t.FocusController=Gu,t.Grid=ah,t.GridApi=Tu,t.GridCore=tl,t.GridListener=function(e){return $r.bind(this,e)},t.GridOptionsWrapper=is,t.GridPanel=Ou,t.GroupCellRenderer=ti,t.GroupInstanceIdCreator=ze,t.GuiListener=function(e,t){return Xr.bind(this,e,t)},t.HeaderContainer=Za,t.HeaderNavigationService=ru,t.HeaderPositionUtils=Yp,t.HeaderRootComp=au,t.HeaderRowComp=Wa,t.HorizontalResizeService=Ju,t.KeyCode=eo,t.KeyName=ou,t.LargeTextCellEditor=Ci,t.Logger=qu,t.LoggerFactory=zu,t.ManagedFocusComponent=lo,t.ModuleRegistry=me,t.MouseEventService=dl,t.MoveColumnController=Ua,t.NumberFilter=Si,t.NumberSequence=xr,t.Optional=le,t.OriginalColumnGroup=Se,t.PaginationProxy=Hl,t.PinnedRowModel=Fp,t.PopupComponent=Kr,t.PopupEditorWrapper=Ts,t.PopupSelectCellEditor=yi,t.PopupService=Hu,t.PopupTextCellEditor=gi,t.PostConstruct=ie,t.PreConstruct=oe,t.PreDestroy=se,t.PropertyKeys=yt,t.ProvidedFilter=ho,t.Qualifier=pe,t.QuerySelector=function(e){return Qr.bind(this,e)},t.RefSelector=Yr,t.ResizeObserverService=Fc,t.RowComp=Js,t.RowNode=Io,t.RowNodeBlock=eh,t.RowNodeBlockLoader=oh,t.RowNodeSorter=sh,t.RowPositionUtils=Pp,t.RowRenderer=ra,t.ScalarFilter=wo,t.ScrollVisibleService=Rl,t.SelectCellEditor=di,t.SelectableService=Rc,t.SelectionController=cs,t.SetLeftFeature=ca,t.SimpleFilter=yo,t.SortController=cl,t.StandardMenuFactory=ol,t.StylingService=Pl,t.TabbedLayout=dh,t.TemplateService=xu,t.TextCellEditor=ro,t.TextFilter=ji,t.TextFloatingFilter=Ki,t.Timer=kr,t.TooltipFeature=Hr,t.TouchListener=So,t.UserComponentFactory=Jo,t.UserComponentRegistry=$i,t.ValueCache=Kl,t.ValueFormatterService=wl,t.ValueService=fu,t.VanillaFrameworkOverrides=Sl,t.VirtualList=yh,t._=Lr,t.defaultGroupComparator=function(e,t,n,o,i){void 0===i&&(i=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var s=r(n)&&n.group,a=r(o)&&o.group,u=!s&&!a;return s&&a?l(n.key,o.key,i):u?l(e,t,i):s?1:-1},t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",uh],scope:!0}}))},t.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!lh){lh=!0,"undefined"!==typeof document&&document.registerElement||console.error("AG Grid: unable to find document.registerElement() function, unable to initialise AG Grid as a Web Component");var e=Object.create(HTMLElement.prototype);wt.ALL_PROPERTIES.forEach((function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)},enumerable:!0,configurable:!0})}));var t=e;t.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var n={};n[e]={currentValue:t},this.onChange(n)},t.onChange=function(e){this._initialised&&wt.processOnChange(e,this._gridOptions,this.api,this.columnApi)},t.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},t.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=wt.copyAttributesToGridOptions(e,this);var n={globalEventListener:t};this._agGrid=new ah(this,this._gridOptions,n),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},t.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},t.setPropertyFromAttribute=function(e){var t,n="string"===typeof(t=e.nodeName)?t.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()})):t,r=e.nodeValue;wt.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=r)},t.attachedCallback=function(e){},t.detachedCallback=function(e){},t.attributeChangedCallback=function(e){var t=this.attributes[e];this.setPropertyFromAttribute(t)},t.globalEventListener=function(e,t){var n=e.toLowerCase(),r=new Event(n);r.agGridDetails=t,this.dispatchEvent(r);var o="on"+n;"function"===typeof this[o]&&this[o](r)},document.registerElement("ag-grid",{prototype:e})}},t.simpleHttpRequest=function(e){return new Mr((function(t){var n=new XMLHttpRequest;n.open("GET",e.url),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))}}))},t.stringToArray=St}).call(this,n(28))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(u[c]=n[c]);if(r){a=r(n);for(var p=0;p<a.length;p++)i.call(n,a[p])&&(u[a[p]]=n[a[p]])}}return u}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);function o(e){var t=function(e){var t=Object(r.useRef)(e);return t.current=e,t}(e);Object(r.useEffect)((function(){return function(){return t.current()}}),[])}},,function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}return(0,i.default)(r)};var r,o=n(70),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";n(57)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(1),a=n(10),u=n(29),l=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n}return r(t,e),t.prototype.render=function(){return null},t.mapChildColumnDefs=function(e){return i.Children.map(e,(function(e){return e?t.toColDef(e.props):null}))},t.toColDef=function(e){var n=e.children,r=o(e,["children"]);return t.hasChildColumns(n)&&(r.children=t.mapChildColumnDefs(n)),r},t.hasChildColumns=function(e){return i.Children.count(e)>0},t}(s.Component);function c(e,t){e.forEach((function(e){l[e]=t}))}t.AgGridColumn=l,c(u.ColDefUtil.BOOLEAN_PROPERTIES,a.bool),c(u.ColDefUtil.STRING_PROPERTIES,a.string),c(u.ColDefUtil.OBJECT_PROPERTIES,a.object),c(u.ColDefUtil.ARRAY_PROPERTIES,a.array),c(u.ColDefUtil.NUMBER_PROPERTIES,a.number),c(u.ColDefUtil.FUNCTION_PROPERTIES,a.func)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck"}(r=t.ChangeDetectionStrategyType||(t.ChangeDetectionStrategyType={}));var o=function(){function e(){var e;this.strategyMap=((e={})[r.DeepValueCheck]=new s,e[r.IdentityCheck]=new i((function(e,t){return e===t})),e[r.NoCheck]=new i((function(e,t){return!1})),e)}return e.prototype.getStrategy=function(e){return this.strategyMap[e]},e}();t.ChangeDetectionService=o;var i=function(){function e(e){this.strategy=e}return e.prototype.areEqual=function(e,t){return this.strategy(e,t)},e}(),s=function(){function e(){}return e.prototype.areEqual=function(t,n){return e.areEquivalent(e.copy(t),e.copy(n))},e.unwrapStringOrNumber=function(e){return e instanceof Number||e instanceof String?e.valueOf():e},e.copy=function(e){if(!e)return e;if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.copy(e[n]));return t}return"object"!==typeof e?e:[{},e].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),{})},e.isNaN=function(e){return Number.isNaN?Number.isNaN(e):"number"===typeof e&&isNaN(e)},e.areEquivalent=function(t,n){if(t=e.unwrapStringOrNumber(t),n=e.unwrapStringOrNumber(n),t===n)return!0;if(null===t||null===n||typeof t!==typeof n)return!1;if(e.isNaN(t)&&e.isNaN(n))return!0;if(t instanceof Date)return n instanceof Date&&t.valueOf()===n.valueOf();if("function"===typeof t)return t.toString()===n.toString();if("object"!==typeof t||t.$$typeof&&"Symbol(react.element)"===t.$$typeof.toString())return t==n;if(Object.isFrozen(t)||Object.isFrozen(n))return t===n;var r=void 0===t.areEquivPropertyTracking,o=void 0===n.areEquivPropertyTracking;try{var i=void 0;if(r)t.areEquivPropertyTracking=[];else if(t.areEquivPropertyTracking.some((function(e){return e===n})))return!0;if(o)n.areEquivPropertyTracking=[];else if(n.areEquivPropertyTracking.some((function(e){return e===t})))return!0;t.areEquivPropertyTracking.push(n),n.areEquivPropertyTracking.push(t);var s={};for(i in t)"areEquivPropertyTracking"!=i&&(s[i]=null);for(i in n)"areEquivPropertyTracking"!=i&&(s[i]=null);for(i in s)if(!this.areEquivalent(t[i],n[i]))return!1;return!0}finally{r&&delete t.areEquivPropertyTracking,o&&delete n.areEquivPropertyTracking}},e}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),i=n(64),s=function(e){function t(t,n,r){var o=e.call(this)||this;return o.portal=null,o.reactComponent=t,o.parentComponent=n,o.componentType=r,o.statelessComponent=o.isStateless(o.reactComponent),o}return r(t,e),t.prototype.getGui=function(){return this.eParentElement},t.prototype.destroy=function(){return this.parentComponent.destroyPortal(this.portal)},t.prototype.createParentElement=function(e){var t=document.createElement(this.parentComponent.props.componentWrappingElement||"div");return o._.addCssClass(t,"ag-react-container"),e.reactContainer=t,t},t.prototype.addParentContainerStyleAndClasses=function(){var e=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&i.assignProperties(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(t){return o._.addCssClass(e.eParentElement,t)})))},t.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},t.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},t.prototype.isStatelessComponent=function(){return this.statelessComponent},t.prototype.getReactComponentName=function(){return this.reactComponent.name},t.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},t.prototype.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},t.prototype.isStateless=function(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()},t.prototype.hasMethod=function(e){var t=this.getFrameworkComponentInstance();return!!t&&null!==t[e]||this.fallbackMethodAvailable(e)},t.prototype.callMethod=function(e,t){var n=this,r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(r){var o=r[e];return o?o.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}setTimeout((function(){return n.callMethod(e,t)}))},t.prototype.addMethod=function(e,t){this[e]=t},t}((function(){}));t.ReactComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return"agPortalKey_"+ ++r}},function(e,t,n){"use strict";e.exports=n(65)},function(e,t,n){"use strict";var r,o=n(7),i=n(13),s=n(20),a=(n(3),n(17),n(16),{Firestore:i.q,GeoPoint:i.b,Timestamp:i.f,Blob:i.k,Transaction:i.g,WriteBatch:i.n,DocumentReference:i.d,DocumentSnapshot:i.i,Query:i.j,QueryDocumentSnapshot:i.h,QuerySnapshot:i.l,CollectionReference:i.o,FieldPath:i.m,FieldValue:i.r,setLogLevel:i.e,CACHE_SIZE_UNLIMITED:i.p});(function(e,t){e.INTERNAL.registerComponent(new s.a("firestore",(function(e){return function(e,t){return new i.q(e,new i.c(e,t),new i.a)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},a)))})(r=o.a),r.registerVersion("@firebase/firestore","2.3.8")},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var o,i=new Promise((function(i,s){n(o=e[t].apply(e,r)).then(i,s)}));return i.request=o,i}function o(e,t,n){var o=r(e,t,n);return o.then((function(e){if(e)return new c(e,o.request)}))}function i(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function s(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function a(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function p(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function f(e){this._db=e}function g(e,t,n){var o=r(indexedDB,"open",[e,t]),i=o.request;return i&&(i.onupgradeneeded=function(e){n&&n(new d(i.result,e.oldVersion,i.transaction))}),o.then((function(e){return new f(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}i(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(c,"_cursor",["direction","key","primaryKey","value"]),s(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),p.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(p,"_store",["name","keyPath","indexNames","autoIncrement"]),s(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(p,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},i(h,"_tx",["objectStoreNames","mode"]),a(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},i(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[p,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],o=this._store||this._index,i=o[e].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})}))})),[l,p].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(o){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)}))}))})})),e.openDb=g,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n.n(i),a=n(1),u=n.n(a),l=n(11),c=["xl","lg","md","sm","xs"],p=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,p=void 0===a?"div":a,h=Object(o.a)(e,["bsPrefix","className","as"]),d=Object(l.a)(n,"col"),f=[],g=[];return c.forEach((function(e){var t,n,r,o=h[e];if(delete h[e],"object"===typeof o&&null!=o){var i=o.span;t=void 0===i||i,n=o.offset,r=o.order}else t=o;var s="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+d+s:""+d+s+"-"+t),null!=r&&g.push("order"+s+"-"+r),null!=n&&g.push("offset"+s+"-"+n)})),f.length||f.push(d),u.a.createElement(p,Object(r.a)({},h,{ref:t,className:s.a.apply(void 0,[i].concat(f,g))}))}));p.displayName="Col",t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);function o(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(32),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var p=Symbol.for;o=p("react.element"),i=p("react.portal"),t.Fragment=p("react.fragment"),t.StrictMode=p("react.strict_mode"),t.Profiler=p("react.profiler"),s=p("react.provider"),a=p("react.context"),u=p("react.forward_ref"),t.Suspense=p("react.suspense"),l=p("react.memo"),c=p("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=m.prototype=new y;w.constructor=m,r(w,v.prototype),w.isPureReactComponent=!0;var C={current:null},b=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:C.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var _=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return s=s(u=e),e=""===r?"."+R(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),T(s,t,n,"",(function(e){return e}))):null!=s&&(O(s)&&(s=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+R(a=e[l],l);u+=T(a,t,n,c,s)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(a=e.next()).done;)u+=T(a=a.value,t,n,c=r+R(a,l++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function I(){var e=D.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var i=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];i.children=l}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),o=n(32),i=n(53);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},g={};function v(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function C(e,t,n,r){var o=y.hasOwnProperty(t)?y[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(g,e)||!d.call(f,e)&&(h.test(e)?g[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,O=60107,_=60108,R=60114,T=60109,A=60110,P=60112,D=60113,I=60120,N=60115,L=60116,x=60121,F=60128,M=60129,k=60130,G=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),S=V("react.portal"),O=V("react.fragment"),_=V("react.strict_mode"),R=V("react.profiler"),T=V("react.provider"),A=V("react.context"),P=V("react.forward_ref"),D=V("react.suspense"),I=V("react.suspense_list"),N=V("react.memo"),L=V("react.lazy"),x=V("react.block"),V("react.scope"),F=V("react.opaque.id"),M=V("react.debug_trace_mode"),k=V("react.offscreen"),G=V("react.legacy_hidden")}var j,H="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function B(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a])return"\n"+o[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function q(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case O:return"Fragment";case S:return"Portal";case R:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return K(e.type);case x:return K(e._render);case L:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function le(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,ye=(ve=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(we).forEach((function(e){Ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var Se=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Re(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ae=null,Pe=null;function De(e){if(e=eo(e)){if("function"!==typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=no(t),Te(e.stateNode,e.type,t))}}function Ie(e){Ae?Pe?Pe.push(e):Pe=[e]:Ae=e}function Ne(){if(Ae){var e=Ae,t=Pe;if(Pe=Ae=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Le(e,t){return e(t)}function xe(e,t,n,r,o){return e(t,n,r,o)}function Fe(){}var Me=Le,ke=!1,Ge=!1;function Ve(){null===Ae&&null===Pe||(Fe(),Ne())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=no(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var He=!1;if(p)try{var We={};Object.defineProperty(We,"passive",{get:function(){He=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(ve){He=!1}function Be(e,t,n,r,o,i,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ue=!1,ze=null,qe=!1,Ke=null,Ye={onError:function(e){Ue=!0,ze=e}};function Qe(e,t,n,r,o,i,s,a,u){Ue=!1,ze=null,Be.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(s(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Je(o),e;if(i===r)return Je(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,it=!1,st=[],at=null,ut=null,lt=null,ct=new Map,pt=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function vt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=ft(t,n,r,o,i),null!==t&&(null!==(t=eo(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function yt(e){var t=Zr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=eo(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){mt(e)&&n.delete(t)}function Ct(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=eo(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&mt(at)&&(at=null),null!==ut&&mt(ut)&&(ut=null),null!==lt&&mt(lt)&&(lt=null),ct.forEach(wt),pt.forEach(wt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ct)))}function Et(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==ut&&bt(ut,e),null!==lt&&bt(lt,e),ct.forEach(t),pt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ot={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},Rt={};function Tt(e){if(_t[e])return _t[e];if(!Ot[e])return e;var t,n=Ot[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rt)return _t[e]=n[t];return e}p&&(Rt=document.createElement("div").style,"AnimationEvent"in window||(delete Ot.animationend.animation,delete Ot.animationiteration.animation,delete Ot.animationstart.animation),"TransitionEvent"in window||delete Ot.transitionend.transition);var At=Tt("animationend"),Pt=Tt("animationiteration"),Dt=Tt("animationstart"),It=Tt("transitionend"),Nt=new Map,Lt=new Map,xt=["abort","abort",At,"animationEnd",Pt,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Lt.set(r,t),Nt.set(r,o),l(o,[r])}}(0,i.unstable_now)();var Mt=8;function kt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Gt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,o=0,i=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==i)r=i,o=Mt=15;else if(0!==(i=134217727&n)){var u=i&~s;0!==u?(r=kt(u),o=Mt):0!==(a&=i)&&(r=kt(a),o=Mt)}else 0!==(i=n&~s)?(r=kt(i),o=Mt):0!==a&&(r=kt(a),o=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(kt(t),o<=Mt)return t;Mt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ut(t)),r|=e[n],t&=~o;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?jt(10,t):e;case 10:return 0===(e=Ht(192&~t))?jt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ht(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/qt|0)|0},zt=Math.log,qt=Math.LN2;var Kt=i.unstable_UserBlockingPriority,Yt=i.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){ke||Fe();var o=Jt,i=ke;ke=!0;try{xe(o,e,t,n,r)}finally{(ke=i)||Ve()}}function Xt(e,t,n,r){Yt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var o;if(Qt)if((o=0===(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var i=Zt(e,t,n,r);if(null===i)o&&gt(e,r);else{if(o){if(-1<dt.indexOf(e))return e=ft(i,e,t,n,r),void st.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return at=vt(at,e,t,n,r,o),!0;case"dragenter":return ut=vt(ut,e,t,n,r,o),!0;case"mouseover":return lt=vt(lt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ct.set(i,vt(ct.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,pt.set(i,vt(pt.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;gt(e,r)}Nr(e,t,r,null,n)}}}function Zt(e,t,n,r){var o=Re(r);if(null!==(o=Zr(o))){var i=$e(o);if(null===i)o=null;else{var s=i.tag;if(13===s){if(null!==(o=Xe(i)))return o;o=null}else if(3===s){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Nr(e,t,r,o,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,o="value"in en?en.value:en.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function un(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?sn:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,cn,pn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),fn=o({},hn,{view:0,detail:0}),gn=un(fn),vn=o({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&"mousemove"===e.type?(ln=e.screenX-pn.screenX,cn=e.screenY-pn.screenY):cn=ln=0,pn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=un(vn),mn=un(o({},vn,{dataTransfer:0})),wn=un(o({},fn,{relatedTarget:0})),Cn=un(o({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=un(o({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=un(o({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Tn(){return Rn}var An=un(o({},fn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?On[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Pn=un(o({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(o({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=un(o({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=un(o({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ln=[9,13,27,32],xn=p&&"CompositionEvent"in window,Fn=null;p&&"documentMode"in document&&(Fn=document.documentMode);var Mn=p&&"TextEvent"in window&&!Fn,kn=p&&(!xn||Fn&&8<Fn&&11>=Fn),Gn=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){Ie(r),0<(t=xr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){Rr(e,0)}function Qn(e){if(X(to(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(p){var Jn;if(p){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];if(zn(t,Kn,e,Re(e)),e=Yn,ke)e(t);else{ke=!0;try{Le(e,t)}finally{ke=!1,Ve()}}}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ir(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=p&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,mr=null,wr=!1;function Cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&lr(mr,r)||(mr=r,0<(r=xr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(xt,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<br.length;Er++)Lt.set(br[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,a,u,l){if(Qe.apply(this,arguments),Ue){if(!Ue)throw Error(s(198));var c=ze;Ue=!1,ze=null,qe||(qe=!0,Ke=c)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==i&&o.isPropagationStopped())break e;_r(o,a,l),i=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,l=a.currentTarget,a=a.listener,u!==i&&o.isPropagationStopped())break e;_r(o,a,l),i=u}}}if(qe)throw e=Ke,qe=!1,Ke=null,e}function Tr(e,t){var n=ro(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,a.forEach((function(t){Or.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Or.has(e)){if("scroll"!==e)return;o|=2,i=r}var s=ro(i),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(o|=4),Ir(i,e,o,t),s.add(a))}function Ir(e,t,n,r){var o=Lt.get(t);switch(void 0===o?2:o){case 0:o=$t;break;case 1:o=Xt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=Zr(a)))return;if(5===(u=s.tag)||6===u){r=i=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ge)return e(t,n);Ge=!0;try{Me(e,t,n)}finally{Ge=!1,Ve()}}((function(){var r=i,o=Re(n),s=[];e:{var a=Nt.get(e);if(void 0!==a){var u=dn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=wn;break;case"focusout":l="blur",u=wn;break;case"beforeblur":case"afterblur":u=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case At:case Pt:case Dt:u=Cn;break;case It:u=In;break;case"scroll":u=gn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),p=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var d,f=r;null!==f;){var g=(d=f).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==h&&(null!=(g=je(f,h))&&c.push(Lr(f,g,d)))),p)break;f=f.return}0<c.length&&(a=new u(a,l,null,n,o),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!Zr(l)&&!l[Xr])&&(u||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?Zr(l):null)&&(l!==(p=$e(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==u?a:to(u),d=null==l?a:to(l),(a=new c(g,f+"leave",u,n,o)).target=p,a.relatedTarget=d,g=null,Zr(o)===r&&((c=new c(h,f+"enter",l,n,o)).target=d,c.relatedTarget=p,g=c),p=g,u&&l)e:{for(h=l,f=0,d=c=u;d;d=Fr(d))f++;for(d=0,g=h;g;g=Fr(g))d++;for(;0<f-d;)c=Fr(c),f--;for(;0<d-f;)h=Fr(h),d--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==u&&Mr(s,a,u,c,!1),null!==l&&null!==p&&Mr(s,p,l,c,!0)}if("select"===(u=(a=r?to(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=$n;else if(Un(a))if(Xn)v=sr;else{v=or;var y=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(v=ir);switch(v&&(v=v(e,r))?zn(s,v,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&oe(a,"number",a.value)),y=r?to(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(vr=y,yr=r,mr=null);break;case"focusout":mr=yr=vr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Cr(s,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Cr(s,n,o)}var m;if(xn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(kn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(m=rn()):(tn="value"in(en=o)?en.value:en.textContent,Wn=!0)),0<(y=xr(r,w)).length&&(w=new En(w,e,null,n,o),s.push({event:w,listeners:y}),m?w.data=m:null!==(m=Hn(n))&&(w.data=m))),(m=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!xn&&jn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=xr(r,"onBeforeInput")).length&&(o=new En("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=m))}Rr(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=je(e,n))&&r.unshift(Lr(e,i,o)),null!=(i=je(e,t))&&r.push(Lr(e,i,o))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Mr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,o?null!=(u=je(n,i))&&s.unshift(Lr(n,u,a)):o||null!=(u=je(n,i))&&s.push(Lr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function kr(){}var Gr=null,Vr=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function Ur(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Kr=0;var Yr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Yr,$r="__reactProps$"+Yr,Xr="__reactContainer$"+Yr,Jr="__reactEvents$"+Yr;function Zr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Qr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function eo(e){return!(e=e[Qr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function to(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function no(e){return e[$r]||null}function ro(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var oo=[],io=-1;function so(e){return{current:e}}function ao(e){0>io||(e.current=oo[io],oo[io]=null,io--)}function uo(e,t){io++,oo[io]=e.current,e.current=t}var lo={},co=so(lo),po=so(!1),ho=lo;function fo(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vo(){ao(po),ao(co)}function yo(e,t,n){if(co.current!==lo)throw Error(s(168));uo(co,t),uo(po,n)}function mo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,K(t)||"Unknown",i));return o({},n,r)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,ho=co.current,uo(co,e),uo(po,po.current),!0}function Co(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=mo(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,ao(po),ao(co),uo(co,e)):ao(po),uo(po,n)}var bo=null,Eo=null,So=i.unstable_runWithPriority,Oo=i.unstable_scheduleCallback,_o=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,To=i.unstable_requestPaint,Ao=i.unstable_now,Po=i.unstable_getCurrentPriorityLevel,Do=i.unstable_ImmediatePriority,Io=i.unstable_UserBlockingPriority,No=i.unstable_NormalPriority,Lo=i.unstable_LowPriority,xo=i.unstable_IdlePriority,Fo={},Mo=void 0!==To?To:function(){},ko=null,Go=null,Vo=!1,jo=Ao(),Ho=1e4>jo?Ao:function(){return Ao()-jo};function Wo(){switch(Po()){case Do:return 99;case Io:return 98;case No:return 97;case Lo:return 96;case xo:return 95;default:throw Error(s(332))}}function Bo(e){switch(e){case 99:return Do;case 98:return Io;case 97:return No;case 96:return Lo;case 95:return xo;default:throw Error(s(332))}}function Uo(e,t){return e=Bo(e),So(e,t)}function zo(e,t,n){return e=Bo(e),Oo(e,t,n)}function qo(){if(null!==Go){var e=Go;Go=null,_o(e)}Ko()}function Ko(){if(!Vo&&null!==ko){Vo=!0;var e=0;try{var t=ko;Uo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ko=null}catch(n){throw null!==ko&&(ko=ko.slice(e+1)),Oo(Do,qo),n}finally{Vo=!1}}}var Yo=b.ReactCurrentBatchConfig;function Qo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $o=so(null),Xo=null,Jo=null,Zo=null;function ei(){Zo=Jo=Xo=null}function ti(e){var t=$o.current;ao($o),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ri(e,t){Xo=e,Zo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jo){if(null===Xo)throw Error(s(308));Jo=t,Xo.dependencies={lanes:0,firstContext:t,responders:null}}else Jo=Jo.next=t;return e._currentValue}var ii=!1;function si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function li(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pi(e,t,n,r){var i=e.updateQueue;ii=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var p=e.alternate;if(null!==p){var h=(p=p.updateQueue).lastBaseUpdate;h!==a&&(null===h?p.firstBaseUpdate=c:h.next=c,p.lastBaseUpdate=l)}}if(null!==s){for(h=i.baseState,a=0,p=c=l=null;;){u=s.lane;var d=s.eventTime;if((r&u)===u){null!==p&&(p=p.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(u=t,d=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(d,h,u);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(u="function"===typeof(f=g.payload)?f.call(d,h,u):f)||void 0===u)break e;h=o({},h,u);break e;case 2:ii=!0}}null!==s.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[s]:u.push(s))}else d={eventTime:d,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===p?(c=p=d,l=h):p=p.next=d,a|=u;if(null===(s=s.next)){if(null===(u=i.shared.pending))break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===p&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=p,Ga|=a,e.lanes=a,e.memoizedState=h}}function hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(s(191,o));o.call(r)}}}var di=(new r.Component).refs;function fi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),o=cu(e),i=ui(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),li(e,i),pu(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),o=cu(e),i=ui(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),li(e,i),pu(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),o=ui(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),li(e,o),pu(e,r,n)}};function vi(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function yi(e,t,n){var r=!1,o=lo,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(o=go(t)?ho:co.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?fo(e,o):lo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function mi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=di,si(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=oi(i):(i=go(t)?ho:co.current,o.context=fo(e,i)),pi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(fi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),pi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var Ci=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===di&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ei(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Si(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Bu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=Uu(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=zu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Uu(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case S:return(t=Yu(t,e.mode,n)).return=e,t}if(Ci(t)||W(t))return(t=zu(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===o?n.type===O?p(e,t,n.props.children,r,o):l(e,t,n,r):null;case S:return n.key===o?c(e,t,n,r):null}if(Ci(n)||W(n))return null!==o?null:p(e,t,n,r,null);Ei(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===O?p(t,e,r.props.children,o,r.key):l(t,e,r,o);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Ci(r)||W(r))return p(t,e=e.get(n)||null,r,o,null);Ei(t,r)}return null}function g(o,s,a,u){for(var l=null,c=null,p=s,g=s=0,v=null;null!==p&&g<a.length;g++){p.index>g?(v=p,p=null):v=p.sibling;var y=d(o,p,a[g],u);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(o,p),s=i(y,s,g),null===c?l=y:c.sibling=y,c=y,p=v}if(g===a.length)return n(o,p),l;if(null===p){for(;g<a.length;g++)null!==(p=h(o,a[g],u))&&(s=i(p,s,g),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(o,p);g<a.length;g++)null!==(v=f(p,o,g,a[g],u))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=i(v,s,g),null===c?l=v:c.sibling=v,c=v);return e&&p.forEach((function(e){return t(o,e)})),l}function v(o,a,u,l){var c=W(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var p=c=null,g=a,v=a=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var w=d(o,g,m.value,l);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(o,g),a=i(w,a,v),null===p?c=w:p.sibling=w,p=w,g=y}if(m.done)return n(o,g),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=h(o,m.value,l))&&(a=i(m,a,v),null===p?c=m:p.sibling=m,p=m);return c}for(g=r(o,g);!m.done;v++,m=u.next())null!==(m=f(g,o,v,m.value,l))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),a=i(m,a,v),null===p?c=m:p.sibling=m,p=m);return e&&g.forEach((function(e){return t(o,e)})),c}return function(e,r,i,u){var l="object"===typeof i&&null!==i&&i.type===O&&null===i.key;l&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case E:e:{for(c=i.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(i.type===O){n(e,l.sibling),(r=o(l,i.props.children)).return=e,e=r;break e}break;default:if(l.elementType===i.type){n(e,l.sibling),(r=o(l,i.props)).ref=bi(e,l,i),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}i.type===O?((r=zu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Uu(i.type,i.key,i.props,null,e.mode,u)).ref=bi(e,r,i),u.return=e,e=u)}return a(e);case S:e:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(i,e.mode,u)).return=e,e=r}return a(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Ku(i,e.mode,u)).return=e,e=r),a(e);if(Ci(i))return g(e,r,i,u);if(W(i))return v(e,r,i,u);if(c&&Ei(e,i),"undefined"===typeof i&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var Oi=Si(!0),_i=Si(!1),Ri={},Ti=so(Ri),Ai=so(Ri),Pi=so(Ri);function Di(e){if(e===Ri)throw Error(s(174));return e}function Ii(e,t){switch(uo(Pi,t),uo(Ai,e),uo(Ti,Ri),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ao(Ti),uo(Ti,t)}function Ni(){ao(Ti),ao(Ai),ao(Pi)}function Li(e){Di(Pi.current);var t=Di(Ti.current),n=fe(t,e.type);t!==n&&(uo(Ai,e),uo(Ti,n))}function xi(e){Ai.current===e&&(ao(Ti),ao(Ai))}var Fi=so(0);function Mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=null,Gi=null,Vi=!1;function ji(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Hi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Wi(e){if(Vi){var t=Gi;if(t){var n=t;if(!Hi(e,t)){if(!(t=zr(n.nextSibling))||!Hi(e,t))return e.flags=-1025&e.flags|2,Vi=!1,void(ki=e);ji(ki,n)}ki=e,Gi=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Vi=!1,ki=e}}function Bi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ki=e}function Ui(e){if(e!==ki)return!1;if(!Vi)return Bi(e),Vi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Gi;t;)ji(e,t),t=zr(t.nextSibling);if(Bi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Gi=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Gi=null}}else Gi=ki?zr(e.stateNode.nextSibling):null;return!0}function zi(){Gi=ki=null,Vi=!1}var qi=[];function Ki(){for(var e=0;e<qi.length;e++)qi[e]._workInProgressVersionPrimary=null;qi.length=0}var Yi=b.ReactCurrentDispatcher,Qi=b.ReactCurrentBatchConfig,$i=0,Xi=null,Ji=null,Zi=null,es=!1,ts=!1;function ns(){throw Error(s(321))}function rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function os(e,t,n,r,o,i){if($i=i,Xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yi.current=null===e||null===e.memoizedState?Ds:Is,e=n(r,o),ts){i=0;do{if(ts=!1,!(25>i))throw Error(s(301));i+=1,Zi=Ji=null,t.updateQueue=null,Yi.current=Ns,e=n(r,o)}while(ts)}if(Yi.current=Ps,t=null!==Ji&&null!==Ji.next,$i=0,Zi=Ji=Xi=null,es=!1,t)throw Error(s(300));return e}function is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zi?Xi.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function ss(){if(null===Ji){var e=Xi.alternate;e=null!==e?e.memoizedState:null}else e=Ji.next;var t=null===Zi?Xi.memoizedState:Zi.next;if(null!==t)Zi=t,Ji=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Ji=e).memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},null===Zi?Xi.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function as(e,t){return"function"===typeof t?t(e):t}function us(e){var t=ss(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Ji,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=a=i=null,l=o;do{var c=l.lane;if(($i&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var p={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=p,i=r):u=u.next=p,Xi.lanes|=c,Ga|=c}l=l.next}while(null!==l&&l!==o);null===u?i=r:u.next=a,ar(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ls(e){var t=ss(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);ar(i,t.memoizedState)||(xs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function cs(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=($i&e)===e)&&(t._workInProgressVersionPrimary=r,qi.push(t))),e)return n(t._source);throw qi.push(t),Error(s(350))}function ps(e,t,n,r){var o=Da;if(null===o)throw Error(s(349));var i=t._getVersion,a=i(t._source),u=Yi.current,l=u.useState((function(){return cs(o,t,n)})),c=l[1],p=l[0];l=Zi;var h=e.memoizedState,d=h.refs,f=d.getSnapshot,g=h.source;h=h.subscribe;var v=Xi;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=i(t._source);if(!ar(a,e)){e=n(t._source),ar(p,e)||(c(e),e=cu(v),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,s=e;0<s;){var u=31-Ut(s),l=1<<u;r[u]|=e,s&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cu(v);o.mutableReadLanes|=r&o.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),ar(f,n)&&ar(g,t)&&ar(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:p}).dispatch=c=As.bind(null,Xi,e),l.queue=e,l.baseQueue=null,p=cs(o,t,n),l.memoizedState=l.baseState=p),p}function hs(e,t,n){return ps(ss(),e,t,n)}function ds(e){var t=is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:as,lastRenderedState:e}).dispatch=As.bind(null,Xi,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xi.updateQueue)?(t={lastEffect:null},Xi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(e){return e={current:e},is().memoizedState=e}function vs(){return ss().memoizedState}function ys(e,t,n,r){var o=is();Xi.flags|=e,o.memoizedState=fs(1|t,n,void 0,void 0===r?null:r)}function ms(e,t,n,r){var o=ss();r=void 0===r?null:r;var i=void 0;if(null!==Ji){var s=Ji.memoizedState;if(i=s.destroy,null!==r&&rs(r,s.deps))return void fs(t,n,i,r)}Xi.flags|=e,o.memoizedState=fs(1|t,n,i,r)}function ws(e,t){return ys(516,4,e,t)}function Cs(e,t){return ms(516,4,e,t)}function bs(e,t){return ms(4,2,e,t)}function Es(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ms(4,2,Es.bind(null,t,e),n)}function Os(){}function _s(e,t){var n=ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rs(e,t){var n=ss();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ts(e,t){var n=Wo();Uo(98>n?98:n,(function(){e(!0)})),Uo(97<n?97:n,(function(){var n=Qi.transition;Qi.transition=1;try{e(!1),t()}finally{Qi.transition=n}}))}function As(e,t,n){var r=lu(),o=cu(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?i.next=i:(i.next=s.next,s.next=i),t.pending=i,s=e.alternate,e===Xi||null!==s&&s===Xi)ts=es=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(i.eagerReducer=s,i.eagerState=u,ar(u,a))return}catch(l){}pu(e,o,r)}}var Ps={readContext:oi,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useOpaqueIdentifier:ns,unstable_isNewReconciler:!1},Ds={readContext:oi,useCallback:function(e,t){return is().memoizedState=[e,void 0===t?null:t],e},useContext:oi,useEffect:ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,2,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ys(4,2,e,t)},useMemo:function(e,t){var n=is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=As.bind(null,Xi,e),[r.memoizedState,e]},useRef:gs,useState:ds,useDebugValue:Os,useDeferredValue:function(e){var t=ds(e),n=t[0],r=t[1];return ws((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=ds(!1),t=e[0];return gs(e=Ts.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=is();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ps(r,e,t,n)},useOpaqueIdentifier:function(){if(Vi){var e=!1,t=function(e){return{$$typeof:F,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Kr++).toString(36))),Error(s(355))})),n=ds(t)[1];return 0===(2&Xi.mode)&&(Xi.flags|=516,fs(5,(function(){n("r:"+(Kr++).toString(36))}),void 0,null)),t}return ds(t="r:"+(Kr++).toString(36)),t},unstable_isNewReconciler:!1},Is={readContext:oi,useCallback:_s,useContext:oi,useEffect:Cs,useImperativeHandle:Ss,useLayoutEffect:bs,useMemo:Rs,useReducer:us,useRef:vs,useState:function(){return us(as)},useDebugValue:Os,useDeferredValue:function(e){var t=us(as),n=t[0],r=t[1];return Cs((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=us(as)[0];return[vs().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return us(as)[0]},unstable_isNewReconciler:!1},Ns={readContext:oi,useCallback:_s,useContext:oi,useEffect:Cs,useImperativeHandle:Ss,useLayoutEffect:bs,useMemo:Rs,useReducer:ls,useRef:vs,useState:function(){return ls(as)},useDebugValue:Os,useDeferredValue:function(e){var t=ls(as),n=t[0],r=t[1];return Cs((function(){var t=Qi.transition;Qi.transition=1;try{r(e)}finally{Qi.transition=t}}),[e]),n},useTransition:function(){var e=ls(as)[0];return[vs().current,e]},useMutableSource:hs,useOpaqueIdentifier:function(){return ls(as)[0]},unstable_isNewReconciler:!1},Ls=b.ReactCurrentOwner,xs=!1;function Fs(e,t,n,r){t.child=null===e?_i(t,null,n,r):Oi(t,e.child,n,r)}function Ms(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=os(e,t,n,r,i,o),null===e||xs?(t.flags|=1,Fs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,na(e,t,o))}function ks(e,t,n,r,o,i){if(null===e){var s=n.type;return"function"!==typeof s||Wu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Gs(e,t,s,r,o,i))}return s=e.child,0===(o&i)&&(o=s.memoizedProps,(n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)?na(e,t,i):(t.flags|=1,(e=Bu(s,r)).ref=t.ref,e.return=t,t.child=e)}function Gs(e,t,n,r,o,i){if(null!==e&&lr(e.memoizedProps,r)&&e.ref===t.ref){if(xs=!1,0===(i&o))return t.lanes=e.lanes,na(e,t,i);0!==(16384&e.flags)&&(xs=!0)}return Hs(e,t,n,r,i)}function Vs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Fs(e,t,o,n),t.child}function js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Hs(e,t,n,r,o){var i=go(n)?ho:co.current;return i=fo(t,i),ri(t,o),n=os(e,t,n,r,i,o),null===e||xs?(t.flags|=1,Fs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,na(e,t,o))}function Ws(e,t,n,r,o){if(go(n)){var i=!0;wo(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yi(t,n,r),wi(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=oi(l):l=fo(t,l=go(n)?ho:co.current);var c=n.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&mi(t,s,r,l),ii=!1;var h=t.memoizedState;s.state=h,pi(t,r,s,o),u=t.memoizedState,a!==r||h!==u||po.current||ii?("function"===typeof c&&(fi(t,n,c,r),u=t.memoizedState),(a=ii||vi(t,n,a,r,h,u,l))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,ai(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Qo(t.type,a),s.props=l,p=t.pendingProps,h=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=oi(u):u=fo(t,u=go(n)?ho:co.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==p||h!==u)&&mi(t,s,r,u),ii=!1,h=t.memoizedState,s.state=h,pi(t,r,s,o);var f=t.memoizedState;a!==p||h!==f||po.current||ii?("function"===typeof d&&(fi(t,n,d,r),f=t.memoizedState),(l=ii||vi(t,n,l,r,h,f,u))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=u,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Bs(e,t,n,r,i,o)}function Bs(e,t,n,r,o,i){js(e,t);var s=0!==(64&t.flags);if(!r&&!s)return o&&Co(t,n,!1),na(e,t,i);r=t.stateNode,Ls.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Oi(t,e.child,null,i),t.child=Oi(t,null,a,i)):Fs(e,t,a,i),t.memoizedState=r.state,o&&Co(t,n,!0),t.child}function Us(e){var t=e.stateNode;t.pendingContext?yo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yo(0,t.context,!1),Ii(e,t.containerInfo)}var zs,qs,Ks,Ys={dehydrated:null,retryLane:0};function Qs(e,t,n){var r,o=t.pendingProps,i=Fi.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),uo(Fi,1&i),null===e?(void 0!==o.fallback&&Wi(t),e=o.children,i=o.fallback,s?(e=$s(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,e):"number"===typeof o.unstable_expectedLoadTime?(e=$s(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(o=Js(e,t,o.children,o.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ys,o):(n=Xs(e,t,o.children,n),t.memoizedState=null,n))}function $s(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=qu(t,o,0,null),n=zu(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Xs(e,t,n,r){var o=e.child;return e=o.sibling,n=Bu(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Js(e,t,n,r,o){var i=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&i)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bu(s,a),null!==e?r=Bu(e,r):(r=zu(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zs(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ni(e.return,t)}function ea(e,t,n,r,o,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o,s.lastEffect=i)}function ta(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fs(e,t,r.children,n),0!==(2&(r=Fi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n);else if(19===e.tag)Zs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Fi,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Mi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ea(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Mi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ea(t,!0,n,null,i,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ga|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Bu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!Vi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return go(t.type)&&vo(),null;case 3:return Ni(),ao(po),ao(co),Ki(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ui(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:xi(t);var i=Di(Pi.current);if(n=t.type,null!==e&&null!=t.stateNode)qs(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Di(Ti.current),Ui(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Qr]=t,r[$r]=a,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Tr(Sr[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,a),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",r);break;case"textarea":ue(r,a),Tr("invalid",r)}for(var l in Oe(n,a),e=null,a)a.hasOwnProperty(l)&&(i=a[l],"children"===l?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(l)&&null!=i&&"onScroll"===l&&Tr("scroll",r));switch(n){case"input":$(r),re(r,a,!0);break;case"textarea":$(r),ce(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=kr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===i.nodeType?i:i.ownerDocument,e===pe&&(e=de(n)),e===pe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Qr]=t,e[$r]=r,zs(e,t),t.stateNode=e,l=_e(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),i=r;break;case"iframe":case"object":case"embed":Tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)Tr(Sr[i],e);i=r;break;case"source":Tr("error",e),i=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),i=r;break;case"details":Tr("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),Tr("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),i=ae(e,r),Tr("invalid",e);break;default:i=r}Oe(n,i);var c=i;for(a in c)if(c.hasOwnProperty(a)){var p=c[a];"style"===a?Ee(e,p):"dangerouslySetInnerHTML"===a?null!=(p=p?p.__html:void 0)&&ye(e,p):"children"===a?"string"===typeof p?("textarea"!==n||""!==p)&&me(e,p):"number"===typeof p&&me(e,""+p):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=p&&"onScroll"===a&&Tr("scroll",e):null!=p&&C(e,a,p,l))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=kr)}jr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ks(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Di(Pi.current),Di(Ti.current),Ui(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ao(Fi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ui(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fi.current)?0===Fa&&(Fa=3):(0!==Fa&&3!==Fa||(Fa=4),null===Da||0===(134217727&Ga)&&0===(134217727&Va)||gu(Da,Na))),(r||n)&&(t.flags|=4),null);case 4:return Ni(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ti(t),null;case 17:return go(t.type)&&vo(),null;case 19:if(ao(Fi),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(l=r.rendering))if(a)ra(r,!1);else{if(0!==Fa||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Mi(e))){for(t.flags|=64,ra(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return uo(Fi,1&Fi.current|2),t.child}e=e.sibling}null!==r.tail&&Ho()>Ba&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Mi(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ho()-r.renderingStartTime>Ba&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ho(),n.sibling=null,t=Fi.current,uo(Fi,a?1&t|2:1&t),n):null;case 23:case 24:return Cu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ia(e){switch(e.tag){case 1:go(e.type)&&vo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ni(),ao(po),ao(co),Ki(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return xi(e),null;case 13:return ao(Fi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ao(Fi),null;case 4:return Ni(),null;case 10:return ti(e),null;case 23:case 24:return Cu(),null;default:return null}}function sa(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Di(Ti.current);var s,a=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),a=[];break;case"option":i=ie(e,i),r=ie(e,r),a=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),a=[];break;case"textarea":i=ae(e,i),r=ae(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=kr)}for(p in Oe(n,r),n=null,i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&null!=i[p])if("style"===p){var l=i[p];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(u.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var c=r[p];if(l=null!=i?i[p]:void 0,r.hasOwnProperty(p)&&c!==l&&(null!=c||null!=l))if("style"===p)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(p,n)),n=c;else"dangerouslySetInnerHTML"===p?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(p,c)):"children"===p?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(p,""+c):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(u.hasOwnProperty(p)?(null!=c&&"onScroll"===p&&Tr("scroll",e),a||l===c||(a=[])):"object"===typeof c&&null!==c&&c.$$typeof===F?c.toString():(a=a||[]).push(p,c))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}},Ks=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"===typeof WeakMap?WeakMap:Map;function la(e,t,n){(n=ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Ya=r),aa(0,t)},n}function ca(e,t,n){(n=ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return aa(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qa?Qa=new Set([this]):Qa.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"===typeof WeakSet?WeakSet:Set;function ha(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function da(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ur(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function fa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(xu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&hi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}hi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function ga(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=be("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function va(e,t){if(Eo&&"function"===typeof Eo.onCommitFiberUnmount)try{Eo.onCommitFiberUnmount(bo,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))xu(t,n);else{r=t;try{o()}catch(i){ku(r,i)}}n=n.next}while(n!==e)}break;case 1:if(ha(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){ku(t,i)}break;case 5:ha(t);break;case 4:Ea(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ca(e,n,t):ba(e,n,t)}function Ca(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=kr));else if(4!==r&&null!==(e=e.child))for(Ca(e,t,n),e=e.sibling;null!==e;)Ca(e,t,n),e=e.sibling}function ba(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function Ea(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(s(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var a=e,u=o,l=u;;)if(va(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=o.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(va(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Sa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,o),t=_e(e,r),o=0;o<i.length;o+=2){var a=i[o],u=i[o+1];"style"===a?Ee(n,u):"dangerouslySetInnerHTML"===a?ye(n,u):"children"===a?me(n,u):C(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?se(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Wa=Ho(),ga(t.child,!0)),void Oa(t);case 19:return void Oa(t);case 17:return;case 23:case 24:return void ga(t,null!==t.memoizedState)}throw Error(s(163))}function Oa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _a(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ra=Math.ceil,Ta=b.ReactCurrentDispatcher,Aa=b.ReactCurrentOwner,Pa=0,Da=null,Ia=null,Na=0,La=0,xa=so(0),Fa=0,Ma=null,ka=0,Ga=0,Va=0,ja=0,Ha=null,Wa=0,Ba=1/0;function Ua(){Ba=Ho()+500}var za,qa=null,Ka=!1,Ya=null,Qa=null,$a=!1,Xa=null,Ja=90,Za=[],eu=[],tu=null,nu=0,ru=null,ou=-1,iu=0,su=0,au=null,uu=!1;function lu(){return 0!==(48&Pa)?Ho():-1!==ou?ou:ou=Ho()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wo()?1:2;if(0===iu&&(iu=ka),0!==Yo.transition){0!==su&&(su=null!==Ha?Ha.pendingLanes:0),e=iu;var t=4186112&~su;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wo(),0!==(4&Pa)&&98===e?e=jt(12,iu):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),iu),e}function pu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(s(185));if(null===(e=hu(e,t)))return null;Bt(e,t,n),e===Da&&(Va|=t,4===Fa&&gu(e,Na));var r=Wo();1===t?0!==(8&Pa)&&0===(48&Pa)?vu(e):(du(e,n),0===Pa&&(Ua(),qo())):(0===(4&Pa)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),Ha=e}function hu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Ut(a),l=1<<u,c=i[u];if(-1===c){if(0===(l&r)||0!==(l&o)){c=t,kt(l);var p=Mt;i[u]=10<=p?c+250:6<=p?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Gt(e,e===Da?Na:0),t=Mt,0===r)null!==n&&(n!==Fo&&_o(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fo&&_o(n)}15===t?(n=vu.bind(null,e),null===ko?(ko=[n],Go=Oo(Do,Ko)):ko.push(n),n=Fo):14===t?n=zo(99,vu.bind(null,e)):n=zo(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),fu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function fu(e){if(ou=-1,su=iu=0,0!==(48&Pa))throw Error(s(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=Gt(e,e===Da?Na:0);if(0===n)return null;var r=n,o=Pa;Pa|=16;var i=Su();for(Da===e&&Na===r||(Ua(),bu(e,r));;)try{Ru();break}catch(u){Eu(e,u)}if(ei(),Ta.current=i,Pa=o,null!==Ia?r=0:(Da=null,Na=0,r=Fa),0!==(ka&Va))bu(e,0);else if(0!==r){if(2===r&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(n=Vt(e))&&(r=Ou(e,n))),1===r)throw t=Ma,bu(e,0),gu(e,n),du(e,Ho()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Wa+500-Ho())){if(0!==Gt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var a=31-Ut(n);i=1<<a,(a=r[a])>o&&(o=a),n&=~i}if(n=o,10<(n=(120>(n=Ho()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ra(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;case 5:Pu(e);break;default:throw Error(s(329))}}return du(e,Ho()),e.callbackNode===t?fu.bind(null,e):null}function gu(e,t){for(t&=~ja,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!==(48&Pa))throw Error(s(327));if(Nu(),e===Da&&0!==(e.expiredLanes&Na)){var t=Na,n=Ou(e,t);0!==(ka&Va)&&(n=Ou(e,t=Gt(e,t)))}else n=Ou(e,t=Gt(e,0));if(0!==e.tag&&2===n&&(Pa|=64,e.hydrate&&(e.hydrate=!1,Ur(e.containerInfo)),0!==(t=Vt(e))&&(n=Ou(e,t))),1===n)throw n=Ma,bu(e,0),gu(e,t),du(e,Ho()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),du(e,Ho()),null}function yu(e,t){var n=Pa;Pa|=1;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qo())}}function mu(e,t){var n=Pa;Pa&=-2,Pa|=8;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qo())}}function wu(e,t){uo(xa,La),La|=t,ka|=t}function Cu(){La=xa.current,ao(xa)}function bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Ia)for(n=Ia.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vo();break;case 3:Ni(),ao(po),ao(co),Ki();break;case 5:xi(r);break;case 4:Ni();break;case 13:case 19:ao(Fi);break;case 10:ti(r);break;case 23:case 24:Cu()}n=n.return}Da=e,Ia=Bu(e.current,null),Na=La=ka=t,Fa=0,Ma=null,ja=Va=Ga=0}function Eu(e,t){for(;;){var n=Ia;try{if(ei(),Yi.current=Ps,es){for(var r=Xi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}es=!1}if($i=0,Zi=Ji=Xi=null,ts=!1,Aa.current=null,null===n||null===n.return){Fa=1,Ma=t,Ia=null;break}e:{var i=e,s=n.return,a=n,u=t;if(t=Na,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=0!==(1&Fi.current),h=s;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var g=h.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!p)}}if(d){var v=h.updateQueue;if(null===v){var y=new Set;y.add(l),h.updateQueue=y}else v.add(l);if(0===(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var m=ui(-1,1);m.tag=2,li(a,m)}a.lanes|=1;break e}u=void 0,a=t;var w=i.pingCache;if(null===w?(w=i.pingCache=new ua,u=new Set,w.set(l,u)):void 0===(u=w.get(l))&&(u=new Set,w.set(l,u)),!u.has(a)){u.add(a);var C=Gu.bind(null,i,l,a);l.then(C,C)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fa&&(Fa=2),u=sa(u,a),h=s;do{switch(h.tag){case 3:i=u,h.flags|=4096,t&=-t,h.lanes|=t,ci(h,la(0,i,t));break e;case 1:i=u;var b=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Qa||!Qa.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ci(h,ca(h,i,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(S){t=S,Ia===n&&null!==n&&(Ia=n=n.return);continue}break}}function Su(){var e=Ta.current;return Ta.current=Ps,null===e?Ps:e}function Ou(e,t){var n=Pa;Pa|=16;var r=Su();for(Da===e&&Na===t||bu(e,t);;)try{_u();break}catch(o){Eu(e,o)}if(ei(),Pa=n,Ta.current=r,null!==Ia)throw Error(s(261));return Da=null,Na=0,Fa}function _u(){for(;null!==Ia;)Tu(Ia)}function Ru(){for(;null!==Ia&&!Ro();)Tu(Ia)}function Tu(e){var t=za(e.alternate,e,La);e.memoizedProps=e.pendingProps,null===t?Au(e):Ia=t,Aa.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=oa(n,t,La)))return void(Ia=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&La)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ia(t)))return n.flags&=2047,void(Ia=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ia=t);Ia=t=e}while(null!==t);0===Fa&&(Fa=5)}function Pu(e){var t=Wo();return Uo(99,Du.bind(null,e,t)),null}function Du(e,t){do{Nu()}while(null!==Xa);if(0!==(48&Pa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<i;){var l=31-Ut(i),c=1<<l;o[l]=0,a[l]=-1,u[l]=-1,i&=~c}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===Da&&(Ia=Da=null,Na=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Pa,Pa|=32,Aa.current=null,Gr=Qt,fr(a=dr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,i=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(R){u=null;break e}var p=0,h=-1,d=-1,f=0,g=0,v=a,y=null;t:for(;;){for(var m;v!==u||0!==i&&3!==v.nodeType||(h=p+i),v!==l||0!==c&&3!==v.nodeType||(d=p+c),3===v.nodeType&&(p+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===a)break t;if(y===u&&++f===i&&(h=p),y===l&&++g===c&&(d=p),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:a,selectionRange:u},Qt=!1,au=null,uu=!1,qa=r;do{try{Iu()}catch(R){if(null===qa)throw Error(s(330));ku(qa,R),qa=qa.nextEffect}}while(null!==qa);au=null,qa=r;do{try{for(a=e;null!==qa;){var w=qa.flags;if(16&w&&me(qa.stateNode,""),128&w){var C=qa.alternate;if(null!==C){var b=C.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&w){case 2:wa(qa),qa.flags&=-3;break;case 6:wa(qa),qa.flags&=-3,Sa(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,Sa(qa.alternate,qa);break;case 4:Sa(qa.alternate,qa);break;case 8:Ea(a,u=qa);var E=u.alternate;ya(u),null!==E&&ya(E)}qa=qa.nextEffect}}catch(R){if(null===qa)throw Error(s(330));ku(qa,R),qa=qa.nextEffect}}while(null!==qa);if(b=Vr,C=dr(),w=b.focusedElem,a=b.selectionRange,C!==w&&w&&w.ownerDocument&&hr(w.ownerDocument.documentElement,w)){null!==a&&fr(w)&&(C=a.start,void 0===(b=a.end)&&(b=C),"selectionStart"in w?(w.selectionStart=C,w.selectionEnd=Math.min(b,w.value.length)):(b=(C=w.ownerDocument||document)&&C.defaultView||window).getSelection&&(b=b.getSelection(),u=w.textContent.length,E=Math.min(a.start,u),a=void 0===a.end?E:Math.min(a.end,u),!b.extend&&E>a&&(u=a,a=E,E=u),u=pr(w,E),i=pr(w,a),u&&i&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==i.node||b.focusOffset!==i.offset)&&((C=C.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),E>a?(b.addRange(C),b.extend(i.node,i.offset)):(C.setEnd(i.node,i.offset),b.addRange(C))))),C=[];for(b=w;b=b.parentNode;)1===b.nodeType&&C.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<C.length;w++)(b=C[w]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!Gr,Vr=Gr=null,e.current=n,qa=r;do{try{for(w=e;null!==qa;){var S=qa.flags;if(36&S&&fa(w,qa.alternate,qa),128&S){C=void 0;var O=qa.ref;if(null!==O){var _=qa.stateNode;switch(qa.tag){case 5:C=_;break;default:C=_}"function"===typeof O?O(C):O.current=C}}qa=qa.nextEffect}}catch(R){if(null===qa)throw Error(s(330));ku(qa,R),qa=qa.nextEffect}}while(null!==qa);qa=null,Mo(),Pa=o}else e.current=n;if($a)$a=!1,Xa=e,Ja=t;else for(qa=r;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((S=qa).sibling=null,S.stateNode=null),qa=t;if(0===(r=e.pendingLanes)&&(Qa=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,Eo&&"function"===typeof Eo.onCommitFiberRoot)try{Eo.onCommitFiberRoot(bo,n,void 0,64===(64&n.current.flags))}catch(R){}if(du(e,Ho()),Ka)throw Ka=!1,e=Ya,Ya=null,e;return 0!==(8&Pa)||qo(),null}function Iu(){for(;null!==qa;){var e=qa.alternate;uu||null===au||(0!==(8&qa.flags)?et(qa,au)&&(uu=!0):13===qa.tag&&_a(e,qa)&&et(qa,au)&&(uu=!0));var t=qa.flags;0!==(256&t)&&da(e,qa),0===(512&t)||$a||($a=!0,zo(97,(function(){return Nu(),null}))),qa=qa.nextEffect}}function Nu(){if(90!==Ja){var e=97<Ja?97:Ja;return Ja=90,Uo(e,Fu)}return!1}function Lu(e,t){Za.push(t,e),$a||($a=!0,zo(97,(function(){return Nu(),null})))}function xu(e,t){eu.push(t,e),$a||($a=!0,zo(97,(function(){return Nu(),null})))}function Fu(){if(null===Xa)return!1;var e=Xa;if(Xa=null,0!==(48&Pa))throw Error(s(331));var t=Pa;Pa|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],a=o.destroy;if(o.destroy=void 0,"function"===typeof a)try{a()}catch(l){if(null===i)throw Error(s(330));ku(i,l)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(l){if(null===i)throw Error(s(330));ku(i,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Pa=t,qo(),!0}function Mu(e,t,n){li(e,t=la(0,t=sa(n,t),1)),t=lu(),null!==(e=hu(e,1))&&(Bt(e,1,t),du(e,t))}function ku(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qa||!Qa.has(r))){var o=ca(n,e=sa(t,e),1);if(li(n,o),o=lu(),null!==(n=hu(n,1)))Bt(n,1,o),du(n,o);else if("function"===typeof r.componentDidCatch&&(null===Qa||!Qa.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Gu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Da===e&&(Na&n)===n&&(4===Fa||3===Fa&&(62914560&Na)===Na&&500>Ho()-Wa?bu(e,0):ja|=n),du(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wo()?1:2:(0===iu&&(iu=ka),0===(t=Ht(62914560&~iu))&&(t=4194304))),n=lu(),null!==(e=hu(e,t))&&(Bt(e,t,n),du(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new ju(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uu(e,t,n,r,o,i){var a=2;if(r=e,"function"===typeof e)Wu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case O:return zu(n.children,o,i,t);case M:a=8,o|=16;break;case _:a=8,o|=1;break;case R:return(e=Hu(12,n,t,8|o)).elementType=R,e.type=R,e.lanes=i,e;case D:return(e=Hu(13,n,t,o)).type=D,e.elementType=D,e.lanes=i,e;case I:return(e=Hu(19,n,t,o)).elementType=I,e.lanes=i,e;case k:return qu(n,o,i,t);case G:return(e=Hu(24,n,t,o)).elementType=G,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case A:a=9;break e;case P:a=11;break e;case N:a=14;break e;case L:a=16,r=null;break e;case x:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Hu(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=k,e.lanes=n,e}function Ku(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xu(e,t,n,r){var o=t.current,i=lu(),a=cu(o);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(go(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(go(l)){n=mo(n,l,u);break e}}n=u}else n=lo;return null===t.context?t.context=n:t.pendingContext=n,(t=ui(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),li(o,t),pu(o,a,i),a}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,si(t),e[Xr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof o){var a=o;o=function(){var e=Ju(s);a.call(e)}}Xu(t,s,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=i._internalRoot,"function"===typeof o){var u=o;o=function(){var e=Ju(s);u.call(e)}}mu((function(){Xu(t,s,e,o)}))}return Ju(s)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(s(200));return $u(e,t,null,n)}za=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||po.current)xs=!0;else{if(0===(n&r)){switch(xs=!1,t.tag){case 3:Us(t),zi();break;case 5:Li(t);break;case 1:go(t.type)&&wo(t);break;case 4:Ii(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;uo($o,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qs(e,t,n):(uo(Fi,1&Fi.current),null!==(t=na(e,t,n))?t.sibling:null);uo(Fi,1&Fi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),uo(Fi,Fi.current),r)break;return null;case 23:case 24:return t.lanes=0,Vs(e,t,n)}return na(e,t,n)}xs=0!==(16384&e.flags)}else xs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=fo(t,co.current),ri(t,n),o=os(null,t,r,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(r)){var i=!0;wo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,si(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&fi(t,r,a,e),o.updater=gi,t.stateNode=o,o._reactInternals=t,wi(t,r,e,n),t=Bs(null,t,r,!0,i,n)}else t.tag=0,Fs(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===N)return 14}return 2}(o),e=Qo(o,e),i){case 0:t=Hs(null,t,o,e,n);break e;case 1:t=Ws(null,t,o,e,n);break e;case 11:t=Ms(null,t,o,e,n);break e;case 14:t=ks(null,t,o,Qo(o.type,e),r,n);break e}throw Error(s(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Hs(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ws(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 3:if(Us(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ai(e,t),pi(t,r,null,n),(r=t.memoizedState.element)===o)zi(),t=na(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Gi=zr(t.stateNode.containerInfo.firstChild),ki=t,i=Vi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],qi.push(i);for(n=_i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fs(e,t,r,n),zi();t=t.child}return t;case 5:return Li(t),null===e&&Wi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,Hr(r,o)?a=null:null!==i&&Hr(r,i)&&(t.flags|=16),js(e,t),Fs(e,t,a,n),t.child;case 6:return null===e&&Wi(t),null;case 13:return Qs(e,t,n);case 4:return Ii(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oi(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ms(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value;var u=t.type._context;if(uo($o,u._currentValue),u._currentValue=i,null!==a)if(u=a.value,0===(i=ar(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(a.children===o.children&&!po.current){t=na(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===u.tag&&((c=ui(-1,n&-n)).tag=2,li(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ni(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Fs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.flags|=1,Fs(e,t,r,n),t.child;case 14:return i=Qo(o=t.type,t.pendingProps),ks(e,t,o,i=Qo(o.type,i),r,n);case 15:return Gs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,go(r)?(e=!0,wo(t)):e=!1,ri(t,n),yi(t,r,o),wi(t,r,o,n),Bs(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return Vs(e,t,n)}throw Error(s(156,t.tag))},tl.prototype.render=function(e){Xu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xu(null,e,null,(function(){t[Xr]=null}))},tt=function(e){13===e.tag&&(pu(e,4,lu()),el(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,lu()),el(e,67108864))},rt=function(e){if(13===e.tag){var t=lu(),n=cu(e);pu(e,n,t),el(e,n)}},ot=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=no(r);if(!o)throw Error(s(90));X(r),ne(r,o)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Le=yu,xe=function(e,t,n,r,o){var i=Pa;Pa|=4;try{return Uo(98,e.bind(null,t,n,r,o))}finally{0===(Pa=i)&&(Ua(),qo())}},Fe=function(){0===(49&Pa)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,Ho())}))}qo()}(),Nu())},Me=function(e,t){var n=Pa;Pa|=2;try{return e(t)}finally{0===(Pa=n)&&(Ua(),qo())}};var il={Events:[eo,to,no,Ie,Ne,Nu,{current:!1}]},sl={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{bo=ul.inject(al),Eo=ul}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=il,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pa;if(0!==(48&n))return e(t);Pa|=1;try{if(e)return Uo(99,e.bind(null,t))}finally{Pa=n,qo()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(s(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(s(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(s(40));return!!e._reactRootContainer&&(mu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=yu,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(54)},function(e,t,n){"use strict";var r,o,i,s;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,p=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},o=function(e,t){p=setTimeout(e,t)},i=function(){clearTimeout(p)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,w=5,C=0;t.unstable_shouldYield=function(){return t.unstable_now()>=C},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();C=e+w;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(n){throw E.postMessage(null),n}}else v=!1},r=function(e){y=e,v||(v=!0,E.postMessage(null))},o=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){f(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<R(o,t)))break e;e[r]=t,e[n]=o,n=r}}function O(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,s=e[i],a=i+1,u=e[a];if(void 0!==s&&0>R(s,n))void 0!==u&&0>R(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[i]=n,r=i);else{if(!(void 0!==u&&0>R(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function R(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],A=[],P=1,D=null,I=3,N=!1,L=!1,x=!1;function F(e){for(var t=O(A);null!==t;){if(null===t.callback)_(A);else{if(!(t.startTime<=e))break;_(A),t.sortIndex=t.expirationTime,S(T,t)}t=O(A)}}function M(e){if(x=!1,F(e),!L)if(null!==O(T))L=!0,r(k);else{var t=O(A);null!==t&&o(M,t.startTime-e)}}function k(e,n){L=!1,x&&(x=!1,i()),N=!0;var r=I;try{for(F(n),D=O(T);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=D.callback;if("function"===typeof s){D.callback=null,I=D.priorityLevel;var a=s(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?D.callback=a:D===O(T)&&_(T),F(n)}else _(T);D=O(T)}if(null!==D)var u=!0;else{var l=O(A);null!==l&&o(M,l.startTime-n),u=!1}return u}finally{D=null,I=r,N=!1}}var G=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||N||(L=!0,r(k))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return O(T)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:P++,callback:n,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,S(A,e),null===O(T)&&e===O(A)&&(x?i():x=!0,o(M,s-a))):(e.sortIndex=u,S(T,e),L||N||(L=!0,r(k))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new A(r||[]);return i._invoke=function(e,t,n){var r=p;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return D()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?f:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,s),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",f="completed",g={};function v(){}function y(){}function m(){}var w={};w[i]=function(){return this};var C=Object.getPrototypeOf,b=C&&C(C(P([])));b&&b!==n&&r.call(b,i)&&(w=b);var E=m.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,s,a){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"===typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:D}}function D(){return{value:t,done:!0}}return y.prototype=E.constructor=m,m.constructor=y,y.displayName=u(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new O(l(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(E),u(E,a,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){var t=n(7);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var o=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function s(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,t){if(t){var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];s in n||(n[s]={}),n=n[s]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,s=new t((function(e,t){o=e,i=t}));return this.Ra(r(e,o),r(n,i)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).Ra(t,n)}))},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t((function(e,t){function i(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,r(o.value).Ra(i(s.length-1),t),o=n.next()}while(!o.done)}))},t}));var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function p(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++w)}var m="closure_uid_"+(1e9*Math.random()>>>0),w=0;function C(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:b).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var O=Date.now;function _(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function R(e){return e}function T(e,t,n){this.code=D+e,this.message=t||I[e]||"",this.a=n||null}function A(e){var t=e&&e.code;return t?new T(t.substring(D.length),e.message,e.serverResponse):null}_(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var P,D="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(e){for(var t in N)if(N[t].id===e)return{firebaseEndpoint:(e=N[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function x(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function F(e){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",r=(e=e.split("%s")).length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");F.call(this,n+e[r])}function k(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function G(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function V(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function j(){this.b=this.a=null}P=L("__EID__")?"__EID__":void 0,_(F,Error),F.prototype.name="CustomError",_(M,F),M.prototype.name="AssertionError",G.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var H=new G((function(){return new B}),(function(e){e.reset()}));function W(){var e=Ct,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}j.prototype.add=function(e,t){var n=H.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)};var q=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],o=0,i="string"===typeof e?e.split(""):e,s=0;s<n;s++)if(s in i){var a=i[s];t.call(void 0,a,s,e)&&(r[o++]=a)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"===typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},Y=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function Q(e,t){return 0<=U(e,t)}function $(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,oe=/>/g,ie=/"/g,se=/'/g,ae=/\x00/g,ue=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var pe=u.navigator;if(pe){var he=pe.userAgent;if(he){ee=he;break e}}ee=""}function de(e){return le(ee,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<ye.length;i++)n=ye[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function we(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var o=r;break e}}catch(s){}o=null}if(o&&"undefined"!=typeof o[t]&&(!e||!(e instanceof o[t])&&(e instanceof o.Location||e instanceof o.Element))){if(v(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;k("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}function Ce(e,t){this.a=e===Oe&&t||"",this.b=Se}function be(e){return e instanceof Ce&&e.constructor===Ce&&e.b===Se?e.a:(k("expected object of type Const, got '"+e+"'"),"type_error:Const")}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a},Ce.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Se={},Oe={};function _e(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:R,createScript:R,createScriptURL:R})}catch(n){u.console&&u.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Re(e,t){this.a=t===Ie?e:""}function Te(e){return e instanceof Re&&e.constructor===Re?e.a:(k("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ae(e,t){var n=be(e);if(!De.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=_e();return new Re(e=t?t.createScriptURL(e):e,Ie)}(e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Ce?be(e):encodeURIComponent(String(e))})))}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,De=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ie={};function Ne(e,t){this.a=t===Ve?e:""}function Le(e){return e instanceof Ne&&e.constructor===Ne?e.a:(k("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Ne.prototype.ta=!0,Ne.prototype.sa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Fe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ke(e){if(e instanceof Ne)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Ne(e,Ve);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Fe);e=t&&xe.test(t[1])?new Ne(e,Ve):null}return e}function Ge(e){return e instanceof Ne?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Ne(e,Ve))}var Ve={},je=new Ne("about:invalid#zClosurez",Ve);function He(e,t,n){this.a=n===We?e:""}He.prototype.ta=!0,He.prototype.sa=function(){return this.a.toString()},He.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var We={};function Be(e,t,n,r){return e=e instanceof Ne?e:Ge(e),t=t||u,n=n instanceof Ce?be(n):n||"",t.open(Le(e),n,r,void 0)}function Ue(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function ze(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function qe(e){return qe[" "](e),e}qe[" "]=h;var Ke,Ye=de("Opera"),Qe=de("Trident")||de("MSIE"),$e=de("Edge"),Xe=$e||Qe,Je=de("Gecko")&&!(le(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=le(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Ye?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),Qe){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ke=String(rt);break e}}Ke=tt}var ot,it={};function st(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ke)).split("."),r=te(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ce(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ce(0==s[2].length,0==a[2].length)||ce(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}if(u.document&&Qe){var at=et();ot=at||(parseInt(Ke,10)||void 0)}else ot=void 0;var ut=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(hs){}var lt=!Qe||9<=Number(ut);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function pt(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,dt,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];if(!f(i)||v(i)&&0<i.nodeType)r(i);else{e:{if(i&&"number"==typeof i.length){if(v(i)){var s="function"==typeof i.item||"string"==typeof i.item;break e}if(g(i)){s="function"==typeof i.item;break e}}s=!1}z(s?Z(i):i,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){u.setTimeout((function(){throw e}),0)}function mt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(bt)}}else dt=function(){var e=bt;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),wt||(dt(),wt=!0),Ct.add(e,t)}var wt=!1,Ct=new j;function bt(){for(var e;e=W();){try{e.a.call(e.b)}catch(t){yt(t)}V(H,e)}wt=!1}function Et(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Mt(n,Ot,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Mt(n,_t,e)}))}catch(r){Mt(this,_t,r)}}var St=0,Ot=2,_t=3;function Rt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Rt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new G((function(){return new Rt}),(function(e){e.reset()}));function At(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof Et)return e;var t=new Et(h);return Mt(t,Ot,e),t}function Dt(e){return new Et((function(t,n){n(e)}))}function It(e,t,n){kt(e,t,n,null)||mt(S(t,e))}function Nt(e){return new Et((function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,i){n--,r[e]=o?{Qb:!0,value:i}:{Qb:!1,reason:i},0==n&&t(r)},i=0;i<e.length;i++)It(e[i],S(o,i,!0),S(o,i,!1));else t(r)}))}function Lt(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,o=null,i=null,s=n.b;s&&(s.c||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(i=s);o&&(n.a==St&&1==r?Lt(n,t):(i?((r=i).next==n.f&&(n.f=r),r.next=r.next.next):Vt(n),jt(n,o,_t,t)))}e.c=null}else Mt(e,_t,t)}function xt(e,t){e.b||e.a!=Ot&&e.a!=_t||Gt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ft(e,t,n,r){var o=At(null,null,null);return o.a=new Et((function(e,i){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(s){i(s)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof Bt?i(t):e(o)}catch(s){i(s)}}:i})),o.a.c=e,xt(e,o),o.a}function Mt(e,t,n){e.a==St&&(e===n&&(t=_t,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Gt(e),t!=_t||n instanceof Bt||function(e,t){e.g=!0,mt((function(){e.g&&Wt.call(null,t)}))}(e,n)))}function kt(e,t,n,r){if(e instanceof Et)return xt(e,At(t||h,n||null,r)),!0;if(x(e))return e.then(t,n,r),!0;if(v(e))try{var o=e.then;if(g(o))return function(e,t,n,r,o){function i(e){a||(a=!0,r.call(o,e))}function s(e){a||(a=!0,n.call(o,e))}var a=!1;try{t.call(e,s,i)}catch(u){i(u)}}(e,o,t,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function Gt(e){e.h||(e.h=!0,mt(e.gc,e))}function Vt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function jt(e,t,n,r){if(n==_t&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ht(t,n,r);else try{t.c?t.g.call(t.f):Ht(t,n,r)}catch(o){Wt.call(null,o)}V(Tt,t)}function Ht(e,t,n){t==Ot?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Ft(this,g(e)?e:null,g(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(n=Et.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,xt(this,e),this},n.o=function(e,t){return Ft(this,null,e,t)},n.cancel=function(e){if(this.a==St){var t=new Bt(e);mt((function(){Lt(this,t)}),this)}},n.$c=function(e){this.a=St,Mt(this,Ot,e)},n.ad=function(e){this.a=St,Mt(this,_t,e)},n.gc=function(){for(var e;e=Vt(this);)jt(this,e,this.a,this.i);this.h=!1};var Wt=yt;function Bt(e){F.call(this,e)}function Ut(){0!=zt&&(qt[y(this)]=this),this.ya=this.ya,this.pa=this.pa}_(Bt,F),Bt.prototype.name="cancel";var zt=0,qt={};function Kt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=zt)){var t=y(e);if(0!=zt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qt[t]}}Ut.prototype.ya=!1,Ut.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Yt=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(ut),$t=Qe&&!st("9"),Xt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",h,t),u.removeEventListener("test",h,t)}catch(n){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{qe(t.nodeName);var o=!0;break e}catch(i){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Zt,Jt);var en=Yt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=o,this.key=++nn,this.wa=this.Qa=!1}function on(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o];if(!i.wa&&i.listener==t&&i.capture==!!n&&i.Wa==r)return o}return-1}sn.prototype.add=function(e,t,n,r,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var s=un(e,t,r,o);return-1<s?(t=e[s],n||(t.Qa=!1)):((t=new rn(t,this.src,i,!!r,o)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),cn={};function pn(e,t,n,r,o){if(r&&r.once)dn(e,t,n,r,o);else if(Array.isArray(t))for(var i=0;i<t.length;i++)pn(e,t[i],n,r,o);else n=En(n),e&&e[tn]?On(e,t,n,v(r)?!!r.capture:!!r,o):hn(e,t,n,!1,r,o)}function hn(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");var s=v(o)?!!o.capture:!!o,a=Cn(e);if(a||(e[ln]=a=new sn(e)),!(n=a.add(t,n,r,s,i)).proxy){if(r=function(){var e=wn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)dn(e,t[i],n,r,o);else n=En(n),e&&e[tn]?_n(e,t,n,v(r)?!!r.capture:!!r,o):hn(e,t,n,!0,r,o)}function fn(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)fn(e,t[i],n,r,o);else r=v(r)?!!r.capture:!!r,n=En(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(i=e.a[t],n,r,o))&&(on(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.a[t],e.b--)))):e&&(e=Cn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,o)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cn(t))?(an(n,e),0==n.b&&(n.src=null,t[ln]=null)):on(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function yn(e,t,n,r){var o=!0;if((e=Cn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==n&&!i.wa&&(i=mn(i,r),o=o&&!1!==i)}return o}function mn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function wn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var i=yn(r[o],e,!0,t);n=n&&i}for(o=0;o<r.length;o++)t.b=r[o],i=yn(r[o],e,!1,t),n=n&&i}return n}return mn(e,new Zt(t,this))}function Cn(e){return(e=e[ln])instanceof sn?e:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return g(e)?e:(e[bn]||(e[bn]=function(t){return e.handleEvent(t)}),e[bn])}function Sn(){Ut.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function On(e,t,n,r,o){e.v.add(String(t),n,!1,r,o)}function _n(e,t,n,r,o){e.v.add(String(t),n,!0,r,o)}function Rn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var o=!0,i=0;i<t.length;++i){var s=t[i];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&an(e.v,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}function Tn(e,t,n){if(g(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function An(e){var t=null;return new Et((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Pn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Dn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function In(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof In)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ln(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)Ln(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(Sn,Ut),Sn.prototype[tn]=!0,Sn.prototype.addEventListener=function(e,t,n,r){pn(this,e,t,n,r)},Sn.prototype.removeEventListener=function(e,t,n,r){fn(this,e,t,n,r)},Sn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var o=e;me(e=new Jt(r,n),o)}if(o=!0,t)for(var i=t.length-1;0<=i;i--){var s=e.b=t[i];o=Rn(s,r,!0,e)&&o}if(o=Rn(s=e.b=n,r,!0,e)&&o,o=Rn(s,r,!1,e)&&o,t)for(i=0;i<t.length;i++)o=Rn(s=e.b=t[i],r,!1,e)&&o;return o},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=In.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return Nn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Ln(this.b,e)?this.b[e]:t},n.set=function(e,t){Ln(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);e.call(t,i,o,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Fn?(this.i=void 0!==t?t:e.i,Mn(this,e.c),this.l=e.l,this.a=e.a,kn(this,e.g),this.f=e.f,Gn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(xn))?(this.i=!!t,Mn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),kn(this,n[4]),this.f=Bn(n[5]||"",!0),Gn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Mn(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function kn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Gn(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Un(t,Qn)),e.b=new Xn(t,e.i))}function Vn(e,t,n){e.b.set(t,n)}function jn(e,t){return e.b.get(t)}function Hn(e){return e instanceof Fn?new Fn(e):new Fn(e,void 0)}function Wn(e,t,n,r){var o=new Fn(null,void 0);return e&&Mn(o,e),t&&(o.a=t),n&&kn(o,n),r&&(o.f=r),o}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Un(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Un(t,qn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Un(t,qn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Un(n,"/"==n.charAt(0)?Yn:Kn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Un(n,$n)),e.join("")},Fn.prototype.resolve=function(e){var t=new Fn(this),n=!!e.c;n?Mn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)kn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var o=t.f.lastIndexOf("/");-1!=o&&(r=t.f.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(le(o,"./")||le(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],s=0;s<o.length;){var a=o[s++];"."==a?r&&s==o.length&&i.push(""):".."==a?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&s==o.length&&i.push("")):(i.push(a),r=!0)}r=i.join("/")}else r=o}return n?t.f=r:n=""!==e.b.toString(),n?Gn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var qn=/[#\/\?@]/g,Kn=/[#\?:]/g,Yn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new In,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var i=e[n].substring(0,r);o=e[n].substring(r+1)}else i=e[n];t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=Dn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var o=t[r],i=e[r];Array.isArray(i)?nr(n,o,i):n.add(o,i)}return n}function er(e,t){Jn(e),t=or(e,t),Ln(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ln((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function tr(e,t){return Jn(e),t=or(e,t),Ln(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new In(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new sr,e,t),t.join("")}function sr(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var o="",i=0;i<t;i++)n.push(o),ar(e,r[i],n),o=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),o="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(i=t[r])&&(n.push(o),cr(r,n),n.push(":"),ar(e,i,n),o=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(n=Xn.prototype).add=function(e,t){Jn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var o=e[r],i=0;i<o.length;i++)n.push(t[r]);return n},n.X=function(e){Jn(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=J(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Jn(this),this.c=null,tr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.X(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),e.push(s)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(lr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function pr(){var e=Ir();return Qe&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=Le(ke(e)||je)),t.location.href=n}function fr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<fr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Ir()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||u.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Ar(Ir())==Rr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ne?n:ke("undefined"!=typeof n.href?n.href:String(n))||je,n=e.target||n.target,o=[],e)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(e[s]?1:0))}var s=o.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(we(s=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ne?t:Ge(t),s.href=Le(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=Be("",r,n,s),e=Le(t),s&&(Xe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ze(e)+'">',e=new He(e=(r=_e())?r.createHTML(e):e,null,We),r=s.document)&&(r.write(function(e){return e instanceof He&&e.constructor===He?e.a:(k("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(s=Be(t,r,n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function Cr(){var e=null;return new Et((function(t){"complete"==u.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw fn(window,"load",e),t}))}function br(e){return e=e||Ir(),!("file:"!==Mr()&&"ionic:"!==Mr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Sr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Or(){return t.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.a.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function _r(){var e=Or();return"ReactNative"===e||"Node"===e}var Rr="Firefox",Tr="Chrome";function Ar(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Rr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Tr:"Safari"}var Pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Dr(e,t){t=t||[];var n,r=[],o={};for(n in Pr)o[Pr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Or())?r=Ar(o=Ir()):"Worker"===r&&(r=Ar(o=Ir())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ir(){return u.navigator&&u.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Lr(){try{var e=u.localStorage,t=Hr();if(e)return e.setItem(t,"1"),e.removeItem(t),!pr()||!!u.indexedDB}catch(n){return Sr()&&!!u.indexedDB}return!1}function xr(){return(Fr()||"chrome-extension:"===Mr()||br())&&!_r()&&Lr()&&!Sr()}function Fr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return u.location&&u.location.protocol||null}function kr(e){return!gr(e=e||Ir())&&Ar(e)!=Rr}function Gr(e){return"undefined"===typeof e?null:ir(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function jr(e){if(null!==e)return JSON.parse(e)}function Hr(e){return e||Math.floor(1e9*Math.random()).toString()}function Wr(e){return"Safari"!=Ar(e=e||Ir())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ur(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ir(),t=Or(),this.b=gr(e)||"ReactNative"===t}function zr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Kr(){return!(!Nr("fireauth.oauthhelper",u)&&!Nr("fireauth.iframe",u))}Ur.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Fr()&&"chrome-extension:"!==Mr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Qr={};function $r(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Xr.abcd}catch(hs){Yr=!1}function Jr(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function eo(e){var t={};return Zr(t,e),t}function to(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,to(e[n]));return t}function no(e){var t=e&&(e[ao]?"phone":null);if(!(t&&e&&e[so]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[so]),Jr(this,"displayName",e[oo]||null);var n=null;e[io]&&(n=new Date(e[io]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ro(e){try{var t=new uo(e)}catch(n){t=null}return t}no.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var oo="displayName",io="enrolledAt",so="mfaEnrollmentId",ao="phoneInfo";function uo(e){no.call(this,e),Jr(this,"phoneNumber",e[ao])}function lo(e){var t={},n=e[fo],r=e[vo],o=e[yo];if(e=ro(e[go]),!o||o!=po&&o!=ho&&!n||o==ho&&!r||o==co&&!e)throw Error("Invalid checkActionCode response!");o==ho?(t[wo]=n||null,t[bo]=n||null,t[mo]=r):(t[wo]=r||null,t[bo]=r||null,t[mo]=n||null),t[Co]=e||null,Jr(this,So,o),Jr(this,Eo,to(t))}_(uo,no),uo.prototype.w=function(){var e=uo.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var co="REVERT_SECOND_FACTOR_ADDITION",po="EMAIL_SIGNIN",ho="VERIFY_AND_CHANGE_EMAIL",fo="email",go="mfaInfo",vo="newEmail",yo="requestType",mo="email",wo="fromEmail",Co="multiFactorInfo",bo="previousEmail",Eo="data",So="operation";function Oo(e){var t=jn(e=Hn(e),_o)||null,n=jn(e,Ro)||null,r=jn(e,Po)||null;if(r=r&&Io[r]||null,!t||!n||!r)throw new T("argument-error",_o+", "+Ro+"and "+Po+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:jn(e,To)||null,languageCode:jn(e,Ao)||null,tenantId:jn(e,Do)||null})}var _o="apiKey",Ro="oobCode",To="continueUrl",Ao="languageCode",Po="mode",Do="tenantId",Io={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:co,signIn:po,verifyAndChangeEmail:ho,verifyEmail:"VERIFY_EMAIL"};function No(e){try{return new Oo(e)}catch(t){return null}}function Lo(e){var t=e[Go];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[xo];if(n&&"object"===typeof n){t=n[Ho];var r=n[Vo];if(n=n[jo],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Vo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",jo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",Ho+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",xo+" property must be a non null object when specified.");if(this.f=null,(t=e[ko])&&"object"===typeof t){if("string"===typeof(t=t[Wo])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",Wo+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",ko+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Mo])&&"boolean"!==typeof t)throw new T("argument-error",Mo+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Fo])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",Fo+" property must be a non empty string when specified.");this.i=e||null}var xo="android",Fo="dynamicLinkDomain",Mo="handleCodeInApp",ko="iOS",Go="url",Vo="installApp",jo="minimumVersion",Ho="packageName",Wo="bundleId";function Bo(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Uo=null;function zo(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=Uo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Uo){Uo={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),o=0;o<r.length;o++){var i=r[o];void 0===Uo[i]&&(Uo[i]=o)}}}();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;t(o<<2|i>>4),64!=s&&(t(i<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t.push(e)})),t}function qo(e){var t=Yo(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ko(e){try{return new qo(e)}catch(t){return null}}function Yo(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=zo(e);for(e=[],n=t=0;t<r.length;){var o=r[t++];if(128>o)e[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=r[t++];e[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=r[t++];var s=r[t++],a=((7&o)<<18|(63&i)<<12|(63&s)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else i=r[t++],s=r[t++],e[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}return JSON.parse(e.join(""))}catch(u){}return null}qo.prototype.T=function(){return this.f},qo.prototype.l=function(){return this.c},qo.prototype.toString=function(){return this.h};var Qo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$o=["client_id","response_type","scope","redirect_uri","state"],Xo={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$o},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$o},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$o},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Qo},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Jo(e){for(var t in Xo)if(Xo[t].fa==e)return Xo[t];return null}function Zo(e){var t={};t["facebook.com"]=oi,t["google.com"]=si,t["github.com"]=ii,t["twitter.com"]=ai;var n=e&&e[ti];try{if(n)return t[n]?new t[n](e):new ri(e);if("undefined"!==typeof e[ei])return new ni(e)}catch(r){}return null}var ei="idToken",ti="providerId";function ni(e){var t=e[ti];if(!t&&e[ei]){var n=Ko(e[ei]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function ri(e){ni.call(this,e),Jr(this,"profile",to((e=jr(e.rawUserInfo||"{}"))||{}))}function oi(e){if(ri.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ii(e){if(ri.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function si(e){if(ri.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ai(e){if(ri.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function ui(e){var t=Hn(e),n=jn(t,"link"),r=jn(Hn(n),"link");return t=jn(t,"deep_link_id"),jn(Hn(t),"link")||t||r||n||e}function li(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ci:pi}_(ri,ni),_(oi,ri),_(ii,ri),_(si,ri),_(ai,ri);var ci="enroll",pi="signin";function hi(){}function di(e,t){return e.then((function(e){if(e[na]){var n=Ko(e[na]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==D+"user-not-found"?new T("user-mismatch"):e}))}function fi(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function gi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function vi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fi(e.providerId,e.pendingToken)}catch(t){}return null}function yi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function mi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new yi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Ci(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Jo(e)||{}).Ja||null,this.pb=null}function bi(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');Ci.call(this,e,[])}function Ei(e){Ci.call(this,e,$o),this.a=[]}function Si(){Ei.call(this,"facebook.com")}function Oi(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Si).credential({accessToken:t})}function _i(){Ei.call(this,"github.com")}function Ri(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new _i).credential({accessToken:t})}function Ti(){Ei.call(this,"google.com"),this.Ca("profile")}function Ai(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Ti).credential({idToken:n,accessToken:t})}function Pi(){Ci.call(this,"twitter.com",Qo)}function Di(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yi("twitter.com",n,"twitter.com")}function Ii(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Li.EMAIL_LINK_SIGN_IN_METHOD?Li.EMAIL_LINK_SIGN_IN_METHOD:Li.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ni(e){return e&&e.email&&e.password?new Ii(e.email,e.password,e.signInMethod):null}function Li(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function xi(e,t){if(!(t=Fi(t)))throw new T("argument-error","Invalid email link!");return new Ii(e,t.code,Li.EMAIL_LINK_SIGN_IN_METHOD)}function Fi(e){return(e=No(e=ui(e)))&&e.operation===po?e:null}function Mi(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function ki(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Mi(t)}return null}function Gi(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vi(e){try{this.a=e||t.a.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function ji(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Mi({fb:e,eb:t})}function Hi(e){if(e.temporaryProof&&e.phoneNumber)return new Mi({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,i=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return Ai(i,n);case"facebook.com":return Oi(n);case"github.com":return Ri(n);case"twitter.com":return Di(n,r);default:return n||r||i||s?s?0==t.indexOf("saml.")?new fi(t,s):new yi(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Ei(t).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(a){return null}}function Wi(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Bi(e,t,n,r,o,i,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=i||null,this.h=s||null,this.a=o||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Ui(e){return(e=e||{}).type?new Bi(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&A(e.error),e.postBody,e.tenantId):null}function zi(){this.b=null,this.a=[]}li.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},li.prototype.w=function(){return this.type==ci?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},hi.prototype.ka=function(){},hi.prototype.b=function(){},hi.prototype.c=function(){},hi.prototype.w=function(){},fi.prototype.ka=function(e){return Oa(e,gi(this))},fi.prototype.b=function(e,t){var n=gi(this);return n.idToken=t,_a(e,n)},fi.prototype.c=function(e,t){return di(Ra(e,gi(this)),t)},fi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yi.prototype.ka=function(e){return Oa(e,mi(this))},yi.prototype.b=function(e,t){var n=mi(this);return n.idToken=t,_a(e,n)},yi.prototype.c=function(e,t){return di(Ra(e,mi(this)),t)},yi.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Ci.prototype.Ka=function(e){return this.Jb=ve(e),this},_(bi,Ci),_(Ei,Ci),Ei.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},Ei.prototype.Rb=function(){return Z(this.a)},Ei.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new yi(this.providerId,n,this.providerId)},_(Si,Ei),Jr(Si,"PROVIDER_ID","facebook.com"),Jr(Si,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(_i,Ei),Jr(_i,"PROVIDER_ID","github.com"),Jr(_i,"GITHUB_SIGN_IN_METHOD","github.com"),_(Ti,Ei),Jr(Ti,"PROVIDER_ID","google.com"),Jr(Ti,"GOOGLE_SIGN_IN_METHOD","google.com"),_(Pi,Ci),Jr(Pi,"PROVIDER_ID","twitter.com"),Jr(Pi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ii.prototype.ka=function(e){return this.signInMethod==Li.EMAIL_LINK_SIGN_IN_METHOD?au(e,xa,{email:this.a,oobCode:this.f}):au(e,nu,{email:this.a,password:this.f})},Ii.prototype.b=function(e,t){return this.signInMethod==Li.EMAIL_LINK_SIGN_IN_METHOD?au(e,Fa,{idToken:t,email:this.a,oobCode:this.f}):au(e,Ya,{idToken:t,email:this.a,password:this.f})},Ii.prototype.c=function(e,t){return di(this.ka(e),t)},Ii.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Li,{PROVIDER_ID:"password"}),Zr(Li,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Li,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mi.prototype.ka=function(e){return e.gb(Gi(this))},Mi.prototype.b=function(e,t){var n=Gi(this);return n.idToken=t,au(e,ou,n)},Mi.prototype.c=function(e,t){var n=Gi(this);return n.operation="REAUTH",di(e=au(e,iu,n),t)},Mi.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vi.prototype.gb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var o=v(e)?e.session:null,i=v(e)?e.phoneNumber:e;return(o&&o.type==ci?o.Ha().then((function(e){return function(e,t){return au(e,$a,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r}})})):o&&o.type==pi?o.Ha().then((function(t){return function(e,t){return au(e,Xa,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return au(e,qa,t)}(n,{phoneNumber:i,recaptchaToken:r})).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Vi,{PROVIDER_ID:"phone"}),Zr(Vi,{PHONE_SIGN_IN_METHOD:"phone"}),Bi.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bi.prototype.T=function(){return this.h},Bi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qi,Ki=null;function Yi(e){var t="unauthorized-domain",n=void 0,r=Hn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ue("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ue("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function Qi(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function $i(e){if(e.code){var t=e.code||"";0==t.indexOf(D)&&(t=t.substring(D.length));var n={credential:Hi(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new Qi(t,n,e.message)}return null}function Xi(){}function Ji(e){return e.c||(e.c=e.b())}function Zi(){}function es(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ts(){}function ns(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function rs(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function os(e,t,n){this.reset(e,t,n,void 0,void 0)}_(Yi,T),_(Qi,T),Qi.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},Qi.prototype.toJSON=function(){return this.w()},Xi.prototype.c=null,_(Zi,Xi),Zi.prototype.a=function(){var e=es(this);return e?new ActiveXObject(e):new XMLHttpRequest},Zi.prototype.b=function(){var e={};return es(this)&&(e[0]=!0,e[1]=!0),e},qi=new Zi,_(ts,Xi),ts.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ns;throw Error("Unsupported browser")},ts.prototype.b=function(){return{}},(n=ns.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,rs(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",rs(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,rs(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},os.prototype.a=null;function is(e){this.f=e,this.b=this.c=this.a=null}function ss(e,t){this.name=e,this.value=t}os.prototype.reset=function(e,t,n,r,o){"number"==typeof o||0,r||O(),delete this.a},ss.prototype.toString=function(){return this.name};var as=new ss("SEVERE",1e3),us=new ss("WARNING",900),ls=new ss("CONFIG",700),cs=new ss("FINE",500);function ps(e){return e.c?e.c:e.a?ps(e.a):(k("Root logger has no level set."),null)}is.prototype.log=function(e,t,n){if(e.value>=ps(this).value)for(g(t)&&(t=t()),e=new os(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var hs,ds={},fs=null;function gs(e){var t;if(fs||(fs=new is(""),ds[""]=fs,fs.c=ls),!(t=ds[e])){t=new is(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=gs(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ds[e]=t}return t}function vs(e,t){e&&e.log(cs,t,void 0)}function ys(e){this.f=e}function ms(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ys,Xi),ys.prototype.a=function(){return new ms(this.f)},ys.prototype.b=(hs={},function(){return hs}),_(ms,Sn);var ws=0;function Cs(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function bs(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Es(e)}function Es(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ss(e){Sn.call(this),this.headers=new In,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Os,this.u=this.S=!1}(n=ms.prototype).open=function(e,t){if(this.readyState!=ws)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Es(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,bs(this)),this.readyState=ws},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Es(this)),this.a&&(this.readyState=3,Es(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Cs(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?bs(this):Es(this),3==this.readyState&&Cs(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,bs(this))},n.sc=function(e){this.a&&(this.response=e,bs(this))},n.Va=function(e){var t=this.i;t&&t.log(us,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&bs(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(us,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(us,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),_(Ss,Sn);var Os="";Ss.prototype.b=gs("goog.net.XhrIo");var _s=/^https?$/i,Rs=["POST","PUT"];function Ts(e,t,n,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():qi.a(),e.C=e.D?Ji(e.D):Ji(qi),e.a.onreadystatechange=E(e.Wb,e);try{vs(e.b,Ms(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return vs(e.b,Ms(e,"Error opening Xhr: "+s.message)),void Ps(e,s)}t=r||"";var i=new In(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)z(e,t,void 0);else for(var n=Dn(e),r=Pn(e),o=r.length,i=0;i<o;i++)t.call(void 0,r[i],n&&n[i],e)}(o,(function(e,t){i.set(t,e)})),o=function(e){e:{for(var t=As,n=e.length,r="string"===typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.Y()),r=u.FormData&&t instanceof u.FormData,!Q(Rs,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ls(e),0<e.g&&(e.u=function(e){return Qe&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),vs(e.b,Ms(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),vs(e.b,Ms(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){vs(e.b,Ms(e,"Send error: "+s.message)),Ps(e,s)}}function As(e){return"content-type"==e.toLowerCase()}function Ps(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ds(e),Ns(e)}function Ds(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Is(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==xs(e)&&2==Fs(e))vs(e.b,Ms(e,"Local request error detected and ignored"));else if(e.i&&4==xs(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==xs(e)){vs(e.b,Ms(e,"Request complete")),e.c=!1;try{var t,n=Fs(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var o;if(o=0===n){var i=String(e.l).match(xn)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!_s.test(i?i.toLowerCase():"")}t=o}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<xs(e)?e.a.statusText:""}catch(c){vs(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+Fs(e)+"]",Ds(e)}}finally{Ns(e)}}}function Ns(e,t){if(e.a){Ls(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(e=e.b)&&e.log(as,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Ls(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function xs(e){return e.a?e.a.readyState:0}function Fs(e){try{return 2<xs(e)?e.a.status:-1}catch(t){return-1}}function Ms(e,t){return t+" ["+e.P+" "+e.l+" "+Fs(e)+"]"}function ks(e){var t=Ys;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Gs(e,t,n){e.a=!0,e.c=n,e.f=!t,Ws(e)}function Vs(e){if(e.a){if(!e.v)throw new Bs(e);e.v=!1}}function js(e,t,n,r){e.g.push([t,n,r]),e.a&&Ws(e)}function Hs(e){return Y(e.g,(function(e){return g(e[1])}))}function Ws(e){if(e.h&&e.a&&Hs(e)){var t=e.h,n=qs[t];n&&(u.clearTimeout(n.a),delete qs[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),i=o[0],s=o[1];if(o=o[2],i=e.f?s:i)try{var a=i.call(o||e.s,t);void 0!==a&&(e.f=e.f&&(a==t||a instanceof Error),e.c=t=a),(x(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,Hs(e)||(n=!0)}}e.c=t,r&&(a=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof ks?(js(t,a,r),t.C=!0):t.then(a,r)),n&&(t=new zs(t),qs[t.a]=t,e.h=t.a)}function Bs(){F.call(this)}function Us(){F.call(this)}function zs(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(n=Ss.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",vs(this.b,Ms(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(vs(this.b,Ms(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ns(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ns(this,!0)),Ss.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Is(this):this.Jc())},n.Jc=function(){Is(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Os:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(as,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return vs(this.b,"Can not get response: "+t.message),null}},ks.prototype.cancel=function(e){if(this.a)this.c instanceof ks&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Us(this),Vs(this),Gs(this,!1,e))}},ks.prototype.m=function(e,t){this.i=!1,Gs(this,e,t)},ks.prototype.then=function(e,t,n){var r,o,i=new Et((function(e,t){r=e,o=t}));return js(this,r,(function(e){e instanceof Us?i.cancel():o(e)})),i.then(e,t,n)},ks.prototype.$goog_Thenable=!0,_(Bs,F),Bs.prototype.message="Deferred has already fired",Bs.prototype.name="AlreadyCalledError",_(Us,F),Us.prototype.message="Deferred was canceled",Us.prototype.name="CanceledError",zs.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function Ks(e){var t={},n=t.document||document,r=Te(e).toString(),o=vt(document,"SCRIPT"),i={Xb:o,Ma:void 0},s=new ks(i),a=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(a=window.setTimeout((function(){Qs(o,!0);var e=new Js(Xs,"Timeout reached for loading script "+r);Vs(s),Gs(s,!1,e)}),l),i.Ma=a),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(Qs(o,t.xd||!1,a),Vs(s),Gs(s,!0,null))},o.onerror=function(){Qs(o,!0,a);var e=new Js($s,"Error while loading script "+r);Vs(s),Gs(s,!1,e)},me(i=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),pt(o,i),function(e,t){we(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=p(t.document):(null===c&&(c=p(u.document)),t=c),t&&e.setAttribute("nonce",t)}(o,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(o),s}function Ys(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Qs(e,!0,this.Ma)}}function Qs(e,t,n){null!=n&&u.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var $s=0,Xs=1;function Js(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),F.call(this,n),this.code=e}function Zs(e){this.f=e}function ea(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ra,this.g=ve(e.secureTokenHeaders||oa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ia,this.a=ve(e.firebaseHeaders||sa),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Or(),!(r=u.XMLHttpRequest||r&&t.a.INTERNAL.node&&t.a.INTERNAL.node.XMLHttpRequest)&&!Sr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new ys(self):_r()?this.f=new Zs(r):this.f=new ts,this.b=null}_(Js,F),_(Zs,Xi),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var ta,na="idToken",ra=new Ur(3e4,6e4),oa={"Content-Type":"application/x-www-form-urlencoded"},ia=new Ur(3e4,6e4),sa={"Content-Type":"application/json"};function aa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ua(e,t){t&&(e.l=la("https://securetoken.googleapis.com/v1/token",t),e.h=la("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=la("https://identitytoolkit.googleapis.com/v2/",t))}function la(e,t){return e=Hn(e),t=Hn(t.url),e.f=e.a+e.f,Mn(e,t.c),e.a=t.a,kn(e,t.g),e.toString()}function ca(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function pa(e,t,n,r,o,i,s){(function(){var e=Ir();return!((e=Ar(e)!=Tr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!ut||9<ut)})()||Sr()?e=E(e.u,e):(ta||(ta=new Et((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[da]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){js(e,null,t,void 0)}(Ks(Ae(ha,{onload:da})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.s,e)),e(t,n,r,o,i,s)}ea.prototype.T=function(){return this.b},ea.prototype.u=function(e,t,n,r,o,i){if(Sr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Ss(this.f);if(i){s.g=Math.max(0,i);var a=setTimeout((function(){s.dispatchEvent("timeout")}),i)}On(s,"complete",(function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return vs(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),_n(s,"ready",(function(){a&&clearTimeout(a),Kt(this)})),_n(s,"timeout",(function(){a&&clearTimeout(a),Kt(this),t&&t(null)})),Ts(s,e,n,r,o)};var ha=new Ce(Oe,"https://apis.google.com/js/client.js?onload=%{onload}"),da="__fcb"+Math.floor(1e6*Math.random()).toString();function fa(e,t,n,r,o,i,s){var a=Hn(t+n);Vn(a,"key",e.c),s&&Vn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in o)o.hasOwnProperty(l)&&Vn(a,l,o[l]);return new Et((function(t,n){pa(e,a.toString(),(function(e){e?e.error?n(lu(e,i||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:ir(Vr(o)),e.a,e.v.get())}))}function ga(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new T("invalid-email")}function va(e){"email"in e&&ga(e)}function ya(e){if(!e[na]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ve(e));throw new T("internal-error")}}function ma(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}ea.prototype.s=function(e,t,n,r,o){var i=this;ta.then((function(){window.gapi.client.setApiKey(i.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ea.prototype.Ab=function(){return au(this,Qa,{})},ea.prototype.Cb=function(e,t){return au(this,Ka,{idToken:e,email:t})},ea.prototype.Db=function(e,t){return au(this,Ya,{idToken:e,password:t})};var wa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ca(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ba(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function Ea(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(tr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Sa(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=$i(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=$i(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=$i(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;ya(e)}function Oa(e,t){return t.returnIdpCredential=!0,au(e,Ja,t)}function _a(e,t){return t.returnIdpCredential=!0,au(e,eu,t)}function Ra(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,au(e,Za,t)}function Ta(e){if(!e.oobCode)throw new T("invalid-action-code")}(n=ea.prototype).Eb=function(e,t){var n={idToken:e},r=[];return fe(wa,(function(e,o){var i=t[o];null===i?r.push(e):o in t&&(n[o]=i)})),r.length&&(n.deleteAttribute=r),au(this,Ka,n)},n.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),au(this,Wa,e)},n.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),au(this,Va,e)},n.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),au(this,ja,e)},n.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),au(this,Ha,e)},n.gb=function(e){return au(this,ru,e)},n.ob=function(e,t){return au(this,za,{oobCode:e,newPassword:t})},n.Sa=function(e){return au(this,Pa,{oobCode:e})},n.kb=function(e){return au(this,Aa,{oobCode:e})};var Aa={endpoint:"setAccountInfo",A:Ta,Z:"email",B:!0},Pa={endpoint:"resetPassword",A:Ta,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Da={endpoint:"signupNewUser",A:function(e){if(ga(e),!e.password)throw new T("weak-password")},G:ya,V:!0,B:!0},Ia={endpoint:"createAuthUri",B:!0},Na={endpoint:"deleteAccount",O:["idToken"]},La={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},xa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ga,G:ya,V:!0,B:!0},Fa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ga,G:ya,V:!0},Ma={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ca,G:ya,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ca,G:ya,B:!0,Na:!0},Ga={endpoint:"getAccountInfo"},Va={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");ga(e)},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ha={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Wa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");ga(e)},Z:"email",B:!0},Ba={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ua={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},za={endpoint:"resetPassword",A:Ta,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ka={endpoint:"setAccountInfo",O:["idToken"],A:va,V:!0},Ya={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(va(e),!e.password)throw new T("weak-password")},G:ya,V:!0},Qa={endpoint:"signupNewUser",G:ya,V:!0,B:!0},$a={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Xa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ja={endpoint:"verifyAssertion",A:ba,Za:Ea,G:Sa,V:!0,B:!0},Za={endpoint:"verifyAssertion",A:ba,Za:Ea,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);ya(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(ba(e),!e.idToken)throw new T("internal-error")},Za:Ea,G:Sa,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:ya,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(ga(e),!e.password)throw new T("wrong-password")},G:ya,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ma,G:ya,B:!0},ou={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ma(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",$i(e);ya(e)}},iu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ma,G:ya,B:!0},su={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[na]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function au(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Dt(new T("internal-error"));var r,o=!!t.Na,i=t.Vb||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),fa(e,o?e.i:e.h,t.endpoint,i,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function uu(e){return lu({error:{errors:[{message:e}],code:400,message:e}})}function lu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new T(r[o],t);return!t&&e&&(t=Gr(e)),new T("internal-error",t)}function cu(e){this.b=e,this.a=null,this.sb=function(e){return(fu||(fu=new Et((function(e,t){function n(){Br(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Br(),t(Error("Network Error"))},timeout:hu.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},Pt(Ks(r=Ae(pu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw fu=null,e})))).then((function(){return new Et((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function o(){clearTimeout(i),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var i=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var pu=new Ce(Oe,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Ur(3e4,6e4),du=new Ur(5e3,15e3),fu=null;function gu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Wn((e=Hn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Wn("https",this.l,null,"/__/auth/iframe"),this.a=e,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function vu(e,t,n,r,o,i){this.u=e,this.s=t,this.c=n,this.m=r,this.v=i,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function yu(e){try{return t.a.app(e).auth().Ga()}catch(n){return[]}}function mu(e,t,n,r,o,i){this.s=e,this.g=t,this.b=n,this.f=i,this.c=r||null,this.i=o||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=hr();return function(e){return au(e,Ba,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Hn(t),r=n.c;n=n.a;for(var o=0;o<e.length;o++){var i=e[o],s=n,a=r;if(0==i.indexOf("chrome-extension://")?s=Hn(i).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(i)?s=s==i:(i=i.split(".").join("\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Yi(hr())}))}function Cu(e){return e.m||(e.m=Cr().then((function(){if(!e.u){var t=e.c,n=e.i,r=yu(e.b),o=new gu(e.s,e.g,e.b,e.f);o.f=t,o.b=n,o.c=Z(r||[]),e.u=o.toString()}e.v=new cu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ui(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function bu(e){return e.l||(e.C=e.c?Dr(e.c,yu(e.b)):null,e.l=new ea(e.g,L(e.i),e.C),e.f&&ua(e.l,e.f)),e.l}function Eu(e,t,n,r,o,i,s,a,u,l,c,p){return(e=new vu(e,t,n,r,o,p)).l=i,e.g=s,e.i=a,e.b=ve(u||null),e.f=l,e.zb(c).toString()}function Su(e){if(this.a=e||t.a.INTERNAL.reactNative&&t.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ou(e){this.b=e,this.a={},this.f=E(this.c,this)}gu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):er(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},vu.prototype.zb=function(e){return this.h=e,this},vu.prototype.toString=function(){if(this.v){var e=Hn(this.v.url);e=Wn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Wn("https",this.u,null,"/__/auth/handler");if(Vn(e,"apiKey",this.s),Vn(e,"appName",this.c),Vn(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.a.app(this.c).auth().la()}catch(u){r=null}for(var o in n.pb=r,Vn(e,"providerId",this.a.providerId),n=Vr((r=this.a).Jb))n[o]=n[o].toString();o=r.Qc,n=ve(n);for(var i=0;i<o.length;i++){var s=o[i];s in n&&delete n[s]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ge(n)||Vn(e,"customParameters",Gr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Vn(e,"scopes",r.join(","))),this.l?Vn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?Vn(e,"eventId",this.g):er(e.b,"eventId"),this.i?Vn(e,"v",this.i):er(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(e,a)&&Vn(e,a,this.b[a]);return this.h?Vn(e,"tid",this.h):er(e.b,"tid"),this.f?Vn(e,"eid",this.f):er(e.b,"eid"),(a=yu(this.c)).length&&Vn(e,"fw",a.join(",")),e.toString()},(n=mu.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),o=new T("web-storage-unsupported"),i=this,s=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Cu(e).then((function(){return function(e,t){return e.sb.then((function(){return new Et((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(i).then((function(n){n||(e&&vr(e),t(o),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(e){return new Et((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return An(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Ir();return!kr(e)&&!Wr(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,o,i,s,a){if(!e)return Dt(new T("popup-blocked"));if(s&&!kr())return this.ma().o((function(t){vr(e),o(t)})),r(),Pt();this.a||(this.a=wu(bu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),o(t),t}));return r(),t})).then((function(){(Wi(n),s)||dr(Eu(u.s,u.g,u.b,t,n,null,i,u.c,void 0,u.i,a,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=wu(bu(this)));var o=this;return this.a.then((function(){Wi(t),dr(Eu(o.s,o.g,o.b,e,t,hr(),n,o.c,void 0,o.i,r,o.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e}))},n.ma=function(){var e=this;return Cu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){X(this.h,(function(t){return t==e}))},(n=Su.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&jr(e)}))},n.set=function(e,t){return Pt(this.a.setItem(e,Gr(t)))},n.U=function(e){return Pt(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var _u,Ru=[];function Tu(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Au(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function Du(e,t,n,r){var o,i,s,a,u=n||{},l=null;if(e.b)return Dt(Error("connection_unavailable"));var c=r?800:50,p="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et((function(n,r){p?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),p.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:p,onMessage:i=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},e.a.push(l),p.port1.addEventListener("message",i),e.c.postMessage({eventType:t,eventId:o,data:u},[p.port2])):r(Error("connection_unavailable"))})).then((function(t){return Iu(e,l),t})).o((function(t){throw Iu(e,l),t}))}function Iu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Nu(){if(!Mu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Sr()&&self?(this.v=function(){var e=Sr()?self:null;if(z(Ru,(function(n){n.b==e&&(t=n)})),!t){var t=new Ou(e);Ru.push(t)}return t}(),Tu(this.v,"keyChanged",(function(t,n){return Hu(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Tu(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Au(t)),Du(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Lu(e){return new Et((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Lu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function xu(e){return e.i||(e.i=Lu(e)),e.i}function Fu(e,t){var n=0;return new Et((function r(o,i){xu(e).then(t).then(o).o((function(t){if(!(3<++n))return xu(e).then((function(t){return t.close(),e.i=void 0,r(o,i)})).o((function(e){i(e)}));i(t)}))}))}function Mu(){try{return!!u.indexedDB}catch(hs){return!1}}function ku(e){return e.objectStore("firebaseLocalStorage")}function Gu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new Et((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function ju(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Du(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function Hu(e){return xu(e).then((function(e){var t=ku(Gu(e,!1));return t.getAll?Vu(t.getAll()):new Et((function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=fr(e.c,n),e.c=n}return r}))}function Wu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Mu()){var e=Hr(),r="__sak"+e;return _u||(_u=new Nu),(n=_u).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Uu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var e="Node"==Or();if(!(e=qu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Or())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=qu()||t.a.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=u.localStorage,t=Hr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ku(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Or();if(!(e=Qu()||e&&t.a.INTERNAL.node&&t.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Or())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Qu()||t.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var e=u.sessionStorage,t=Hr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){var e={};e.Browser=Zu,e.Node=el,e.ReactNative=tl,e.Worker=nl,this.a=e[Or()]}Ou.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];z(r,(function(t){o.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Nt(o).then((function(r){var o=[];z(r,(function(e){o.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(o,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})}))}},Au.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(n=Nu.prototype).set=function(e,t){var n=this,r=!1;return Fu(this,(function(t){return Vu((t=ku(Gu(t,!0))).get(e))})).then((function(o){return Fu(n,(function(i){if(i=ku(Gu(i,!0)),o)return o.value=t,Vu(i.put(o));n.b++,r=!0;var s={};return s.fbase_key=e,s.value=t,Vu(i.add(s))}))})).then((function(){return n.c[e]=t,ju(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return Fu(this,(function(t){return Vu(ku(Gu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return Fu(this,(function(r){return n=!0,t.b++,Vu(ku(Gu(r,!0)).delete(e))})).then((function(){return delete t.c[e],ju(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Hu(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Wu(e),t()}(this),this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Wu(this)},(n=Bu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e}))},(n=Uu.prototype).get=function(e){return Pt(this.a[e])},n.set=function(e,t){return this.a[e]=t,Pt()},n.U=function(e){return delete this.a[e],Pt()},n.ca=function(){},n.ia=function(){},(n=zu.prototype).get=function(e){var t=this;return Pt().then((function(){return jr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Pt().then((function(){var r=Gr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&pn(u.window,"storage",e)},n.ia=function(e){u.window&&fn(u.window,"storage",e)},(n=Ku.prototype).get=function(){return Pt(null)},n.set=function(){return Pt()},n.U=function(){return Pt()},n.ca=function(){},n.ia=function(){},(n=Yu.prototype).get=function(e){var t=this;return Pt().then((function(){return jr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Pt().then((function(){var r=Gr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Xu,Ju,Zu={F:zu,cb:Yu},el={F:zu,cb:Yu},tl={F:Su,cb:Ku},nl={F:zu,cb:Ku},rl={rd:"local",NONE:"none",td:"session"};function ol(){var e=!(Wr(Ir())||!Er()),t=kr(),n=Lr();this.m=e,this.h=t,this.l=n,this.a={},Xu||(Xu=new $u),e=Xu;try{this.g=!pr()&&Kr()||!u.indexedDB?new e.a.F:new Bu(Sr()?new Uu:new e.a.F)}catch(r){this.g=new Uu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Uu}this.v=new Uu,this.f=E(this.Zb,this),this.b={}}function il(){return Ju||(Ju=new ol),Ju}function sl(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function al(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ul(e,t,n){return n=al(t,n),"local"==t.F&&(e.b[n]=null),sl(e,t.F).U(n)}function ll(e){e.c&&(clearInterval(e.c),e.c=null)}function cl(e){this.a=e,this.b=il()}(n=ol.prototype).get=function(e,t){return sl(this,e.F).get(al(e,t))},n.set=function(e,t,n){var r=al(e,n),o=this,i=sl(this,e.F);return i.set(r,t).then((function(){return i.get(r)})).then((function(t){"local"==e.F&&(o.b[r]=t)}))},n.addListener=function(e,t,n){e=al(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ge(this.a)&&(sl(this,"local").ca(this.f),this.h||(pr()||!Kr())&&u.indexedDB||!this.l||function(e){ll(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=al(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(sl(this,"local").ia(this.f),ll(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=u.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?sl(this,"local").ia(this.f):ll(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var i=this;n=function(){"undefined"===typeof e.a.a&&i.b[t]===u.localStorage.getItem(t)||(i.b[t]=u.localStorage.getItem(t),i.nb(t))},Qe&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,E(this.nb,this))},n.nb=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var pl,hl={name:"authEvent",F:"local"};function dl(){this.a=il()}function fl(e,t){this.b=gl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===pl&&(pl=u.Int32Array?new Int32Array(El):El),this.reset()}_(fl,(function(){this.b=-1}));for(var gl=64,vl=gl-1,yl=[],ml=0;ml<vl;ml++)yl[ml]=0;var wl=J(128,yl);function Cl(e){for(var t=e.f,n=e.l,r=0,o=0;o<t.length;)n[r++]=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3],o=4*r;for(t=16;64>t;t++){o=0|n[t-15],r=0|n[t-2];var i=(0|n[t-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,s=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=i+s|0}r=0|e.a[0],o=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],p=0|e.a[6];for(i=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0;s=(i=i+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&p)+(0|pl[t])|0)+(0|n[t])|0)|0,i=p,p=c,c=l,l=u+s|0,u=a,a=o,o=r,r=s+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+o|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+p|0,e.a[7]=e.a[7]+i|0}function bl(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if("string"===typeof t)for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(Cl(e),o=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var i=t[r++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");e.f[o++]=i,o==e.b&&(Cl(e),o=0)}}e.c=o,e.g+=n}fl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var El=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sl(){fl.call(this,8,Ol)}_(Sl,fl);var Ol=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _l(e,t,n,r,o,i){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=o||null,this.s=i,this.h=t+":"+n,this.C=new dl,this.g=new cl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rl(e){return new T("invalid-cordova-configuration",e)}function Tl(e){var t=new Sl;bl(t,e),e=[];var n=8*t.g;56>t.c?bl(t,wl,56-t.c):bl(t,wl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Cl(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Al(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Pl(e){return e.f||(e.f=e.ma().then((function(){return new Et((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,o&&o.cancel(),Dl(e).then((function(r){var o=n;if(r&&t&&t.url){var i=null;-1!=(o=ui(t.url)).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=jr(jn(i=Hn(o),"firebaseError")||null))?A(i):null)?new Bi(r.c,r.b,null,null,i,null,r.T()):new Bi(r.c,r.b,o,r.f,null,null,r.T())),o=i||n}Al(e,o)}))}var n=new Bi("unknown",null,null,null,new T("no-auth-event")),r=!1,o=An(500).then((function(){return Dl(e).then((function(){r||Al(e,n)}))})),i=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof i)try{i(e)}catch(n){console.error(n)}},Ki||(Ki=new zi),function(e){var t=Ki;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Nr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Dl(e){var t=null;return function(e){return e.b.get(hl,e.a).then((function(e){return Ui(e)}))}(e.g).then((function(n){return t=n,ul((n=e.g).b,hl,n.a)})).then((function(){return t}))}function Il(e){this.a=e,this.b=il()}(n=_l.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?Cr().then((function(){return new Et((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Dt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Nr("universalLinks.subscribe",u))throw Rl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Nr("BuildInfo.packageName",u))throw Rl("cordova-plugin-buildinfo is not installed");if("function"!==typeof Nr("cordova.plugins.browsertab.openUrl",u))throw Rl("cordova-plugin-browsertab is not installed");if("function"!==typeof Nr("cordova.InAppBrowser.open",u))throw Rl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},n.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),Pt()},n.Nb=function(){return Dt(new T("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return Dt(new T("redirect-operation-pending"));var o=this,i=u.document,s=null,a=null,l=null,c=null;return this.c=Pt().then((function(){return Wi(t),Pl(o)})).then((function(){return function(e,t,n,r,o){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Bi(t,r,null,i,new T("no-auth-event"),null,o),a=Nr("BuildInfo.packageName",u);if("string"!==typeof a)throw new T("invalid-cordova-configuration");var l=Nr("BuildInfo.displayName",u),c={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Ir().toLowerCase().match(/android/))return Dt(new T("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),i=Tl(i),c.sessionId=i;var p=Eu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,o,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(hl,s.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Nr("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(p)}else{if("function"!==typeof(n=Nr("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");t=Ir(),e.a=n(p,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,e,t,n,r)})).then((function(){return new Et((function(e,t){a=function(){var t=Nr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(a),l=function(){s||(s=An(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},c=function(){zr()&&l()},i.addEventListener("resume",l,!1),Ir().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)})).o((function(e){return Dl(o).then((function(){throw e}))}))})).oa((function(){l&&i.removeEventListener("resume",l,!1),c&&i.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&o.Ta(a),o.c=null}))},n.Ea=function(e){this.b.push(e),Pl(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bi("unknown",null,null,null,new T("no-auth-event")),e(t))}))},n.Ta=function(e){X(this.b,(function(t){return t==e}))};var Nl={name:"pendingRedirect",F:"session"};function Ll(e){return ul(e.b,Nl,e.a)}function xl(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Ql,this.C=new ec,this.g=new Il(Kl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Fl(this.D,this.v,this.m,P,this.J)}function Fl(e,n,r,o,i){var s=t.a.SDK_VERSION||null;return br()?new _l(e,n,r,s,o,i):new mu(e,n,r,s,o,i)}function Ml(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function kl(e){e.a.Yb()&&Ml(e).o((function(t){var n=new Bi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)})),e.a.Ub()||$l(e.b)}function Gl(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Nl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Ll(e.g).then((function(){Ml(e).o((function(t){var n=new Bi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Bl(t)&&e.s(n)}))})):kl(e)})).o((function(){kl(e)}))}function Vl(e,t){X(e.h,(function(e){return e==t}))}xl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Fl(this.D,this.v,this.m,null,this.J),this.i={}},xl.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return $l(this.b),t};var jl=new Ur(2e3,1e4),Hl=new Ur(3e4,6e4);function Wl(e,t,n,r,o,i,s){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),o,i,s)}function Bl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ul(e,t,n,r,o){var i;return function(e){return e.b.set(Nl,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,o).o((function(t){if(Bl(t))throw new T("operation-not-supported-in-this-environment");return i=t,Ll(e.g).then((function(){throw i}))})).then((function(){return e.a.ac()?new Et((function(){})):Ll(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function zl(e,t,n,r,o){return e.a.Pb(r,(function(e){t.na(n,null,e,o)}),jl.get())}xl.prototype.ra=function(){return this.b.ra()};var ql={};function Kl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yl(e,t,n,r){var o=Kl(t,n,r);return ql[o]||(ql[o]=new xl(e,t,n,r)),ql[o]}function Ql(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $l(e){e.g||(e.g=!0,Zl(e,!1,null,null))}function Xl(e){e.g&&!e.i&&Zl(e,!1,null,null)}function Jl(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Dt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jl(e,n):Jl(e,{user:null}),e.f=[],e.c=[]}function ec(){}function tc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nc(e,t){this.a=t,Jr(this,"verificationId",e)}function rc(e,t,n,r){return new Vi(e).gb(t,n).then((function(e){return new nc(e,r)}))}function oc(e){var t=Yo(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:qr(1e3*t.exp),authTime:qr(1e3*t.auth_time),issuedAtTime:qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ic(e,t,n){var r=t&&t[ac];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new li(null,r),this.b=[];var o=this;z(t[sc]||[],(function(e){(e=ro(e))&&o.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Ql.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ql.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,i=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?e.a?(Zl(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,o=t.f,i=t.i,s=t.T(),a=!!t.c.match(/Redirect$/);n(r,o,s,i).then((function(t){Zl(e,a,t,null)})).o((function(t){Zl(e,a,null,t)}))}(this,e,t):Dt(new T("invalid-auth-event")):(Zl(this,!1,null,null),Pt())}else Dt(new T("invalid-auth-event"))},Ql.prototype.ra=function(){var e=this;return new Et((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=An(Hl.get()).then((function(){e.b||(e.g=!0,Zl(e,!0,null,t))}))}(e))}))},ec.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Dt(new T("invalid-auth-event"))}else Dt(new T("invalid-auth-event"))},nc.prototype.confirm=function(e){return e=ji(this.verificationId,e),this.a(e)};var sc="mfaInfo",ac="mfaPendingCredential";function uc(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new ic(e,t,n),Jr(this,"resolver",this.b)}function lc(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new uc(t,e.serverResponse,n,e.message)}catch(r){}return null}function cc(){}function pc(e){Jr(this,"factorId",e.fa),this.a=e}function hc(e){if(pc.call(this,e),this.a.fa!=Vi.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dc(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function fc(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),pn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[so]=e.uid),e.displayName&&(r[oo]=e.displayName),e.enrollmentTime&&(r[io]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ao]=e.phoneNumber);try{t=new uo(r)}catch(o){}e=t}else e=null;e&&n.push(e)})),gc(this,n)}function gc(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function vc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function yc(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return zr()||!e?Pt():new Et((function(n){t=function(){zr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){yc(e,!0)})).o((function(t){e.i(t)&&yc(e,!1)}))}function mc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wc(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Cc(e,t){e.b=Ko(t[na]||""),e.a=t.refreshToken,wc(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function bc(e,t){return function(e,t){return new Et((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?pa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(lu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ko(t.access_token),e.a=t.refresh_token,wc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Ec(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:qr(t||null),creationTime:qr(e||null)})}function Sc(e,t,n,r,o,i){Zr(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:t})}function Oc(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var o=t.a.SDK_VERSION?Dr(t.a.SDK_VERSION):null;this.a=new ea(this.l,L(P),o),(this.u=e.emulatorConfig||null)&&ua(this.a,this.u),this.h=new mc(this.a),Lc(this,n[na]),Cc(this.h,n),Jr(this,"refreshToken",this.h.a),Mc(this,r||{}),Sn.call(this),this.P=!1,this.s&&xr()&&(this.b=Yl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new vc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=E(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){_c(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ac(i,e.f)},this.ja=null,this.S=new fc(this,r),Jr(this,"multiFactor",this.S)}function _c(e,t){e.u=t,ua(e.a,t),e.b&&(t=e.b,e.b=Yl(e.s,e.l,e.m,e.u),e.P&&(Vl(t,e),Gl(e.b,e)))}function Rc(e,t){e.qa&&fn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&pn(t,"languageCodeChanged",e.Pa)}function Tc(e,t){e.$&&fn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&pn(t,"emulatorConfigChanged",e.Ba)}function Ac(e,n){e.aa=n,ca(e.a,t.a.SDK_VERSION?Dr(t.a.SDK_VERSION,e.aa):null)}function Pc(e,t){e.ja&&fn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&pn(t,"frameworkChanged",e.Oa)}function Dc(e){try{return t.a.app(e.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ic(e){e.J||e.D.b||(e.D.start(),fn(e,"tokenChanged",e.ba),pn(e,"tokenChanged",e.ba))}function Nc(e){fn(e,"tokenChanged",e.ba),e.D.stop()}function Lc(e,t){e.Aa=t,Jr(e,"_lat",t)}function xc(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Nt(t).then((function(){return e}))}function Fc(e){e.b&&!e.P&&(e.P=!0,Gl(e.b,e))}function Mc(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Ec(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function kc(){}function Gc(e){return Pt().then((function(){if(e.J)throw new T("app-deleted")}))}function Vc(e){return K(e.providerData,(function(e){return e.providerId}))}function jc(e,t){t&&(Hc(e,t.providerId),e.providerData.push(t))}function Hc(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Wc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Bc(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new Ec(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new Ec),z(t.providerData,(function(t){jc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),gc(e.S,t.S.b))}function Uc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return au(e.a,Ga,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Wc(e,"isAnonymous",!1),t}))}))}function zc(e,t){t[na]&&e.Aa!=t[na]&&(Cc(e.h,t),e.dispatchEvent(new dc("tokenChanged")),Lc(e,t[na]),Wc(e,"refreshToken",e.h.a))}function qc(e,t){return Uc(e).then((function(){if(Q(Vc(e),t))return xc(e).then((function(){throw new T("provider-already-linked")}))}))}function Kc(e,t,n){return eo({user:e,credential:Hi(t),additionalUserInfo:t=Zo(t),operationType:n})}function Yc(e,t){return zc(e,t),e.reload().then((function(){return e}))}function Qc(e,n,r,o,i){if(!xr())return Dt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Dt(e.i);var s=Jo(r.providerId),a=Hr(e.uid+":::"),u=null;(!kr()||Er())&&e.s&&r.isOAuthProvider&&(u=Eu(e.s,e.l,e.m,n,r,null,a,t.a.SDK_VERSION||null,null,null,e.tenantId,e.u));var l=yr(u,s&&s.va,s&&s.ua);return o=o().then((function(){if(Xc(e),!i)return e.I().then((function(){}))})).then((function(){return Wl(e.b,l,n,r,a,!!u,e.tenantId)})).then((function(){return new Et((function(t,r){e.na(n,null,new T("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=a,e.c=zl(e.b,e,n,l,a)}))})).then((function(e){return l&&vr(l),e?eo(e):null})).o((function(e){throw l&&vr(l),e})),Jc(e,o,i)}function $c(e,t,n,r,o){if(!xr())return Dt(new T("operation-not-supported-in-this-environment"));if(e.i&&!o)return Dt(e.i);var i=null,s=Hr(e.uid+":::");return r=r().then((function(){if(Xc(e),!o)return e.I().then((function(){}))})).then((function(){return e.ga=s,xc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(tp,e.w(),t.a)),t})).then((function(){return Ul(e.b,t,n,s,e.tenantId)})).o((function(t){if(i=t,e.ha)return np(e.ha);throw i})).then((function(){if(i)throw i})),Jc(e,r,o)}function Xc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Jc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Dt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new dc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),Dc(e),E(e.jc,e))),n||t}))}function Zc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[na]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var o=new Oc(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&jc(o,eo(e))})),e.redirectEventId&&(o.ga=e.redirectEventId),o}function ep(e){this.a=e,this.b=il()}ic.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[sc],delete n[ac],me(n,e),t.g(n)}))},_(uc,T),cc.prototype.tb=function(e,t,n){return t.type==ci?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Gi(e.a)}),au(t,Ma,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Gi(e.a)}),au(t,ka,n)}))}(this,e,t)},_(pc,cc),_(hc,pc),_(dc,Jt),(n=fc.prototype).yc=function(e){gc(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=ro(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new li(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return zc(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return au(r,su,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=q(t.b,(function(e){return e.uid!=n}));return gc(t,r),zc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},vc.prototype.start=function(){this.a=this.c,yc(this,!0)},vc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},mc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},mc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Dt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?bc(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},Ec.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(Oc,Sn),Oc.prototype.xa=function(e){this.za=e,aa(this.a,e)},Oc.prototype.la=function(){return this.za},Oc.prototype.Ga=function(){return Z(this.aa)},Oc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(Oc.prototype,"providerId","firebase"),(n=Oc.prototype).reload=function(){var e=this;return Jc(this,Gc(this).then((function(){return Uc(e).then((function(){return xc(e)})).then(kc)})))},n.oc=function(e){return this.I(e).then((function(e){return new oc(e)}))},n.I=function(e){var t=this;return Jc(this,Gc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Lc(t,e.accessToken),t.dispatchEvent(new dc("tokenChanged"))),Wc(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Mc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new Sc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)jc(this,t[n]);Wc(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dc("userReloaded",{hd:e}))},n.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Jc(this,e.c(this.a,this.uid).then((function(e){return zc(t,e),n=Kc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Jc(this,qc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Kc(t,e,"link"),Yc(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Jc(this,qc(this,"phone").then((function(){return rc(Dc(n),e,t,E(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Jc(this,Pt().then((function(){return rc(Dc(n),e,t,E(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return zc(t,e),t.reload()})))},n.ed=function(e){var t=this;return Jc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return zc(t,e),t.reload()})))},n.Db=function(e){var t=this;return Jc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return zc(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Gc(this);var t=this;return Jc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return zc(t,e),Wc(t,"displayName",e.displayName||null),Wc(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),xc(t)})).then(kc))},n.cd=function(e){var t=this;return Jc(this,Uc(this).then((function(n){return Q(Vc(t),e)?function(e,t,n){return au(e,La,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(Vc(t),(function(e){n[e]||Hc(t,e)})),n[Vi.PROVIDER_ID]||Jr(t,"phoneNumber",null),xc(t)})):xc(t).then((function(){throw new T("no-such-provider")}))})))},n.delete=function(){var e=this;return Jc(this,this.I().then((function(t){return au(e.a,Na,{idToken:t})})).then((function(){e.dispatchEvent(new dc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Rc(e,null),Tc(e,null),Pc(e,null),e.N=[],e.J=!0,Nc(e),Jr(e,"refreshToken",null),e.b&&Vl(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},n.Ec=function(e){var t=this;return Qc(this,"linkViaPopup",e,(function(){return qc(t,e.providerId).then((function(){return xc(t)}))}),!1)},n.Nc=function(e){return Qc(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},n.Fc=function(e){var t=this;return $c(this,"linkViaRedirect",e,(function(){return qc(t,e.providerId)}),!1)},n.Oc=function(e){return $c(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},n.Lb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Jc(this,this.I().then((function(n){return _a(o.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return i=Kc(o,e,"link"),Yc(o,e)})).then((function(){return i})))},n.Mb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Jc(this,Pt().then((function(){return di(Ra(o.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),o.uid)})).then((function(e){return i=Kc(o,e,"reauthenticate"),zc(o,e),o.i=null,o.reload()})).then((function(){return i})),!0)},n.vb=function(e){var t=this,n=null;return Jc(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ge(e)?{}:Bo(new Lo(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Jc(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ge(t)?{}:Bo(new Lo(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Jc(this,e=di(Pt(e),n.uid).then((function(e){return t=Kc(n,e,"reauthenticate"),zc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var tp={name:"redirectUser",F:"session"};function np(e){return ul(e.b,tp,e.a)}function rp(e){this.a=e,this.b=il(),this.c=null,this.f=function(e){var t=sp("local"),n=sp("session"),r=sp("none");return function(e,t,n){var r=al(t,n),o=sl(e,t.F);return e.get(t,n).then((function(i){var s=null;try{s=jr(u.localStorage.getItem(r))}catch(a){}if(s&&!i)return u.localStorage.removeItem(r),e.set(t,s,n);s&&i&&"localStorage"!=o.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(o){return o?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ip,e.a).then((function(e){return e?sp(e):t}))}))}))})).then((function(t){return e.c=t,op(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sp("local"),this.a,E(this.g,this))}function op(e,t){var n,r=[];for(n in rl)rl[n]!==t&&r.push(ul(e.b,sp(rl[n]),e.a));return r.push(ul(e.b,ip,e.a)),function(e){return new Et((function(t,n){var r=e.length,o=[];if(r)for(var i=function(e,n){r--,o[e]=n,0==r&&t(o)},s=function(e){n(e)},a=0;a<e.length;a++)It(e[a],S(i,a),s);else t(o)}))}(r)}rp.prototype.g=function(){var e=this,t=sp("local");cp(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return op(e,"local").then((function(){e.c=t}))}))}))};var ip={name:"persistence",F:"session"};function sp(e){return{name:"authUser",F:e}}function ap(e,t){return cp(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function up(e){return cp(e,(function(){return ul(e.b,e.c,e.a)}))}function lp(e,t,n){return cp(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Zc(e||{})}))}))}function cp(e,t){return e.f=e.f.then(t,t),e.f}function pp(e){if(this.l=!1,Jr(this,"settings",new tc),Jr(this,"app",e),!Cp(this).options||!Cp(this).options.apiKey)throw new T("invalid-api-key");e=t.a.SDK_VERSION?Dr(t.a.SDK_VERSION):null,this.a=new ea(Cp(this).options&&Cp(this).options.apiKey,L(P),e),this.P=[],this.s=[],this.N=[],this.Pa=t.a.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=t.a.INTERNAL.createSubscribe(E(this.Ac,this)),mp(this,null),this.i=new rp(Cp(this).options.apiKey+":"+Cp(this).name),this.D=new ep(Cp(this).options.apiKey+":"+Cp(this).name),this.$=Op(this,function(e){var t=Cp(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(tp,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zc(e||{})}))}(e.D,Cp(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),np(e.D)}));return Op(e,t)}(e).then((function(){return lp(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return ap(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:up(e.i)}))):null})).then((function(t){mp(e,t||null)}));return Op(e,n)}(this)),this.h=Op(this,function(e){return e.$.then((function(){return vp(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sp("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=Cp(e).options.authDomain,n=Cp(e).options.apiKey;t&&xr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Yl(t,n,Cp(e).name,e.R),Gl(e.b,e),bp(e)&&Fc(bp(e)),e.m){Fc(e.m);var r=e.m;r.xa(e.la()),Rc(r,e),Ac(r=e.m,e.J),Pc(r,e),_c(r=e.m,e.R),Tc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Hn(this.R.url);e=eo({protocol:e.c,host:e.a,port:e.g,options:eo({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function hp(e){Jt.call(this,"languageCodeChanged"),this.h=e}function dp(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function fp(e){Jt.call(this,"frameworkChanged"),this.f=e}function gp(e){return e.Oa||Dt(new T("auth-domain-config-required"))}function vp(e){if(!xr())return Dt(new T("operation-not-supported-in-this-environment"));var t=gp(e).then((function(){return e.b.ra()})).then((function(e){return e?eo(e):null}));return Op(e,t)}function yp(e,t){var n={};return n.apiKey=Cp(e).options.apiKey,n.authDomain=Cp(e).options.authDomain,n.appName=Cp(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var o=new Oc(e,t);return n&&(o.ha=n),r&&Ac(o,r),o.reload().then((function(){return o}))}(n,t,e.D,e.Ga())})).then((function(t){return bp(e)&&t.uid==bp(e).uid?(Bc(bp(e),t),e.da(t)):(mp(e,t),Fc(t),e.da(t))})).then((function(){Sp(e)}))}function mp(e,t){bp(e)&&(function(e,t){X(e.W,(function(e){return e==t}))}(bp(e),e.Ba),fn(bp(e),"tokenChanged",e.qa),fn(bp(e),"userDeleted",e.za),fn(bp(e),"userInvalidated",e.Aa),Nc(bp(e))),t&&(t.W.push(e.Ba),pn(t,"tokenChanged",e.qa),pn(t,"userDeleted",e.za),pn(t,"userInvalidated",e.Aa),0<e.u&&Ic(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),Rc(t,e),Ac(t,e.J),Pc(t,e),_c(t,e.R),Tc(t,e))}function wp(e,t){var n=null,r=null;return Op(e,t.then((function(t){return n=Hi(t),r=Zo(t),yp(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=lc(t.w(),e,E(e.kc,e))),n||t})).then((function(){return eo({user:bp(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Cp(e){return e.app}function bp(e){return e.currentUser}function Ep(e){return bp(e)&&bp(e)._lat||null}function Sp(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Ep(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Ep(e))}}function Op(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function _p(){}function Rp(){this.a={},this.b=1e12}rp.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in rl)if(rl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Or()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Mu()&&"none"!==e)throw n;break;default:if(!Lr()&&"none"!==e)throw n}}(e),cp(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,op(n,e)})).then((function(){if(n.c=sp(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},_(pp,Sn),_(hp,Jt),_(dp,Jt),_(fp,Jt),(n=pp.prototype).yb=function(e){return Op(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,aa(this.a,this.aa),this.dispatchEvent(new hp(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&Cr().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ua(this.a,this.R),this.dispatchEvent(new dp(this.R))}},n.Gc=function(e){this.J.push(e),ca(this.a,t.a.SDK_VERSION?Dr(t.a.SDK_VERSION,this.J):null),this.dispatchEvent(new fp(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:Cp(this).options.apiKey,authDomain:Cp(this).options.authDomain,appName:Cp(this).name,currentUser:bp(this)&&bp(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},n.ic=function(e,t,n,r){var o=this,i={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.$.then((function(){return wp(o,Oa(o.a,i))}))},n.Xc=function(e){if(!xr())return Dt(new T("operation-not-supported-in-this-environment"));var n=this,r=Jo(e.providerId),o=Hr(),i=null;(!kr()||Er())&&Cp(this).options.authDomain&&e.isOAuthProvider&&(i=Eu(Cp(this).options.authDomain,Cp(this).options.apiKey,Cp(this).name,"signInViaPopup",e,null,o,t.a.SDK_VERSION||null,null,null,this.T(),this.R));var s=yr(i,r&&r.va,r&&r.ua);return Op(this,r=gp(this).then((function(t){return Wl(t,s,"signInViaPopup",e,o,!!i,n.T())})).then((function(){return new Et((function(e,t){n.na("signInViaPopup",null,new T("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=o,n.c=zl(n.b,n,"signInViaPopup",s,o)}))})).then((function(e){return s&&vr(s),e?eo(e):null})).o((function(e){throw s&&vr(s),e})))},n.Yc=function(e){if(!xr())return Dt(new T("operation-not-supported-in-this-environment"));var t=this;return Op(this,gp(this).then((function(){return function(e){return cp(e,(function(){return e.b.set(ip,e.c.F,e.a)}))}(t.i)})).then((function(){return Ul(t.b,"signInViaRedirect",e,void 0,t.T())})))},n.ra=function(){var e=this;return vp(this).then((function(t){return e.b&&Xl(e.b.b),t})).o((function(t){throw e.b&&Xl(e.b.b),t}))},n.dd=function(e){if(!e)return Dt(new T("null-user"));if(this.S!=e.tenantId)return Dt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=Cp(this).options.apiKey,n.authDomain=Cp(this).options.authDomain,n.appName=Cp(this).name;var r=function(e,t,n,r){var o=e.h,i={};return i[na]=o.b&&o.b.toString(),i.refreshToken=o.a,t=new Oc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},i),n&&(t.ha=n),r&&Ac(t,r),Bc(t,e),t}(e,n,t.D,t.Ga());return Op(this,this.h.then((function(){if(Cp(t).options.apiKey!=e.l)return r.reload()})).then((function(){return bp(t)&&e.uid==bp(t).uid?(Bc(bp(t),e),t.da(e)):(mp(t,r),Fc(r),t.da(r))})).then((function(){Sp(t)})))},n.Bb=function(){var e=this;return Op(this,this.h.then((function(){return e.b&&Xl(e.b.b),bp(e)?(mp(e,null),up(e.i).then((function(){Sp(e)}))):Pt()})))},n.Zc=function(){var e=this;return lp(this.i,Cp(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=bp(e)&&t){n=bp(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Bc(bp(e),t),bp(e).I();(bp(e)||t)&&(mp(e,t),t&&(Fc(t),t.ha=e.D),e.b&&Gl(e.b,e),Sp(e))}}))},n.da=function(e){return ap(this.i,e)},n.mc=function(){Sp(this),this.da(bp(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return wp(t,Pt(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(bp(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Op(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Ep(e)))})))}(this,(function(){e.next(bp(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(bp(r)):"function"===typeof e.next&&e.next(bp(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(bp(r)):"function"===typeof e.next&&e.next(bp(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return Op(this,this.h.then((function(){return bp(t)?bp(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return wp(t,au(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return Wc(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return wp(n,au(n.a,nu,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return wp(n,au(n.a,Da,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return wp(t,e.ka(t.a))}))},n.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=bp(e);if(t&&t.isAnonymous){var n=eo({providerId:null,isNewUser:!1});return eo({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wp(e,e.a.Ab()).then((function(t){var n=t.user;return Wc(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return bp(this)&&bp(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&bp(this)&&Ic(bp(this))},n.Pc=function(e){var t=this;z(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&bp(this)&&Nc(bp(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),Op(this,this.h.then((function(){t.l||Q(t.s,e)&&e(Ep(t))})))},n.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(sp("local"),e.a,this.ja),this.b&&(Vl(this.b,this),Xl(this.b.b)),Promise.resolve()},n.hc=function(e){return Op(this,function(e,t){return au(e,Ia,{identifier:t,continueUri:Fr()?hr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!Fi(e)},n.xb=function(e,t){var n=this;return Op(this,Pt().then((function(){var e=new Lo(t);if(!e.c)throw new T("argument-error",Mo+" must be true when sending sign in link to email");return Bo(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return Op(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return Op(this,this.a.Sa(e).then((function(e){return new lo(e)})))},n.kb=function(e){return Op(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return Op(this,Pt().then((function(){return"undefined"===typeof t||ge(t)?{}:Bo(new Lo(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return Op(this,rc(this,e,t,E(this.ab,this)))},n.Vc=function(e,t){var n=this;return Op(this,Pt().then((function(){var r=t||hr(),o=xi(e,r);if(!(r=Fi(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(o)})))},_p.prototype.render=function(){},_p.prototype.reset=function(){},_p.prototype.getResponse=function(){},_p.prototype.execute=function(){};var Tp=null;function Ap(e,t){return(t=Pp(t))&&e.a[t]||null}function Pp(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Dp(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():pn(this.f,"click",this.i)}function Ip(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Np(){}function Lp(){}Rp.prototype.render=function(e,t){return this.a[this.b.toString()]=new Dp(e,t),this.b++},Rp.prototype.reset=function(e){var t=Ap(this,e);e=Pp(e),t&&e&&(t.delete(),delete this.a[e])},Rp.prototype.getResponse=function(e){return(e=Ap(this,e))?e.getResponse():null},Rp.prototype.execute=function(e){(e=Ap(this,e))&&e.execute()},Dp.prototype.getResponse=function(){return Ip(this),this.b},Dp.prototype.execute=function(){Ip(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Dp.prototype.delete=function(){Ip(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Jr(Np,"FACTOR_ID","phone"),Lp.prototype.g=function(){return Tp||(Tp=new Rp),Pt(Tp)},Lp.prototype.c=function(){};var xp=null;function Fp(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Mp=new Ce(Oe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),kp=new Ur(3e4,6e4);Fp.prototype.g=function(e){var t=this;return new Et((function(n,r){var o=setTimeout((function(){r(new T("network-request-failed"))}),kp.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var i=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=i(e,n),t.b++,e},clearTimeout(o),n(u.grecaptcha)}else clearTimeout(o),r(new T("internal-error"));delete u[t.a]},Pt(Ks(Ae(Mp,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(o),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(u.grecaptcha))}))},Fp.prototype.c=function(){this.b--};var Gp=null;function Vp(e,t,n,r,o,i,s){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(xp||(xp=new Lp),s=xp):(Gp||(Gp=new Fp),s=Gp),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Wp])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bp],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ea(e,i||null,o||null),this.u=r||function(){return null};var a=this;this.l=[];var l=this.a[jp];this.a[jp]=function(e){if(Up(a,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=Nr(l,u);"function"===typeof t&&t(e)}};var c=this.a[Hp];this.a[Hp]=function(){if(Up(a,null),"function"===typeof c)c();else if("string"===typeof c){var e=Nr(c,u);"function"===typeof e&&e()}}}var jp="callback",Hp="expired-callback",Wp="sitekey",Bp="size";function Up(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function zp(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function qp(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kp(e,n,r){var o=!1;try{this.b=r||t.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=t.a.SDK_VERSION?Dr(t.a.SDK_VERSION,s):null,Vp.call(this,r,e,n,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),s,L(P),o)}function Yp(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,s=0;s<t.length;s++)if(t[s].optional)i=!0;else{if(i)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=t.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=t[o].optional&&void 0===n[o],!t[o].M(n[o])&&!i){if(t=t[o],0>o||o>=Qp.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Qp[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(n=Vp.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=zp(this,Pt().then((function(){if(Fr()&&!Sr())return Cr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,au(e.s,Ua,{})})).then((function(t){e.a[Wp]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){qp(this);var e=this;return zp(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,o=document,i=String(r[0]),s=r[1];if(!lt&&s&&(s.name||s.type)){if(i=["<",i],s.name&&i.push(' name="',ze(s.name),'"'),s.type){i.push(' type="',ze(s.type),'"');var a={};me(a,s),delete a.type,s=a}i.push(">"),i=i.join("")}return i=vt(o,i),s&&("string"===typeof s?i.className=s:Array.isArray(s)?i.className=s.join(" "):pt(i,s)),2<r.length&&gt(o,i,r),i}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){qp(this);var e=this;return zp(this,this.render().then((function(t){return new Et((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){qp(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){qp(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},_(Kp,Vp);var Qp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $p(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Xp(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Jp(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function Zp(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function eh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function th(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function nh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function rh(e){return v(e)&&"string"===typeof e.uid}function oh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ih(e,t){for(var n in t){var r=t[n].name;e[r]=uh(r,e[n],t[n].j)}}function sh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Yp(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ah(e,t,n,r){e[t]=uh(t,n,r)}function uh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Yp(i,n,e),t.apply(this,e)}if(!n)return t;var o,i=function(e){return(e=e.split("."))[e.length-1]}(e);for(o in t)r[o]=t[o];for(o in t.prototype)r.prototype[o]=t.prototype[o];return r}ih(pp.prototype,{kb:{name:"applyActionCode",j:[$p("code")]},Sa:{name:"checkActionCode",j:[$p("code")]},ob:{name:"confirmPasswordReset",j:[$p("code"),$p("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$p("email"),$p("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$p("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$p("emailLink")]},Hc:{name:"onAuthStateChanged",j:[oh(Jp(),Zp(),"nextOrObserver"),Zp("opt_error",!0),Zp("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[oh(Jp(),Zp(),"nextOrObserver"),Zp("opt_error",!0),Zp("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[$p("email"),oh(Jp("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[$p("email"),Jp("actionCodeSettings")]},yb:{name:"setPersistence",j:[$p("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[th()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[th()]},Tc:{name:"signInWithCustomToken",j:[$p("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$p("email"),$p("password")]},Vc:{name:"signInWithEmailLink",j:[$p("email"),$p("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$p("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[oh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Oc)}},eh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$p(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$p("url"),Jp("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$p("code")]}}),sh(pp.prototype,{lc:{name:"languageCode",lb:oh($p(),eh(),"languageCode")},ti:{name:"tenantId",lb:oh($p(),eh(),"tenantId")}}),pp.Persistence=rl,pp.Persistence.LOCAL="local",pp.Persistence.SESSION="session",pp.Persistence.NONE="none",ih(Oc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[th()]},rb:{name:"linkWithCredential",j:[th()]},Dc:{name:"linkWithPhoneNumber",j:[$p("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[th()]},ub:{name:"reauthenticateWithCredential",j:[th()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$p("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[oh(Jp("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$p(null,!0)]},cd:{name:"unlink",j:[$p("provider")]},Cb:{name:"updateEmail",j:[$p("email")]},Db:{name:"updatePassword",j:[$p("password")]},ed:{name:"updatePhoneNumber",j:[th("phone")]},Eb:{name:"updateProfile",j:[Jp("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[$p("email"),oh(Jp("opt_actionCodeSettings",!0),eh(null,!0),"opt_actionCodeSettings",!0)]}}),ih(Rp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ih(_p.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ih(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sh(tc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xp("appVerificationDisabledForTesting")}}),ih(nc.prototype,{confirm:{name:"confirm",j:[$p("verificationCode")]}}),ah(hi,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wi,Ni,ki,vi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[oh($p(),Jp(),"json")]),ah(Li,"credential",(function(e,t){return new Ii(e,t)}),[$p("email"),$p("password")]),ih(Ii.prototype,{w:{name:"toJSON",j:[$p(null,!0)]}}),ih(Si.prototype,{Ca:{name:"addScope",j:[$p("scope")]},Ka:{name:"setCustomParameters",j:[Jp("customOAuthParameters")]}}),ah(Si,"credential",Oi,[oh($p(),Jp(),"token")]),ah(Li,"credentialWithLink",xi,[$p("email"),$p("emailLink")]),ih(_i.prototype,{Ca:{name:"addScope",j:[$p("scope")]},Ka:{name:"setCustomParameters",j:[Jp("customOAuthParameters")]}}),ah(_i,"credential",Ri,[oh($p(),Jp(),"token")]),ih(Ti.prototype,{Ca:{name:"addScope",j:[$p("scope")]},Ka:{name:"setCustomParameters",j:[Jp("customOAuthParameters")]}}),ah(Ti,"credential",Ai,[oh($p(),oh(Jp(),eh()),"idToken"),oh($p(),eh(),"accessToken",!0)]),ih(Pi.prototype,{Ka:{name:"setCustomParameters",j:[Jp("customOAuthParameters")]}}),ah(Pi,"credential",Di,[oh($p(),Jp(),"token"),$p("secret",!0)]),ih(Ei.prototype,{Ca:{name:"addScope",j:[$p("scope")]},credential:{name:"credential",j:[oh($p(),oh(Jp(),eh()),"optionsOrIdToken"),oh($p(),eh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jp("customOAuthParameters")]}}),ih(yi.prototype,{w:{name:"toJSON",j:[$p(null,!0)]}}),ih(fi.prototype,{w:{name:"toJSON",j:[$p(null,!0)]}}),ah(Vi,"credential",ji,[$p("verificationId"),$p("verificationCode")]),ih(Vi.prototype,{gb:{name:"verifyPhoneNumber",j:[oh($p(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?nh(e.session,ci)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?nh(e.session,pi)&&rh(e.multiFactorHint):e.session&&e.multiFactorUid?nh(e.session,pi)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ih(Mi.prototype,{w:{name:"toJSON",j:[$p(null,!0)]}}),ih(T.prototype,{toJSON:{name:"toJSON",j:[$p(null,!0)]}}),ih(Qi.prototype,{toJSON:{name:"toJSON",j:[$p(null,!0)]}}),ih(Yi.prototype,{toJSON:{name:"toJSON",j:[$p(null,!0)]}}),ih(uc.prototype,{toJSON:{name:"toJSON",j:[$p(null,!0)]}}),ih(ic.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ih(fc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},$p("displayName",!0)]},bd:{name:"unenroll",j:[oh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rh},$p(),"multiFactorInfoIdentifier")]}}),ih(Kp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ah(Oo,"parseLink",No,[$p("link")]),ah(Np,"assertion",(function(e){return new hc(e)}),[th("phone")]),function(){if("undefined"===typeof t.a||!t.a.INTERNAL||!t.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:po,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:co,VERIFY_AND_CHANGE_EMAIL:ho,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pp,AuthCredential:hi,Error:T};ah(e,"EmailAuthProvider",Li,[]),ah(e,"FacebookAuthProvider",Si,[]),ah(e,"GithubAuthProvider",_i,[]),ah(e,"GoogleAuthProvider",Ti,[]),ah(e,"TwitterAuthProvider",Pi,[]),ah(e,"OAuthProvider",Ei,[$p("providerId")]),ah(e,"SAMLAuthProvider",bi,[$p("providerId")]),ah(e,"PhoneAuthProvider",Vi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pp)}}]),ah(e,"RecaptchaVerifier",Kp,[oh($p(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Jp("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.a.app.App)}}]),ah(e,"ActionCodeURL",Oo,[]),ah(e,"PhoneMultiFactorGenerator",Np,[]),t.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pp(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.a.registerVersion("@firebase/auth","0.16.8"),t.a.INTERNAL.extendNamespace({User:Oc})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(28))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,l=[],c=!1,p=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!c){var e=a(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n(32);var r=n(1),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:c,props:i,_owner:s.current}}t.jsx=l,t.jsxs=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),a=n(1),u=n(10),l=n(29),c=n(41),p=n(42),h=n(63),d=n(66),f=function(e){function t(t){var n=e.call(this,t)||this;return n.props=t,n.changeDetectionService=new p.ChangeDetectionService,n.api=null,n.portals=[],n.hasPendingPortalUpdate=!1,n.destroyed=!1,n.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],n}return r(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(t){e.eGridDiv=t}},this.portals)},t.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},t.prototype.componentDidMount=function(){var e=this.props.modules||[],t={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new v(this)},modules:e},n=this.props.gridOptions||{},r=this.props.children;c.AgGridColumn.hasChildColumns(r)&&(n.columnDefs=c.AgGridColumn.mapChildColumnDefs(r)),this.gridOptions=l.ComponentUtil.copyAttributesToGridOptions(n,this.props),new l.Grid(this.eGridDiv,this.gridOptions,t),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi},t.prototype.waitForInstance=function(e,n,r){var o=this;if(void 0===r&&(r=Date.now()),this.destroyed)n(null);else if(e.rendered())n(e);else{if(Date.now()-r>=this.props.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return e.isNullValue()?void n(e):void console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+t.MAX_COMPONENT_CREATION_TIME_IN_MS+"ms");window.setTimeout((function(){o.waitForInstance(e,n,r)}))}},t.prototype.mountReactPortal=function(e,t,n){this.portals=i(this.portals,[e]),this.waitForInstance(t,n),this.batchUpdate()},t.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},t.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout((function(){e.api&&e.forceUpdate((function(){e.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0)},t.prototype.destroyPortal=function(e){this.portals=this.portals.filter((function(t){return t!==e})),this.batchUpdate()},t.prototype.getStrategyTypeForProp=function(e){if("rowData"===e){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return p.ChangeDetectionStrategyType.IdentityCheck}return p.ChangeDetectionStrategyType.DeepValueCheck},t.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)},t.prototype.shouldComponentUpdate=function(e){return this.processPropsChanges(this.props,e),!1},t.prototype.componentDidUpdate=function(e){this.processPropsChanges(e,this.props)},t.prototype.processPropsChanges=function(e,t){var n={};this.extractGridPropertyChanges(e,t,n),this.extractDeclarativeColDefChanges(t,n),this.processSynchronousChanges(n),this.processAsynchronousChanges(n)},t.prototype.extractDeclarativeColDefChanges=function(e,t){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var n=!!e.debug,r="columnDefs",o=this.gridOptions.columnDefs;if(c.AgGridColumn.hasChildColumns(e.children)){var i=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp(r)),s=c.AgGridColumn.mapChildColumnDefs(e.children);i.areEqual(o,s)||(n&&console.log("agGridReact: colDefs definitions changed"),t[r]={previousValue:o,currentValue:s})}else o&&o.length>0&&(t[r]={previousValue:o,currentValue:[]})}},t.prototype.extractGridPropertyChanges=function(e,t,n){var r=this,o=!!t.debug;Object.keys(t).forEach((function(i){l._.includes(l.ComponentUtil.ALL_PROPERTIES,i)&&(r.changeDetectionService.getStrategy(r.getStrategyTypeForProp(i)).areEqual(e[i],t[i])||(o&&console.log("agGridReact: ["+i+"] property changed"),n[i]={previousValue:e[i],currentValue:t[i]}))})),l.ComponentUtil.getEventCallbacks().forEach((function(i){r.props[i]!==t[i]&&(o&&console.log("agGridReact: ["+i+"] event callback changed"),n[i]={previousValue:e[i],currentValue:t[i]})}))},t.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0},t.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup},t.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering},t.prototype.processSynchronousChanges=function(e){var t=o({},e);if(Object.keys(t).length>0){var n={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach((function(e){t[e]&&(n[e]=t[e],delete t.context)})),Object.keys(n).length>0&&this.api&&l.ComponentUtil.processOnChange({context:t.context},this.gridOptions,this.api,this.columnApi)}return t},t.prototype.processAsynchronousChanges=function(e){var t=this;Object.keys(e).length>0&&window.setTimeout((function(){t.api&&l.ComponentUtil.processOnChange(e,t.gridOptions,t.api,t.columnApi)}))},t.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,t.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:t.MAX_COMPONENT_CREATION_TIME_IN_MS},t}(a.Component);function g(e,t){e.forEach((function(e){f[e]=t}))}t.AgGridReact=f,f.propTypes={gridOptions:u.object},g(l.ComponentUtil.getEventCallbacks(),u.func),g(l.ComponentUtil.BOOLEAN_PROPERTIES,u.bool),g(l.ComponentUtil.STRING_PROPERTIES,u.string),g(l.ComponentUtil.OBJECT_PROPERTIES,u.object),g(l.ComponentUtil.ARRAY_PROPERTIES,u.array),g(l.ComponentUtil.NUMBER_PROPERTIES,u.number),g(l.ComponentUtil.FUNCTION_PROPERTIES,u.func);var v=function(e){function t(t){var n=e.call(this)||this;return n.agGridReact=t,n}return r(t,e),t.prototype.createWrapper=function(e,t){return this.agGridReact.isLegacyComponentRendering()?new h.LegacyReactComponent(e,this.agGridReact,t):new d.NewReactComponent(e,this.agGridReact,t)},t}(l.BaseComponentWrapper)},function(e,t,n){"use strict";var r=n(62);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(19),s=n(29),a=n(43),u=n(44),l=n(45),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.staticMarkup=null,t.staticRenderTime=0,t}return r(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.renderStaticMarkup(e),new s.AgPromise((function(n){return t.createReactComponent(e,n)}))},t.prototype.createReactComponent=function(e,t){var n=this;this.isStatelessComponent()||(e.ref=function(e){n.componentInstance=e,n.addParentContainerStyleAndClasses(),n.removeStaticMarkup()});var r=o.createElement(this.reactComponent,e),s=i.createPortal(r,this.eParentElement,u.default());this.portal=s,this.parentComponent.mountReactPortal(s,this,(function(e){t(e),n.isStatelessComponent()&&(n.isSlowRenderer()&&n.removeStaticMarkup(),setTimeout((function(){n.removeStaticMarkup()})))}))},t.prototype.fallbackMethodAvailable=function(e){return!1},t.prototype.fallbackMethod=function(e,t){},t.prototype.isSlowRenderer=function(){return this.staticRenderTime>=t.SLOW_RENDERERING_THRESHOLD},t.prototype.isNullValue=function(){return""===this.staticMarkup},t.prototype.renderStaticMarkup=function(e){if(!(this.parentComponent.isDisableStaticMarkup()||this.componentType.isCellRenderer&&!this.componentType.isCellRenderer())){var t=console.error,n=o.createElement(this.reactComponent,e);try{console.error=function(){};var r=Date.now(),i=l.renderToStaticMarkup(n);this.staticRenderTime=Date.now()-r,console.error=t,""===i?this.staticMarkup=i:i&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=i,this.eParentElement.appendChild(this.staticMarkup))}catch(s){}finally{console.error=t}}},t.prototype.removeStaticMarkup=function(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.isCellRenderer()&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},t.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},t.SLOW_RENDERERING_THRESHOLD=3,t}(a.ReactComponent);t.LegacyReactComponent=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignProperties=function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))},t.assign=function(e,n,r){if("string"===typeof n&&(n=n.split(".")),n.length>1){var o=n.shift();t.assign(e[o]="[object Object]"===Object.prototype.toString.call(e[o])?e[o]:{},n,r)}else e[n[0]]=r}},function(e,t,n){"use strict";var r=n(32),o=n(1);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=60106,a=60107,u=60108,l=60114,c=60109,p=60110,h=60112,d=60113,f=60120,g=60115,v=60116,y=60121,m=60117,w=60119,C=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;s=E("react.portal"),a=E("react.fragment"),u=E("react.strict_mode"),l=E("react.profiler"),c=E("react.provider"),p=E("react.context"),h=E("react.forward_ref"),d=E("react.suspense"),f=E("react.suspense_list"),g=E("react.memo"),v=E("react.lazy"),y=E("react.block"),m=E("react.fundamental"),w=E("react.scope"),C=E("react.debug_trace_mode"),b=E("react.legacy_hidden")}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case a:return"Fragment";case s:return"Portal";case l:return"Profiler";case u:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case c:return(e._context.displayName||"Context")+".Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return S(e.type);case y:return S(e._render);case v:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}var O=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_={};function R(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var T=new Uint16Array(16),A=0;15>A;A++)T[A]=A+1;T[15]=0;var P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D=Object.prototype.hasOwnProperty,I={},N={};function L(e){return!!D.call(N,e)||!D.call(I,e)&&(P.test(e)?N[e]=!0:(I[e]=!0,!1))}function x(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){F[e]=new x(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];F[t]=new x(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){F[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){F[e]=new x(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){F[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){F[e]=new x(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){F[e]=new x(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){F[e]=new x(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){F[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)}));var M=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(M,k);F[t]=new x(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(M,k);F[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(M,k);F[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){F[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)})),F.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){F[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)}));var G=/["'&<>]/;function V(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=G.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}function j(e,t){var n,r=F.hasOwnProperty(e)?F[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+V(t)+'"')):L(e)?e+'="'+V(t)+'"':""}var H="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},W=null,B=null,U=null,z=!1,q=!1,K=null,Y=0;function Q(){if(null===W)throw Error(i(321));return W}function $(){if(0<Y)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function X(){return null===U?null===B?(z=!1,B=U=$()):(z=!0,U=B):null===U.next?(z=!1,U=U.next=$()):(z=!0,U=U.next),U}function J(e,t,n,r){for(;q;)q=!1,Y+=1,U=null,n=e(t,r);return Z(),n}function Z(){W=null,q=!1,B=null,Y=0,U=K=null}function ee(e,t){return"function"===typeof t?t(e):t}function te(e,t,n){if(W=Q(),U=X(),z){var r=U.queue;if(t=r.dispatch,null!==K&&void 0!==(n=K.get(r))){K.delete(r),r=U.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return U.memoizedState=r,[r,t]}return[U.memoizedState,t]}return e=e===ee?"function"===typeof t?t():t:void 0!==n?n(t):t,U.memoizedState=e,e=(e=U.queue={last:null,dispatch:null}).dispatch=re.bind(null,W,e),[U.memoizedState,e]}function ne(e,t){if(W=Q(),t=void 0===t?null:t,null!==(U=X())){var n=U.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!H(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),U.memoizedState=[e,t],e}function re(e,t,n){if(!(25>Y))throw Error(i(301));if(e===W)if(q=!0,e={action:n,next:null},null===K&&(K=new Map),void 0===(n=K.get(t)))K.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function oe(){}var ie=null,se={readContext:function(e){var t=ie.threadID;return R(e,t),e[t]},useContext:function(e){Q();var t=ie.threadID;return R(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){W=Q();var t=(U=X()).memoizedState;return null===t?(e={current:e},U.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:oe,useEffect:oe,useDebugValue:oe,useDeferredValue:function(e){return Q(),e},useTransition:function(){return Q(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(ie.identifierPrefix||"")+"R:"+(ie.uniqueID++).toString(36)},useMutableSource:function(e,t){return Q(),t(e._source)}},ae="http://www.w3.org/1999/xhtml";function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var le={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ce=r({menuitem:!0},le),pe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var de=/([A-Z])/g,fe=/^ms-/,ge=o.Children.toArray,ve=O.ReactCurrentDispatcher,ye={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,we={},Ce={};var be=Object.prototype.hasOwnProperty,Ee={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Se(e,t){if(void 0===e)throw Error(i(152,S(t)||"Component"))}function Oe(e,t,n){function s(o,s){var a=s.prototype&&s.prototype.isReactComponent,u=function(e,t,n,r){if(r&&"object"===typeof(r=e.contextType)&&null!==r)return R(r,n),r[n];if(e=e.contextTypes){for(var o in n={},e)n[o]=t[o];t=n}else t=_;return t}(s,t,n,a),l=[],c=!1,p={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){c=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}};if(a){if(a=new s(o.props,u,p),"function"===typeof s.getDerivedStateFromProps){var h=s.getDerivedStateFromProps.call(null,o.props,a.state);null!=h&&(a.state=r({},a.state,h))}}else if(W={},a=s(o.props,u,p),null==(a=J(s,o.props,a,u))||null==a.render)return void Se(e=a,s);if(a.props=o.props,a.context=u,a.updater=p,void 0===(p=a.state)&&(a.state=p=null),"function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount)if("function"===typeof a.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),l.length){p=l;var d=c;if(l=null,c=!1,d&&1===p.length)a.state=p[0];else{h=d?p[0]:a.state;var f=!0;for(d=d?1:0;d<p.length;d++){var g=p[d];null!=(g="function"===typeof g?g.call(a,h,o.props,u):g)&&(f?(f=!1,h=r({},h,g)):r(h,g))}a.state=h}}else l=null;if(Se(e=a.render(),s),"function"===typeof a.getChildContext&&"object"===typeof(o=s.childContextTypes)){var v=a.getChildContext();for(var y in v)if(!(y in o))throw Error(i(108,S(s)||"Unknown",y))}v&&(t=r({},t,v))}for(;o.isValidElement(e);){var a=e,u=a.type;if("function"!==typeof u)break;s(a,u)}return{child:e,context:t}}var _e=function(){function e(e,t,n){o.isValidElement(e)?e.type!==a?e=[e]:(e=e.props.children,e=o.isValidElement(e)?[e]:ge(e)):e=ge(e),e={type:null,domNamespace:ae,children:e,childIndex:0,context:_,footer:""};var r=T[0];if(0===r){var s=T,u=2*(r=s.length);if(!(65536>=u))throw Error(i(304));var l=new Uint16Array(u);for(l.set(s),(T=l)[0]=r+1,s=r;s<u-1;s++)T[s]=s+1;T[u-1]=0}else T[0]=T[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;T[e]=T[0],T[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;R(n,r);var o=n[r];this.contextStack[t]=n,this.contextValueStack[t]=o,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ie;ie=this;var n=ve.current;ve.current=se;try{for(var r=[""],o=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;T[s]=T[0],T[0]=s;break}var a=this.stack[this.stack.length-1];if(o||a.childIndex>=a.children.length){var u=a.footer;if(""!==u&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===c)this.popProvider(a.type);else if(a.type===d){this.suspenseDepth--;var l=r.pop();if(o){o=!1;var p=a.fallbackFrame;if(!p)throw Error(i(303));this.stack.push(p),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=u}else{var h=a.children[a.childIndex++],f="";try{f+=this.render(h,a.context,a.domNamespace)}catch(g){if(null!=g&&"function"===typeof g.then)throw Error(i(294));throw g}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{ve.current=n,ie=t,Z()}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?V(n):this.previousWasTextNode?"\x3c!-- --\x3e"+V(n):(this.previousWasTextNode=!0,V(n));if(e=(t=Oe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(i(257));throw Error(i(258,n.toString()))}return e=ge(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var y=e.type;if("string"===typeof y)return this.renderDOM(e,t,n);switch(y){case b:case C:case u:case l:case f:case a:return e=ge(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:throw Error(i(294));case w:throw Error(i(343))}if("object"===typeof y&&null!==y)switch(y.$$typeof){case h:W={};var E=y.render(e.props,e.ref);return E=J(y.render,e.props,E,e.ref),E=ge(E),this.stack.push({type:null,domNamespace:n,children:E,childIndex:0,context:t,footer:""}),"";case g:return e=[o.createElement(y.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case c:return n={type:e,domNamespace:n,children:y=ge(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:y=e.type,E=e.props;var S=this.threadID;return R(y,S),y=ge(E.children(y[S])),this.stack.push({type:e,domNamespace:n,children:y,childIndex:0,context:t,footer:""}),"";case m:throw Error(i(338));case v:return y=(E=(y=e.type)._init)(y._payload),e=[o.createElement(y,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(i(130,null==y?y:typeof y,""))},t.renderDOM=function(e,t,n){var s=e.type.toLowerCase();if(n===ae&&ue(s),!we.hasOwnProperty(s)){if(!me.test(s))throw Error(i(65,s));we[s]=!0}var a=e.props;if("input"===s)a=r({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var u=a.value;if(null==u){u=a.defaultValue;var l=a.children;if(null!=l){if(null!=u)throw Error(i(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(i(93));l=l[0]}u=""+l}null==u&&(u="")}a=r({},a,{value:void 0,children:""+u})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=r({},a,{value:void 0});else if("option"===s){l=this.currentSelectValue;var c=function(e){if(void 0===e||null===e)return e;var t="";return o.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(a.children);if(null!=l){var p=null!=a.value?a.value+"":c;if(u=!1,Array.isArray(l)){for(var h=0;h<l.length;h++)if(""+l[h]===p){u=!0;break}}else u=""+l===p;a=r({selected:void 0,children:void 0},a,{selected:u,children:c})}}if(u=a){if(ce[s]&&(null!=u.children||null!=u.dangerouslySetInnerHTML))throw Error(i(137,s));if(null!=u.dangerouslySetInnerHTML){if(null!=u.children)throw Error(i(60));if("object"!==typeof u.dangerouslySetInnerHTML||!("__html"in u.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=u.style&&"object"!==typeof u.style)throw Error(i(62))}u=a,l=this.makeStaticMarkup,c=1===this.stack.length,p="<"+e.type;e:if(-1===s.indexOf("-"))h="string"===typeof u.is;else switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":h=!1;break e;default:h=!0}for(b in u)if(be.call(u,b)){var d=u[b];if(null!=d){if("style"===b){var f=void 0,g="",v="";for(f in d)if(d.hasOwnProperty(f)){var y=0===f.indexOf("--"),m=d[f];if(null!=m){if(y)var w=f;else if(w=f,Ce.hasOwnProperty(w))w=Ce[w];else{var C=w.replace(de,"-$1").toLowerCase().replace(fe,"-ms-");w=Ce[w]=C}g+=v+w+":",v=f,g+=y=null==m||"boolean"===typeof m||""===m?"":y||"number"!==typeof m||0===m||pe.hasOwnProperty(v)&&pe[v]?(""+m).trim():m+"px",v=";"}}d=g||null}f=null,h?Ee.hasOwnProperty(b)||(f=L(f=b)&&null!=d?f+'="'+V(d)+'"':""):f=j(b,d),f&&(p+=" "+f)}}l||c&&(p+=' data-reactroot=""');var b=p;u="",le.hasOwnProperty(s)?b+="/>":(b+=">",u="</"+e.type+">");e:{if(null!=(l=a.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"===typeof(l=a.children)||"number"===typeof l){l=V(l);break e}l=null}return null!=l?(a=[],ye.hasOwnProperty(s)&&"\n"===l.charAt(0)&&(b+="\n"),b+=l):a=ge(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ue(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:t,footer:u}),this.previousWasTextNode=!1,b},e}();t.renderToNodeStream=function(){throw Error(i(207))},t.renderToStaticMarkup=function(e,t){e=new _e(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(i(208))},t.renderToString=function(e,t){e=new _e(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.2"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n(19),a=n(29),u=n(43),l=n(44),c=n(45),p=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.oldPortal=null,o.key=l.default(),o.portalKey=l.default(),o}return r(t,e),t.prototype.init=function(e){var t=this;return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new a.AgPromise((function(e){return t.createReactComponent(e)}))},t.prototype.createOrUpdatePortal=function(e){var t=this;this.isStatelessComponent()||(e.ref=function(e){t.componentInstance=e,t.addParentContainerStyleAndClasses()}),this.reactElement=i.createElement(this.reactComponent,o(o({},e),{key:this.key})),this.portal=s.createPortal(this.reactElement,this.eParentElement,this.portalKey)},t.prototype.createReactComponent=function(e){this.parentComponent.mountReactPortal(this.portal,this,(function(t){e(t)}))},t.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},t.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},t.prototype.valueRenderedIsNull=function(e){if(this.componentType.isCellRenderer&&!this.componentType.isCellRenderer())return!1;var t=console.error;try{return console.error=function(){},""===c.renderToStaticMarkup(i.createElement(this.reactComponent,e))}catch(n){}finally{console.error=t}return!1},t.prototype.refreshComponent=function(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.parentComponent.updateReactPortal(this.oldPortal,this.portal)},t.prototype.fallbackMethod=function(e,t){var n=this[e+"Component"];if(n)return n.bind(this)(t)},t.prototype.fallbackMethodAvailable=function(e){return!!this[e+"Component"]},t}(u.ReactComponent);t.NewReactComponent=p},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,s){var a=o||"<<anonymous>>",u=s||r;if(null==n[r])return t?new Error("Required "+i+" `"+u+"` was not specified in `"+a+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),p=6;p<l;p++)c[p-6]=arguments[p];return e.apply(void 0,[n,r,a,i,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},,,function(e,t,n){"use strict";var r,o=n(0),i=n(7),s=n(20),a=n(3),u=n(47),l="0.4.30",c=1e4,p="w:0.4.30",h="FIS_v2",d=36e5,f=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),g=new a.b("installations","Installations",f);function v(e){return e instanceof a.c&&e.code.includes("request-failed")}function y(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function m(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function w(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,g.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function C(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b(e,t){var n=t.refreshToken,r=C(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function E(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function S(e,t){var n=t.fid;return Object(o.b)(this,void 0,void 0,(function(){var t,r,i,s,a,u;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=y(e),r=C(e),i={fid:n,authVersion:h,appId:e.appId,sdkVersion:p},s={method:"POST",headers:r,body:JSON.stringify(i)},[4,E((function(){return fetch(t,s)}))];case 1:return(a=o.sent()).ok?[4,a.json()]:[3,3];case 2:return u=o.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:m(u.authToken)}];case 3:return[4,w("Create Installation",a)];case 4:throw o.sent()}}))}))}function O(e){return new Promise((function(t){setTimeout(t,e)}))}var _=/^[cdef][\w-]{21}$/;function R(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(o.f)([],Object(o.e)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return _.test(t)?t:""}catch(n){return""}}function T(e){return e.appName+"!"+e.appId}var A=new Map;function P(e,t){var n=T(e);D(n,t),function(e,t){var n=N();n&&n.postMessage({key:e,fid:t});L()}(n,t)}function D(e,t){var n,r,i=A.get(e);if(i)try{for(var s=Object(o.g)(i),a=s.next();!a.done;a=s.next()){(0,a.value)(t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}var I=null;function N(){return!I&&"BroadcastChannel"in self&&((I=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){D(e.data.key,e.data.fid)}),I}function L(){0===A.size&&I&&(I.close(),I=null)}var x,F="firebase-installations-store",M=null;function k(){return M||(M=Object(u.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(F)}}))),M}function G(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,i,s,a;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=T(e),[4,k()];case 1:return r=o.sent(),i=r.transaction(F,"readwrite"),[4,(s=i.objectStore(F)).get(n)];case 2:return a=o.sent(),[4,s.put(t,n)];case 3:return o.sent(),[4,i.complete];case 4:return o.sent(),a&&a.fid===t.fid||P(e,t.fid),[2,t]}}))}))}function V(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return t=T(e),[4,k()];case 1:return n=o.sent(),[4,(r=n.transaction(F,"readwrite")).objectStore(F).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function j(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,i,s,a,u;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=T(e),[4,k()];case 1:return r=o.sent(),i=r.transaction(F,"readwrite"),[4,(s=i.objectStore(F)).get(n)];case 2:return a=o.sent(),void 0!==(u=t(a))?[3,4]:[4,s.delete(n)];case 3:return o.sent(),[3,6];case 4:return[4,s.put(u,n)];case 5:o.sent(),o.label=6;case 6:return[4,i.complete];case 7:return o.sent(),!u||a&&a.fid===u.fid||P(e,u.fid),[2,u]}}))}))}function H(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(i){switch(i.label){case 0:return[4,j(e,(function(n){var r=function(e){return U(e||{fid:R(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,S(e,t)];case 1:return n=o.sent(),[2,G(e,n)];case 2:return v(r=o.sent())&&409===r.customData.serverCode?[4,V(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,G(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function W(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,i;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,B(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,O(100)];case 3:return o.sent(),[4,B(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,H(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function B(e){return j(e,(function(e){if(!e)throw g.create("installation-not-found");return U(e)}))}function U(e){return 1===(t=e).registrationStatus&&t.registrationTime+c<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function z(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(o.b)(this,void 0,void 0,(function(){var e,i,s,a,u,l,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:return e=function(e,t){var n=t.fid;return y(e)+"/"+n+"/authTokens:generate"}(n,t),i=b(n,t),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),a={installation:{sdkVersion:p}},u={method:"POST",headers:i,body:JSON.stringify(a)},[4,E((function(){return fetch(e,u)}))];case 1:return(l=o.sent()).ok?[4,l.json()]:[3,3];case 2:return c=o.sent(),[2,m(c)];case 3:return[4,w("Generate Auth Token",l)];case 4:throw o.sent()}}))}))}function q(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,(function(){var n,r,i;return Object(o.d)(this,(function(s){switch(s.label){case 0:return[4,j(e.appConfig,(function(r){if(!Y(r))throw g.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+d}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,K(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,O(100)];case 3:return o.sent(),[4,K(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,q(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw g.create("app-offline");var s=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(o.a)(Object(o.a)({},e),{authToken:t})}(r);return n=function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,i;return Object(o.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,z(e,t)];case 1:return n=s.sent(),i=Object(o.a)(Object(o.a)({},t),{authToken:n}),[4,G(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return!v(r=s.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,V(e.appConfig)];case 4:return s.sent(),[3,7];case 5:return i=Object(o.a)(Object(o.a)({},t),{authToken:{requestStatus:0}}),[4,G(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,s),s}))];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return i=s.sent(),[3,4];case 3:i=r.authToken,s.label=4;case 4:return[2,i]}}))}))}function K(e){return j(e,(function(e){if(!Y(e))throw g.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+c<Date.now()?Object(o.a)(Object(o.a)({},e),{authToken:{requestStatus:0}}):e}))}function Y(e){return void 0!==e&&2===e.registrationStatus}function Q(e){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,H(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function $(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=function(e,t){var n=t.fid;return y(e)+"/"+n}(e,t),r=b(e,t),i={method:"DELETE",headers:r},[4,E((function(){return fetch(n,i)}))];case 1:return(s=o.sent()).ok?[3,3]:[4,w("Delete Installation",s)];case 2:throw o.sent();case 3:return[2]}}))}))}function X(e,t){var n=e.appConfig;return function(e,t){N();var n=T(e),r=A.get(n);r||(r=new Set,A.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=T(e),r=A.get(n);r&&(r.delete(t),0===r.size&&A.delete(n),L())}(n,t)}}function J(e){return g.create("missing-app-config-values",{valueName:e})}(x=i.a).INTERNAL.registerComponent(new s.a("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw J("App Configuration");if(!e.name)throw J("App Name");try{for(var r=Object(o.g)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var s=i.value;if(!e.options[s])throw J(s)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,H(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):q(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(n){switch(n.label){case 0:return[4,Q(e.appConfig)];case 1:return n.sent(),[4,q(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(o.b)(this,void 0,void 0,(function(){var t,n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,j(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw g.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw g.create("app-offline");case 3:return[4,$(t,n)];case 4:return r.sent(),[4,V(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return X(n,e)}}}),"PUBLIC")),x.registerVersion("@firebase/installations",l);var Z,ee,te=n(17),ne="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Z||(Z={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(ee||(ee={}));var re,oe=new te.b("@firebase/analytics");function ie(e,t,n,r,i,s){return Object(o.b)(this,void 0,void 0,(function(){var a,u,l,c;return Object(o.d)(this,(function(o){switch(o.label){case 0:a=r[i],o.label=1;case 1:return o.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return o.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=o.sent(),(l=u.find((function(e){return e.measurementId===i})))?[4,t[l.appId]]:[3,6];case 5:o.sent(),o.label=6;case 6:return[3,8];case 7:return c=o.sent(),oe.error(c),[3,8];case 8:return e(Z.CONFIG,i,s),[2]}}))}))}function se(e,t,n,r,i){return Object(o.b)(this,void 0,void 0,(function(){var s,a,u,l,c,p,h,d;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=o.sent(),l=function(e){var n=u.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return s=[],"break";s.push(r)},c=0,p=a;c<p.length&&(h=p[c],"break"!==l(h));c++);o.label=2;case 2:return 0===s.length&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return o.sent(),e(Z.EVENT,r,i||{}),[3,5];case 4:return d=o.sent(),oe.error(d),[3,5];case 5:return[2]}}))}))}function ae(e,t,n,r,i){var s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=function(e,t,n,r){return function(i,s,a){return Object(o.b)(this,void 0,void 0,(function(){var u;return Object(o.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),i!==Z.EVENT?[3,2]:[4,se(e,t,n,s,a)];case 1:return o.sent(),[3,5];case 2:return i!==Z.CONFIG?[3,4]:[4,ie(e,t,n,r,s,a)];case 3:return o.sent(),[3,5];case 4:e(Z.SET,s),o.label=5;case 5:return[3,7];case 6:return u=o.sent(),oe.error(u),[3,7];case 7:return[2]}}))}))}}(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}var ue=((re={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",re["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",re["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",re["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",re["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",re["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",re["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",re["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',re["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',re),le=new a.b("analytics","Analytics",ue),ce=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function pe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function he(e){var t;return Object(o.b)(this,void 0,void 0,(function(){var n,r,i,s,a,u,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:pe(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(s,i)];case 1:if(200===(a=o.sent()).status||304===a.status)return[3,6];u="",o.label=2;case 2:return o.trys.push([2,4,,5]),[4,a.json()];case 3:return l=o.sent(),(null===(t=l.error)||void 0===t?void 0:t.message)&&(u=l.error.message),[3,5];case 4:return o.sent(),[3,5];case 5:throw le.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}}))}))}function de(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return void 0===r&&(r=ce),Object(o.b)(this,void 0,void 0,(function(){var t,u,l,c,p,h,d;return Object(o.d)(this,(function(o){switch(o.label){case 0:t=e.appId,u=e.measurementId,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fe(n,i)];case 2:return o.sent(),[3,4];case 3:if(l=o.sent(),u)return oe.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:u}];throw l;case 4:return o.trys.push([4,6,,7]),[4,he(e)];case 5:return c=o.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof a.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(p=o.sent())){if(r.deleteThrottleMetadata(t),u)return oe.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]"),[2,{appId:t,measurementId:u}];throw p}return h=503===Number(p.customData.httpStatus)?Object(a.e)(s,r.intervalMillis,30):Object(a.e)(s,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:s+1},r.setThrottleMetadata(t,d),oe.debug("Calling attemptFetch again in "+h+" millis"),[2,de(e,d,n,r)];case 7:return[2]}}))}))}function fe(e,t){return new Promise((function(n,r){var o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener((function(){clearTimeout(i),r(le.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ge=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function ve(e,t,n,r,i,s){return Object(o.b)(this,void 0,void 0,(function(){var u,l,c,p,h,d,f;return Object(o.d)(this,(function(g){switch(g.label){case 0:return(u=function(e,t,n){return void 0===t&&(t=ce),Object(o.b)(this,void 0,void 0,(function(){var r,i,s,a,u,l,c=this;return Object(o.d)(this,(function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw le.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw le.create("no-api-key")}return u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new ge,setTimeout((function(){return Object(o.b)(c,void 0,void 0,(function(){return Object(o.d)(this,(function(e){return l.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,de({appId:i,apiKey:s,measurementId:a},u,l,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&oe.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return oe.error(e)})),t.push(u),l=function(){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.d)(this,(function(t){switch(t.label){case 0:return Object(a.q)()?[3,1]:(oe.warn(le.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(a.v)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),oe.warn(le.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([u,l])];case 1:return c=g.sent(),p=c[0],h=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ne))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=ne+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(s,p.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,d=f,null!=h&&(d.firebase_id=h),i(Z.CONFIG,p.measurementId,d),[2,p.measurementId]}}))}))}var ye,me,we={},Ce=[],be={},Ee="dataLayer",Se="gtag",Oe=!1;function _e(e){if(Oe)throw le.create("already-initialized");e.dataLayerName&&(Ee=e.dataLayerName),e.gtagName&&(Se=e.gtagName)}function Re(e,t){!function(){var e=[];if(Object(a.n)()&&e.push("This is a browser extension environment."),Object(a.d)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=le.create("invalid-analytics-context",{errorInfo:t});oe.warn(n.message)}}();var n=e.options.appId;if(!n)throw le.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw le.create("no-api-key");oe.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=we[n])throw le.create("already-exists",{id:n});if(!Oe){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ee);var r=ae(we,Ce,be,Ee,Se),i=r.wrappedGtag,s=r.gtagCore;me=i,ye=s,Oe=!0}return we[n]=ve(e,Ce,be,t,ye,Ee),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return Object(o.b)(this,void 0,void 0,(function(){var s,a;return Object(o.d)(this,(function(u){switch(u.label){case 0:return i&&i.global?(e(Z.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=u.sent(),a=Object(o.a)(Object(o.a)({},r),{send_to:s}),e(Z.EVENT,n,a),u.label=3;case 3:return[2]}}))}))})(me,we[n],e,t,r).catch((function(e){return oe.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var i;return Object(o.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Z.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Z.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(me,we[n],e,t).catch((function(e){return oe.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var i;return Object(o.d)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Z.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Z.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(me,we[n],e,t).catch((function(e){return oe.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(o.b)(this,void 0,void 0,(function(){var i,s,a,u,l;return Object(o.d)(this,(function(o){switch(o.label){case 0:if(!r||!r.global)return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)u=a[s],i["user_properties."+u]=n[u];return e(Z.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=o.sent(),e(Z.CONFIG,l,{update:!0,user_properties:n}),o.label=3;case 3:return[2]}}))}))})(me,we[n],e,t).catch((function(e){return oe.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(we[n],e).catch((function(e){return oe.error(e)}))},INTERNAL:{delete:function(){return delete we[n],Promise.resolve()}}}}var Te="analytics";function Ae(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.d)(this,(function(e){switch(e.label){case 0:if(Object(a.n)())return[2,!1];if(!Object(a.d)())return[2,!1];if(!Object(a.q)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(a.v)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new s.a(Te,(function(e){return Re(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:_e,EventName:ee,isSupported:Ae})),e.INTERNAL.registerComponent(new s.a("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Te).getImmediate().logEvent}}catch(t){throw le.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.14")}(i.a)},,,function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n.n(i),a=n(1),u=n.n(a),l=n(11),c=["xl","lg","md","sm","xs"],p=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.noGutters,p=e.as,h=void 0===p?"div":p,d=Object(o.a)(e,["bsPrefix","className","noGutters","as"]),f=Object(l.a)(n,"row"),g=f+"-cols",v=[];return c.forEach((function(e){var t,n=d[e];delete d[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&v.push(""+g+r+"-"+t)})),u.a.createElement(h,Object(r.a)({ref:t},d,{className:s.a.apply(void 0,[i,f,a&&"no-gutters"].concat(v))}))}));p.displayName="Row",p.defaultProps={noGutters:!1},t.a=p},function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n.n(i),a=!("undefined"===typeof window||!window.document||!window.document.createElement),u=!1,l=!1;try{var c={get passive(){return u=!0},get once(){return l=u=!0}};a&&(window.addEventListener("test",c,c),window.removeEventListener("test",c,!0))}catch(He){}var p=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!l){var o=r.once,i=r.capture,s=n;!l&&o&&(s=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=s),e.addEventListener(t,s,u?r:i)}e.addEventListener(t,n,r)};function h(e){return e&&e.ownerDocument||document}var d,f=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};function g(e){if((!d&&0!==d||e)&&a){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),d=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d}var v=n(1),y=n.n(v);var m=n(21),w=n(36);function C(e,t){return function(e){var t=h(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var b=/([A-Z])/g;var E=/^ms-/;function S(e){return function(e){return e.replace(b,"-$1").toLowerCase()}(e).replace(E,"-ms-")}var O=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var _=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(S(t))||C(e).getPropertyValue(S(t));Object.keys(t).forEach((function(o){var i=t[o];i||0===i?!function(e){return!(!e||!O.test(e))}(o)?n+=S(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(S(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var R=function(e,t,n,r){return p(e,t,n,r),function(){f(e,t,n,r)}};function T(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),i=R(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),i()}}function A(e,t,n,r){null==n&&(n=function(e){var t=_(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=T(e,n,r),i=R(e,"transitionend",t);return function(){o(),i()}}function P(e){void 0===e&&(e=h());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(He){return e.body}}function D(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var I=n(10),N=n.n(I),L=n(19),x=n.n(L),F=n(49);function M(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function k(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function G(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=k(e.className,t):e.setAttribute("class",k(e.className&&e.className.baseVal||"",t))}function V(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function j(e){var t;return V(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=V(e)?h():h(e),n=V(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var H=["template","script","style"],W=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===H.indexOf(n.toLowerCase())}(e)&&n(e)}))};function B(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var U,z=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,o=t.handleContainerOverflow,i=void 0===o||o;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=i,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=g()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(_(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),_(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;W(e,[n,r],(function(e){return B(!0,e)}))}(t,e),-1!==o)return this.data[o].modals.push(e),r;var i={modals:[e],classes:n?n.split(/\s+/):[],overflowing:j(t)};return this.handleContainerOverflow&&this.setContainerStyle(i,t),i.classes.forEach(M.bind(null,t)),this.containers.push(t),this.data.push(i),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],o=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(G.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(r,o),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;W(e,[n,r],(function(e){return B(!1,e)}))}(o,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var i=r.modals[r.modals.length-1],s=i.backdrop;B(!1,i.dialog),B(!1,s)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),q=function(e){var t;return"undefined"===typeof document?null:null==e?h().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function K(e){var t=e||(U||(U=new z),U),n=Object(v.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(e,r){return t.add(n.current,e,r)},remove:function(){return t.remove(n.current)},isTopModal:function(){return t.isTopModal(n.current)},setDialogRef:Object(v.useCallback)((function(e){n.current.dialog=e}),[]),setBackdropRef:Object(v.useCallback)((function(e){n.current.backdrop=e}),[])})}var Y=Object(v.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,s=e.role,u=void 0===s?"dialog":s,l=e.className,c=e.style,p=e.children,h=e.backdrop,d=void 0===h||h,f=e.keyboard,g=void 0===f||f,C=e.onBackdropClick,b=e.onEscapeKeyDown,E=e.transition,S=e.backdropTransition,O=e.autoFocus,_=void 0===O||O,T=e.enforceFocus,A=void 0===T||T,I=e.restoreFocus,N=void 0===I||I,L=e.restoreFocusOptions,M=e.renderDialog,k=e.renderBackdrop,G=void 0===k?function(e){return y.a.createElement("div",e)}:k,V=e.manager,j=e.container,H=e.containerClassName,W=e.onShow,B=e.onHide,U=void 0===B?function(){}:B,z=e.onExit,Y=e.onExited,Q=e.onExiting,$=e.onEnter,X=e.onEntering,J=e.onEntered,Z=Object(o.a)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),ee=function(e,t){var n=Object(v.useState)((function(){return q(e)})),r=n[0],o=n[1];if(!r){var i=q(e);i&&o(i)}return Object(v.useEffect)((function(){t&&r&&t(r)}),[t,r]),Object(v.useEffect)((function(){var t=q(e);t!==r&&o(t)}),[e,r]),r}(j),te=K(V),ne=Object(F.a)(),re=function(e){var t=Object(v.useRef)(null);return Object(v.useEffect)((function(){t.current=e})),t.current}(i),oe=Object(v.useState)(!i),ie=oe[0],se=oe[1],ae=Object(v.useRef)(null);Object(v.useImperativeHandle)(t,(function(){return te}),[te]),a&&!re&&i&&(ae.current=P()),E||i||ie?i&&ie&&se(!1):se(!0);var ue=Object(m.a)((function(){if(te.add(ee,H),fe.current=R(document,"keydown",he),de.current=R(document,"focus",(function(){return setTimeout(ce)}),!0),W&&W(),_){var e=P(document);te.dialog&&e&&!D(te.dialog,e)&&(ae.current=e,te.dialog.focus())}})),le=Object(m.a)((function(){var e;(te.remove(),null==fe.current||fe.current(),null==de.current||de.current(),N)&&(null==(e=ae.current)||null==e.focus||e.focus(L),ae.current=null)}));Object(v.useEffect)((function(){i&&ee&&ue()}),[i,ee,ue]),Object(v.useEffect)((function(){ie&&le()}),[ie,le]),Object(w.a)((function(){le()}));var ce=Object(m.a)((function(){if(A&&ne()&&te.isTopModal()){var e=P();te.dialog&&e&&!D(te.dialog,e)&&te.dialog.focus()}})),pe=Object(m.a)((function(e){e.target===e.currentTarget&&(null==C||C(e),!0===d&&U())})),he=Object(m.a)((function(e){g&&27===e.keyCode&&te.isTopModal()&&(null==b||b(e),e.defaultPrevented||U())})),de=Object(v.useRef)(),fe=Object(v.useRef)(),ge=E;if(!ee||!(i||ge&&!ie))return null;var ve=Object(r.a)({role:u,ref:te.setDialogRef,"aria-modal":"dialog"===u||void 0},Z,{style:c,className:l,tabIndex:-1}),ye=M?M(ve):y.a.createElement("div",ve,y.a.cloneElement(p,{role:"document"}));ge&&(ye=y.a.createElement(ge,{appear:!0,unmountOnExit:!0,in:!!i,onExit:z,onExiting:Q,onExited:function(){se(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==Y||Y.apply(void 0,t)},onEnter:$,onEntering:X,onEntered:J},ye));var me=null;if(d){var we=S;me=G({ref:te.setBackdropRef,onClick:pe}),we&&(me=y.a.createElement(we,{appear:!0,in:!!i},me))}return y.a.createElement(y.a.Fragment,null,x.a.createPortal(y.a.createElement(y.a.Fragment,null,me,ye),ee))})),Q={show:N.a.bool,container:N.a.any,onShow:N.a.func,onHide:N.a.func,backdrop:N.a.oneOfType([N.a.bool,N.a.oneOf(["static"])]),renderDialog:N.a.func,renderBackdrop:N.a.func,onEscapeKeyDown:N.a.func,onBackdropClick:N.a.func,containerClassName:N.a.string,keyboard:N.a.bool,transition:N.a.elementType,backdropTransition:N.a.elementType,autoFocus:N.a.bool,enforceFocus:N.a.bool,restoreFocus:N.a.bool,restoreFocusOptions:N.a.shape({preventScroll:N.a.bool}),onEnter:N.a.func,onEntering:N.a.func,onEntered:N.a.func,onExit:N.a.func,onExiting:N.a.func,onExited:N.a.func,manager:N.a.instanceOf(z)};Y.displayName="Modal",Y.propTypes=Q;var $=Object.assign(Y,{Manager:z}),X=(n(38),n(50)),J=Function.prototype.bind.call(Function.prototype.call,[].slice);function Z(e,t){return J(e.querySelectorAll(t))}var ee=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",te=".sticky-top",ne=".navbar-toggler",re=function(e){function t(){return e.apply(this,arguments)||this}Object(X.a)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,o=t.style[e];t.dataset[e]=o,_(t,((r={})[e]=parseFloat(_(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],_(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var o=g();Z(n,ee).forEach((function(e){return r.adjustAndStore("paddingRight",e,o)})),Z(n,te).forEach((function(e){return r.adjustAndStore("marginRight",e,-o)})),Z(n,ne).forEach((function(e){return r.adjustAndStore("marginRight",e,o)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),Z(n,ee).forEach((function(e){return r.restore("paddingRight",e)})),Z(n,te).forEach((function(e){return r.restore("marginRight",e)})),Z(n,ne).forEach((function(e){return r.restore("marginRight",e)}))},t}(z);function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=!1,se=y.a.createContext(null),ae="unmounted",ue="exited",le="entering",ce="entered",pe="exiting",he=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=ue,r.appearStatus=le):o=ce:o=t.unmountOnExit||t.mountOnEnter?ae:ue,r.state={status:o},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,oe(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ae?{status:ue}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==le&&n!==ce&&(t=le):n!==le&&n!==ce||(t=pe)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===le?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ue&&this.setState({status:ae})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[x.a.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),u=r?a.appear:a.enter;!e&&!n||ie?this.safeSetState({status:ce},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:le},(function(){t.props.onEntering(i,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:ce},(function(){t.props.onEntered(i,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:x.a.findDOMNode(this);t&&!ie?(this.props.onExit(r),this.safeSetState({status:pe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ue},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ue},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:x.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===ae)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return y.a.createElement(se.Provider,{value:null},"function"===typeof n?n(e,r):y.a.cloneElement(y.a.Children.only(n),r))},r}(y.a.Component);function de(){}he.contextType=se,he.propTypes={},he.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:de,onEntering:de,onEntered:de,onExit:de,onExiting:de,onExited:de},he.UNMOUNTED=ae,he.EXITED=ue,he.ENTERING=le,he.ENTERED=ce,he.EXITING=pe;var fe,ge=he;function ve(e,t){var n=_(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ye(e,t){var n=ve(e,"transitionDuration"),r=ve(e,"transitionDelay"),o=A(e,(function(n){n.target===e&&(o(),t(n))}),n+r)}var me=((fe={}).entering="show",fe.entered="show",fe),we=y.a.forwardRef((function(e,t){var n=e.className,i=e.children,a=Object(o.a)(e,["className","children"]),u=Object(v.useCallback)((function(e){!function(e){e.offsetHeight}(e),a.onEnter&&a.onEnter(e)}),[a]);return y.a.createElement(ge,Object(r.a)({ref:t,addEndListener:ye},a,{onEnter:u}),(function(e,t){return y.a.cloneElement(i,Object(r.a)({},t,{className:s()("fade",n,i.props.className,me[e])}))}))}));we.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},we.displayName="Fade";var Ce=we,be=n(23),Ee=Object(be.a)("modal-body"),Se=y.a.createContext({onHide:function(){}}),Oe=n(11),_e=y.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.contentClassName,u=e.centered,l=e.size,c=e.children,p=e.scrollable,h=Object(o.a)(e,["bsPrefix","className","contentClassName","centered","size","children","scrollable"]),d=(n=Object(Oe.a)(n,"modal"))+"-dialog";return y.a.createElement("div",Object(r.a)({},h,{ref:t,className:s()(d,i,l&&n+"-"+l,u&&d+"-centered",p&&d+"-scrollable")}),y.a.createElement("div",{className:s()(n+"-content",a)},c))}));_e.displayName="ModalDialog";var Re=_e,Te=Object(be.a)("modal-footer"),Ae={label:N.a.string.isRequired,onClick:N.a.func},Pe=y.a.forwardRef((function(e,t){var n=e.label,i=e.onClick,a=e.className,u=Object(o.a)(e,["label","onClick","className"]);return y.a.createElement("button",Object(r.a)({ref:t,type:"button",className:s()("close",a),onClick:i},u),y.a.createElement("span",{"aria-hidden":"true"},"\xd7"),y.a.createElement("span",{className:"sr-only"},n))}));Pe.displayName="CloseButton",Pe.propTypes=Ae,Pe.defaultProps={label:"Close"};var De=Pe,Ie=y.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.closeLabel,a=e.closeButton,u=e.onHide,l=e.className,c=e.children,p=Object(o.a)(e,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);n=Object(Oe.a)(n,"modal-header");var h=Object(v.useContext)(Se),d=Object(m.a)((function(){h&&h.onHide(),u&&u()}));return y.a.createElement("div",Object(r.a)({ref:t},p,{className:s()(l,n)}),c,a&&y.a.createElement(De,{label:i,onClick:d}))}));Ie.displayName="ModalHeader",Ie.defaultProps={closeLabel:"Close",closeButton:!1};var Ne,Le,xe=Ie,Fe=(Ne="h4",y.a.forwardRef((function(e,t){return y.a.createElement("div",Object(r.a)({},e,{ref:t,className:s()(e.className,Ne)}))}))),Me=Object(be.a)("modal-title",{Component:Fe}),ke={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Re};function Ge(e){return y.a.createElement(Ce,e)}function Ve(e){return y.a.createElement(Ce,e)}var je=y.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.style,l=e.dialogClassName,c=e.contentClassName,d=e.children,C=e.dialogAs,b=e["aria-labelledby"],E=e.show,S=e.animation,O=e.backdrop,_=e.keyboard,R=e.onEscapeKeyDown,T=e.onShow,P=e.onHide,D=e.container,I=e.autoFocus,N=e.enforceFocus,L=e.restoreFocus,x=e.restoreFocusOptions,F=e.onEntered,M=e.onExit,k=e.onExiting,G=e.onEnter,V=e.onEntering,j=e.onExited,H=e.backdropClassName,W=e.manager,B=Object(o.a)(e,["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),U=Object(v.useState)({}),z=U[0],q=U[1],K=Object(v.useState)(!1),Y=K[0],Q=K[1],X=Object(v.useRef)(!1),J=Object(v.useRef)(!1),Z=Object(v.useRef)(null),ee=Object(v.useState)(null),te=ee[0],ne=ee[1],oe=Object(m.a)(P);n=Object(Oe.a)(n,"modal"),Object(v.useImperativeHandle)(t,(function(){return{get _modal(){return te}}}),[te]);var ie=Object(v.useMemo)((function(){return{onHide:oe}}),[oe]);function se(){return W||(Le||(Le=new re),Le)}function ae(e){if(a){var t=se().isContainerOverflowing(te),n=e.scrollHeight>h(e).documentElement.clientHeight;q({paddingRight:t&&!n?g():void 0,paddingLeft:!t&&n?g():void 0})}}var ue=Object(m.a)((function(){te&&ae(te.dialog)}));Object(w.a)((function(){f(window,"resize",ue),Z.current&&Z.current()}));var le=function(){X.current=!0},ce=function(e){X.current&&te&&e.target===te.dialog&&(J.current=!0),X.current=!1},pe=function(){Q(!0),Z.current=A(te.dialog,(function(){Q(!1)}))},he=function(e){"static"!==O?J.current||e.target!==e.currentTarget?J.current=!1:P():function(e){e.target===e.currentTarget&&pe()}(e)},de=Object(v.useCallback)((function(e){return y.a.createElement("div",Object(r.a)({},e,{className:s()(n+"-backdrop",H,!S&&"show")}))}),[S,H,n]),fe=Object(r.a)({},u,z);S||(fe.display="block");return y.a.createElement(Se.Provider,{value:ie},y.a.createElement($,{show:E,ref:ne,backdrop:O,container:D,keyboard:!0,autoFocus:I,enforceFocus:N,restoreFocus:L,restoreFocusOptions:x,onEscapeKeyDown:function(e){_||"static"!==O?_&&R&&R(e):(e.preventDefault(),pe())},onShow:T,onHide:P,onEnter:function(e){e&&(e.style.display="block",ae(e));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];G&&G.apply(void 0,[e].concat(n))},onEntering:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];V&&V.apply(void 0,[e].concat(n)),p(window,"resize",ue)},onEntered:F,onExit:function(e){Z.current&&Z.current();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];M&&M.apply(void 0,[e].concat(n))},onExiting:k,onExited:function(e){e&&(e.style.display="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];j&&j.apply(void 0,n),f(window,"resize",ue)},manager:se(),containerClassName:n+"-open",transition:S?Ge:void 0,backdropTransition:S?Ve:void 0,renderBackdrop:de,renderDialog:function(e){return y.a.createElement("div",Object(r.a)({role:"dialog"},e,{style:fe,className:s()(i,n,Y&&n+"-static"),onClick:O?he:void 0,onMouseUp:ce,"aria-labelledby":b}),y.a.createElement(C,Object(r.a)({},B,{onMouseDown:le,className:l,contentClassName:c}),d))}}))}));je.displayName="Modal",je.defaultProps=ke,je.Body=Ee,je.Header=xe,je.Title=Me,je.Footer=Te,je.Dialog=Re,je.TRANSITION_DURATION=300,je.BACKDROP_TRANSITION_DURATION=150;t.a=je},function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n.n(i),a=n(1),u=n.n(a),l=(n(39),n(10)),c=n.n(l),p={type:c.a.string,tooltip:c.a.bool,as:c.a.elementType},h=u.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"div":n,a=e.className,l=e.type,c=void 0===l?"valid":l,p=e.tooltip,h=void 0!==p&&p,d=Object(o.a)(e,["as","className","type","tooltip"]);return u.a.createElement(i,Object(r.a)({},d,{ref:t,className:s()(a,c+"-"+(h?"tooltip":"feedback"))}))}));h.displayName="Feedback",h.propTypes=p;var d=h,f=u.a.createContext({controlId:void 0}),g=n(11),v=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,p=e.type,h=void 0===p?"checkbox":p,d=e.isValid,v=void 0!==d&&d,y=e.isInvalid,m=void 0!==y&&y,w=e.isStatic,C=e.as,b=void 0===C?"input":C,E=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),S=Object(a.useContext)(f),O=S.controlId,_=S.custom?[l,"custom-control-input"]:[i,"form-check-input"],R=_[0],T=_[1];return i=Object(g.a)(R,T),u.a.createElement(b,Object(r.a)({},E,{ref:t,type:h,id:n||O,className:s()(c,i,v&&"is-valid",m&&"is-invalid",w&&"position-static")}))}));v.displayName="FormCheckInput";var y=v,m=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,l=e.className,c=e.htmlFor,p=Object(o.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),h=Object(a.useContext)(f),d=h.controlId,v=h.custom?[i,"custom-control-label"]:[n,"form-check-label"],y=v[0],m=v[1];return n=Object(g.a)(y,m),u.a.createElement("label",Object(r.a)({},p,{ref:t,htmlFor:c||d,className:s()(l,n)}))}));m.displayName="FormCheckLabel";var w=m,C=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,l=e.bsCustomPrefix,c=e.inline,p=void 0!==c&&c,h=e.disabled,v=void 0!==h&&h,m=e.isValid,C=void 0!==m&&m,b=e.isInvalid,E=void 0!==b&&b,S=e.feedbackTooltip,O=void 0!==S&&S,_=e.feedback,R=e.className,T=e.style,A=e.title,P=void 0===A?"":A,D=e.type,I=void 0===D?"checkbox":D,N=e.label,L=e.children,x=e.custom,F=e.as,M=void 0===F?"input":F,k=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),G="switch"===I||x,V=G?[l,"custom-control"]:[i,"form-check"],j=V[0],H=V[1];i=Object(g.a)(j,H);var W=Object(a.useContext)(f).controlId,B=Object(a.useMemo)((function(){return{controlId:n||W,custom:G}}),[W,G,n]),U=G||null!=N&&!1!==N&&!L,z=u.a.createElement(y,Object(r.a)({},k,{type:"switch"===I?"checkbox":I,ref:t,isValid:C,isInvalid:E,isStatic:!U,disabled:v,as:M}));return u.a.createElement(f.Provider,{value:B},u.a.createElement("div",{style:T,className:s()(R,i,G&&"custom-"+I,p&&i+"-inline")},L||u.a.createElement(u.a.Fragment,null,z,U&&u.a.createElement(w,{title:P},N),(C||E)&&u.a.createElement(d,{type:C?"valid":"invalid",tooltip:O},_))))}));C.displayName="FormCheck",C.Input=y,C.Label=w;var b=C,E=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,p=e.isValid,h=e.isInvalid,d=e.lang,v=e.as,y=void 0===v?"input":v,m=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),w=Object(a.useContext)(f),C=w.controlId,b=w.custom?[l,"custom-file-input"]:[i,"form-control-file"],E=b[0],S=b[1];return i=Object(g.a)(E,S),u.a.createElement(y,Object(r.a)({},m,{ref:t,id:n||C,type:"file",lang:d,className:s()(c,i,p&&"is-valid",h&&"is-invalid")}))}));E.displayName="FormFileInput";var S=E,O=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.bsCustomPrefix,l=e.className,c=e.htmlFor,p=Object(o.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),h=Object(a.useContext)(f),d=h.controlId,v=h.custom?[i,"custom-file-label"]:[n,"form-file-label"],y=v[0],m=v[1];return n=Object(g.a)(y,m),u.a.createElement("label",Object(r.a)({},p,{ref:t,htmlFor:c||d,className:s()(l,n),"data-browse":p["data-browse"]}))}));O.displayName="FormFileLabel";var _=O,R=u.a.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,l=e.bsCustomPrefix,c=e.disabled,p=void 0!==c&&c,h=e.isValid,v=void 0!==h&&h,y=e.isInvalid,m=void 0!==y&&y,w=e.feedbackTooltip,C=void 0!==w&&w,b=e.feedback,E=e.className,O=e.style,R=e.label,T=e.children,A=e.custom,P=e.lang,D=e["data-browse"],I=e.as,N=void 0===I?"div":I,L=e.inputAs,x=void 0===L?"input":L,F=Object(o.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),M=A?[l,"custom"]:[i,"form-file"],k=M[0],G=M[1];i=Object(g.a)(k,G);var V=Object(a.useContext)(f).controlId,j=Object(a.useMemo)((function(){return{controlId:n||V,custom:A}}),[V,A,n]),H=null!=R&&!1!==R&&!T,W=u.a.createElement(S,Object(r.a)({},F,{ref:t,isValid:v,isInvalid:m,disabled:p,as:x,lang:P}));return u.a.createElement(f.Provider,{value:j},u.a.createElement(N,{style:O,className:s()(E,i,A&&"custom-file")},T||u.a.createElement(u.a.Fragment,null,A?u.a.createElement(u.a.Fragment,null,W,H&&u.a.createElement(_,{"data-browse":D},R)):u.a.createElement(u.a.Fragment,null,H&&u.a.createElement(_,null,R),W),(v||m)&&u.a.createElement(d,{type:v?"valid":"invalid",tooltip:C},b))))}));R.displayName="FormFile",R.Input=S,R.Label=_;var T=R,A=(n(38),u.a.forwardRef((function(e,t){var n,i,l=e.bsPrefix,c=e.bsCustomPrefix,p=e.type,h=e.size,d=e.htmlSize,v=e.id,y=e.className,m=e.isValid,w=void 0!==m&&m,C=e.isInvalid,b=void 0!==C&&C,E=e.plaintext,S=e.readOnly,O=e.custom,_=e.as,R=void 0===_?"input":_,T=Object(o.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),A=Object(a.useContext)(f).controlId,P=O?[c,"custom"]:[l,"form-control"],D=P[0],I=P[1];if(l=Object(g.a)(D,I),E)(i={})[l+"-plaintext"]=!0,n=i;else if("file"===p){var N;(N={})[l+"-file"]=!0,n=N}else if("range"===p){var L;(L={})[l+"-range"]=!0,n=L}else if("select"===R&&O){var x;(x={})[l+"-select"]=!0,x[l+"-select-"+h]=h,n=x}else{var F;(F={})[l]=!0,F[l+"-"+h]=h,n=F}return u.a.createElement(R,Object(r.a)({},T,{type:p,size:d,ref:t,readOnly:S,id:v||A,className:s()(y,n,w&&"is-valid",b&&"is-invalid")}))})));A.displayName="FormControl";var P=Object.assign(A,{Feedback:d}),D=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,l=e.children,c=e.controlId,p=e.as,h=void 0===p?"div":p,d=Object(o.a)(e,["bsPrefix","className","children","controlId","as"]);n=Object(g.a)(n,"form-group");var v=Object(a.useMemo)((function(){return{controlId:c}}),[c]);return u.a.createElement(f.Provider,{value:v},u.a.createElement(h,Object(r.a)({},d,{ref:t,className:s()(i,n)}),l))}));D.displayName="FormGroup";var I=D,N=n(48),L=u.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,l=e.bsPrefix,c=e.column,p=e.srOnly,h=e.className,d=e.htmlFor,v=Object(o.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),y=Object(a.useContext)(f).controlId;l=Object(g.a)(l,"form-label");var m="col-form-label";"string"===typeof c&&(m=m+" "+m+"-"+c);var w=s()(h,l,p&&"sr-only",c&&m);return d=d||y,c?u.a.createElement(N.a,Object(r.a)({as:"label",className:w,htmlFor:d},v)):u.a.createElement(i,Object(r.a)({ref:t,className:w,htmlFor:d},v))}));L.displayName="FormLabel",L.defaultProps={column:!1,srOnly:!1};var x=L,F=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,l=void 0===a?"small":a,c=e.muted,p=Object(o.a)(e,["bsPrefix","className","as","muted"]);return n=Object(g.a)(n,"form-text"),u.a.createElement(l,Object(r.a)({},p,{ref:t,className:s()(i,n,c&&"text-muted")}))}));F.displayName="FormText";var M=F,k=u.a.forwardRef((function(e,t){return u.a.createElement(b,Object(r.a)({},e,{ref:t,type:"switch"}))}));k.displayName="Switch",k.Input=b.Input,k.Label=b.Label;var G=k,V=n(23),j=Object(V.a)("form-row"),H=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.inline,a=e.className,l=e.validated,c=e.as,p=void 0===c?"form":c,h=Object(o.a)(e,["bsPrefix","inline","className","validated","as"]);return n=Object(g.a)(n,"form"),u.a.createElement(p,Object(r.a)({},h,{ref:t,className:s()(a,l&&"was-validated",i&&n+"-inline")}))}));H.displayName="Form",H.defaultProps={inline:!1},H.Row=j,H.Group=I,H.Control=P,H.Check=b,H.File=T,H.Switch=G,H.Label=x,H.Text=M;t.a=H},function(e,t,n){"use strict";var r,o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"===typeof e&&s.test(e)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return c(r)}},function(e,t,n){"use strict";var r=n(4),o=n(9),i=n(8),s=n.n(i),a=n(1),u=n.n(a),l=n(11);var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)};function p(e){return!e||"#"===e.trim()}var h=u.a.forwardRef((function(e,t){var n=e.as,i=void 0===n?"a":n,s=e.disabled,a=e.onKeyDown,l=Object(o.a)(e,["as","disabled","onKeyDown"]),h=function(e){var t=l.href,n=l.onClick;(s||p(t))&&e.preventDefault(),s?e.stopPropagation():n&&n(e)};return p(l.href)&&(l.role=l.role||"button",l.href=l.href||"#"),s&&(l.tabIndex=-1,l["aria-disabled"]=!0),u.a.createElement(i,Object(r.a)({ref:t},l,{onClick:h,onKeyDown:c((function(e){" "===e.key&&(e.preventDefault(),h(e))}),a)}))}));h.displayName="SafeAnchor";var d=h,f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,i=e.variant,a=e.size,c=e.active,p=e.className,h=e.block,f=e.type,g=e.as,v=Object(o.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),y=Object(l.a)(n,"btn"),m=s()(p,y,c&&"active",i&&y+"-"+i,h&&y+"-block",a&&y+"-"+a);if(v.href)return u.a.createElement(d,Object(r.a)({},v,{as:g,ref:t,className:s()(m,v.disabled&&"disabled")}));t&&(v.ref=t),f?v.type=f:g||(v.type="button");var w=g||"button";return u.a.createElement(w,Object(r.a)({},v,{className:m}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1};t.a=f}]]);
//# sourceMappingURL=2.033da42f.chunk.js.map